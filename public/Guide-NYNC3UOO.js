import{a as l_}from"./chunk-3BP7PR7W.js";import{$ as qu,$a as Jg,A as No,Aa as Zu,B as wg,Ba as Bg,C as Ol,Ca as Hi,D as bg,Da as Me,E as Wn,Ea as Ug,F as Uu,Fa as Gg,G as yg,Ga as Ju,H as _g,Ha as Bi,I as xg,Ia as Kg,J as It,Ja as Wg,K as Yn,Ka as Yg,L as Pg,La as $u,M as Eg,Ma as qg,N as Al,Na as Qg,O as Gu,Oa as Xg,P as gn,Q as Sg,R as Ku,S as Cg,U as Wu,Ua as f_,Va as m_,X as Nt,Y as Yu,Z as kg,_ as Rg,_a as Zg,a as Io,aa as Pr,ab as $g,b as Vi,ba as Dl,c as h_,ca as Mg,d as Xr,e as Zr,eb as e0,f as ig,fa as Qu,g as sg,ga as Tg,h as Ml,ha as Lg,i as lg,ia as zl,j as ag,ja as Og,k as Tl,ka as Ag,l as ug,la as Xu,m as cg,ma as jl,n as pg,na as Fi,o as dg,oa as Dg,p as ct,pa as eo,q as hg,qa as zg,r as Bu,ra as jg,s as he,sa as Ig,t as fg,ta as Vo,u as Ll,ua as Ng,v as Jr,va as Vg,w as mg,wa as Fo,x as vg,xa as Fg,y as gg,z as $r,za as Hg}from"./chunk-GWFA6WB7.js";import{N as p_,T as d_,V as ng,a as Se,ba as Cl,c as a_,ea as rg,f as St,fa as kl,g as tg,h as Ii,j as te,ka as og,la as Rl,na as Xe,oa as Ie,p as Ni,r as u_,s as c_}from"./chunk-5L6A3GNF.js";import{a as s,c as xr,e as j}from"./chunk-NVZUP5ZV.js";var Uw=xr(mo=>{"use strict";mo.ConcurrentRoot=1;mo.ContinuousEventPriority=4;mo.DefaultEventPriority=16;mo.DiscreteEventPriority=1;mo.IdleEventPriority=536870912;mo.LegacyRoot=0});var Tf=xr((v2,Gw)=>{"use strict";Gw.exports=Uw()});var lb=xr(Ae=>{"use strict";function Df(r,e){var t=r.length;r.push(e);e:for(;0<t;){var i=t-1>>>1,u=r[i];if(0<pa(u,e))r[i]=e,r[t]=u,t=i;else break e}}s(Df,"f");function bn(r){return r.length===0?null:r[0]}s(bn,"h");function ha(r){if(r.length===0)return null;var e=r[0],t=r.pop();if(t!==e){r[0]=t;e:for(var i=0,u=r.length,p=u>>>1;i<p;){var h=2*(i+1)-1,f=r[h],w=h+1,b=r[w];if(0>pa(f,t))w<u&&0>pa(b,f)?(r[i]=b,r[w]=t,i=w):(r[i]=f,r[h]=t,i=h);else if(w<u&&0>pa(b,t))r[i]=b,r[w]=t,i=w;else break e}}return e}s(ha,"k");function pa(r,e){var t=r.sortIndex-e.sortIndex;return t!==0?t:r.id-e.id}s(pa,"g");typeof performance=="object"&&typeof performance.now=="function"?(Jw=performance,Ae.unstable_now=function(){return Jw.now()}):(Lf=Date,$w=Lf.now(),Ae.unstable_now=function(){return Lf.now()-$w});var Jw,Lf,$w,jn=[],Ir=[],aE=1,cn=null,yt=3,fa=!1,go=!1,xs=!1,nb=typeof setTimeout=="function"?setTimeout:null,rb=typeof clearTimeout=="function"?clearTimeout:null,eb=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function zf(r){for(var e=bn(Ir);e!==null;){if(e.callback===null)ha(Ir);else if(e.startTime<=r)ha(Ir),e.sortIndex=e.expirationTime,Df(jn,e);else break;e=bn(Ir)}}s(zf,"G");function jf(r){if(xs=!1,zf(r),!go)if(bn(jn)!==null)go=!0,Nf(If);else{var e=bn(Ir);e!==null&&Vf(jf,e.startTime-r)}}s(jf,"H");function If(r,e){go=!1,xs&&(xs=!1,rb(Ps),Ps=-1),fa=!0;var t=yt;try{for(zf(e),cn=bn(jn);cn!==null&&(!(cn.expirationTime>e)||r&&!sb());){var i=cn.callback;if(typeof i=="function"){cn.callback=null,yt=cn.priorityLevel;var u=i(cn.expirationTime<=e);e=Ae.unstable_now(),typeof u=="function"?cn.callback=u:cn===bn(jn)&&ha(jn),zf(e)}else ha(jn);cn=bn(jn)}if(cn!==null)var p=!0;else{var h=bn(Ir);h!==null&&Vf(jf,h.startTime-e),p=!1}return p}finally{cn=null,yt=t,fa=!1}}s(If,"J");var ma=!1,da=null,Ps=-1,ob=5,ib=-1;function sb(){return!(Ae.unstable_now()-ib<ob)}s(sb,"M");function Of(){if(da!==null){var r=Ae.unstable_now();ib=r;var e=!0;try{e=da(!0,r)}finally{e?_s():(ma=!1,da=null)}}else ma=!1}s(Of,"R");var _s;typeof eb=="function"?_s=s(function(){eb(Of)},"S"):typeof MessageChannel<"u"?(Af=new MessageChannel,tb=Af.port2,Af.port1.onmessage=Of,_s=s(function(){tb.postMessage(null)},"S")):_s=s(function(){nb(Of,0)},"S");var Af,tb;function Nf(r){da=r,ma||(ma=!0,_s())}s(Nf,"I");function Vf(r,e){Ps=nb(function(){r(Ae.unstable_now())},e)}s(Vf,"K");Ae.unstable_IdlePriority=5;Ae.unstable_ImmediatePriority=1;Ae.unstable_LowPriority=4;Ae.unstable_NormalPriority=3;Ae.unstable_Profiling=null;Ae.unstable_UserBlockingPriority=2;Ae.unstable_cancelCallback=function(r){r.callback=null};Ae.unstable_continueExecution=function(){go||fa||(go=!0,Nf(If))};Ae.unstable_forceFrameRate=function(r){0>r||125<r?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ob=0<r?Math.floor(1e3/r):5};Ae.unstable_getCurrentPriorityLevel=function(){return yt};Ae.unstable_getFirstCallbackNode=function(){return bn(jn)};Ae.unstable_next=function(r){switch(yt){case 1:case 2:case 3:var e=3;break;default:e=yt}var t=yt;yt=e;try{return r()}finally{yt=t}};Ae.unstable_pauseExecution=function(){};Ae.unstable_requestPaint=function(){};Ae.unstable_runWithPriority=function(r,e){switch(r){case 1:case 2:case 3:case 4:case 5:break;default:r=3}var t=yt;yt=r;try{return e()}finally{yt=t}};Ae.unstable_scheduleCallback=function(r,e,t){var i=Ae.unstable_now();switch(typeof t=="object"&&t!==null?(t=t.delay,t=typeof t=="number"&&0<t?i+t:i):t=i,r){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return u=t+u,r={id:aE++,callback:e,priorityLevel:r,startTime:t,expirationTime:u,sortIndex:-1},t>i?(r.sortIndex=t,Df(Ir,r),bn(jn)===null&&r===bn(Ir)&&(xs?(rb(Ps),Ps=-1):xs=!0,Vf(jf,t-i))):(r.sortIndex=u,Df(jn,r),go||fa||(go=!0,Nf(If))),r};Ae.unstable_shouldYield=sb;Ae.unstable_wrapCallback=function(r){var e=yt;return function(){var t=yt;yt=e;try{return r.apply(this,arguments)}finally{yt=t}}}});var va=xr((P2,ab)=>{"use strict";ab.exports=lb()});var cb=xr((E2,ub)=>{ub.exports=s(function(e){var t={},i=Se(),u=va(),p=Object.assign;function h(n){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+n,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+n+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}s(h,"n");var f=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),b=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),L=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var K=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var B=Symbol.iterator;function I(n){return n===null||typeof n!="object"?null:(n=B&&n[B]||n["@@iterator"],typeof n=="function"?n:null)}s(I,"ua");function Q(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case m:return"Fragment";case b:return"Portal";case _:return"Profiler";case v:return"StrictMode";case M:return"Suspense";case E:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case L:return(n.displayName||"Context")+".Consumer";case k:return(n._context.displayName||"Context")+".Provider";case A:var o=n.render;return n=n.displayName,n||(n=o.displayName||o.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case T:return o=n.displayName||null,o!==null?o:Q(n.type)||"Memo";case D:o=n._payload,n=n._init;try{return Q(n(o))}catch(l){}}return null}s(Q,"va");function $(n){var o=n.type;switch(n.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=o.render,n=n.displayName||n.name||"",o.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Q(o);case 8:return o===v?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}s($,"xa");function U(n){var o=n,l=n;if(n.alternate)for(;o.return;)o=o.return;else{n=o;do o=n,(o.flags&4098)!==0&&(l=o.return),n=o.return;while(n)}return o.tag===3?l:null}s(U,"ya");function V(n){if(U(n)!==n)throw Error(h(188))}s(V,"za");function O(n){var o=n.alternate;if(!o){if(o=U(n),o===null)throw Error(h(188));return o!==n?null:n}for(var l=n,a=o;;){var c=l.return;if(c===null)break;var d=c.alternate;if(d===null){if(a=c.return,a!==null){l=a;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===l)return V(c),n;if(d===a)return V(c),o;d=d.sibling}throw Error(h(188))}if(l.return!==a.return)l=c,a=d;else{for(var g=!1,y=c.child;y;){if(y===l){g=!0,l=c,a=d;break}if(y===a){g=!0,a=c,l=d;break}y=y.sibling}if(!g){for(y=d.child;y;){if(y===l){g=!0,l=d,a=c;break}if(y===a){g=!0,a=d,l=c;break}y=y.sibling}if(!g)throw Error(h(189))}}if(l.alternate!==a)throw Error(h(190))}if(l.tag!==3)throw Error(h(188));return l.stateNode.current===l?n:o}s(O,"Aa");function se(n){return n=O(n),n!==null?we(n):null}s(se,"Ba");function we(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var o=we(n);if(o!==null)return o;n=n.sibling}return null}s(we,"Ca");function rt(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){if(n.tag!==4){var o=rt(n);if(o!==null)return o}n=n.sibling}return null}s(rt,"Da");var be=Array.isArray,st=e.getPublicInstance,ze=e.getRootHostContext,X=e.getChildHostContext,fe=e.prepareForCommit,de=e.resetAfterCommit,ye=e.createInstance,qe=e.appendInitialChild,pe=e.finalizeInitialChildren,Lt=e.prepareUpdate,_t=e.shouldSetTextContent,ir=e.createTextInstance,yo=e.scheduleTimeout,yn=e.cancelTimeout,sr=e.noTimeout,Ze=e.isPrimaryRenderer,ae=e.supportsMutation,xt=e.supportsPersistence,Te=e.supportsHydration,_n=e.getInstanceFromNode,lr=e.preparePortalMount,ui=e.getCurrentEventPriority,Qt=e.detachDeletedInstance,Nr=e.supportsMicrotasks,ar=e.scheduleMicrotask,xn=e.supportsTestSelectors,ci=e.findFiberRoot,_o=e.getBoundingRect,Vr=e.getTextContent,Ht=e.isHiddenSubtree,pi=e.matchAccessibilityRole,di=e.setFocusIfFocusable,Xt=e.setupIntersectionObserver,hi=e.appendChild,Ma=e.appendChildToContainer,Ta=e.commitTextUpdate,Ts=e.commitMount,La=e.commitUpdate,Oa=e.insertBefore,Ls=e.insertInContainerBefore,fi=e.removeChild,P=e.removeChildFromContainer,N=e.resetTextContent,ee=e.hideInstance,me=e.hideTextInstance,Je=e.unhideInstance,dn=e.unhideTextInstance,Pn=e.clearContainer,wm=e.cloneInstance,mi=e.createContainerChildSet,Zt=e.appendChildToContainerChildSet,hn=e.finalizeContainerChildren,ur=e.replaceContainerChildren,cr=e.cloneHiddenInstance,pr=e.cloneHiddenTextInstance,xo=e.canHydrateInstance,$b=e.canHydrateTextInstance,ey=e.canHydrateSuspenseInstance,bm=e.isSuspenseInstancePending,Aa=e.isSuspenseInstanceFallback,ty=e.registerSuspenseInstanceRetry,vi=e.getNextHydratableSibling,ny=e.getFirstHydratableChild,ry=e.getFirstHydratableChildWithinContainer,oy=e.getFirstHydratableChildWithinSuspenseInstance,iy=e.hydrateInstance,sy=e.hydrateTextInstance,ly=e.hydrateSuspenseInstance,ay=e.getNextHydratableInstanceAfterSuspenseInstance,ym=e.commitHydratedContainer,uy=e.commitHydratedSuspenseInstance,cy=e.clearSuspenseBoundary,py=e.clearSuspenseBoundaryFromContainer,dy=e.shouldDeleteUnhydratedTailInstances,hy=e.didNotMatchHydratedContainerTextInstance,fy=e.didNotMatchHydratedTextInstance,Da;function gi(n){if(Da===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);Da=o&&o[1]||""}return"\n"+Da+n}s(gi,"ac");var za=!1;function ja(n,o){if(!n||za)return"";za=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=s(function(){throw Error()},"b"),Object.defineProperty(o.prototype,"props",{set:s(function(){throw Error()},"set")}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(z){var a=z}Reflect.construct(n,[],o)}else{try{o.call()}catch(z){a=z}n.call(o.prototype)}else{try{throw Error()}catch(z){a=z}n()}}catch(z){if(z&&a&&typeof z.stack=="string"){for(var c=z.stack.split("\n"),d=a.stack.split("\n"),g=c.length-1,y=d.length-1;1<=g&&0<=y&&c[g]!==d[y];)y--;for(;1<=g&&0<=y;g--,y--)if(c[g]!==d[y]){if(g!==1||y!==1)do if(g--,y--,0>y||c[g]!==d[y]){var R="\n"+c[g].replace(" at new "," at ");return n.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",n.displayName)),R}while(1<=g&&0<=y);break}}}finally{za=!1,Error.prepareStackTrace=l}return(n=n?n.displayName||n.name:"")?gi(n):""}s(ja,"cc");var my=Object.prototype.hasOwnProperty,Ia=[],Po=-1;function dr(n){return{current:n}}s(dr,"gc");function je(n){0>Po||(n.current=Ia[Po],Ia[Po]=null,Po--)}s(je,"x");function Le(n,o){Po++,Ia[Po]=n.current,n.current=o}s(Le,"y");var hr={},ft=dr(hr),Ot=dr(!1),Fr=hr;function Eo(n,o){var l=n.type.contextTypes;if(!l)return hr;var a=n.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===o)return a.__reactInternalMemoizedMaskedChildContext;var c={},d;for(d in l)c[d]=o[d];return a&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=o,n.__reactInternalMemoizedMaskedChildContext=c),c}s(Eo,"jc");function At(n){return n=n.childContextTypes,n!=null}s(At,"C");function Os(){je(Ot),je(ft)}s(Os,"kc");function _m(n,o,l){if(ft.current!==hr)throw Error(h(168));Le(ft,o),Le(Ot,l)}s(_m,"lc");function xm(n,o,l){var a=n.stateNode;if(o=o.childContextTypes,typeof a.getChildContext!="function")return l;a=a.getChildContext();for(var c in a)if(!(c in o))throw Error(h(108,$(n)||"Unknown",c));return p({},l,a)}s(xm,"mc");function As(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||hr,Fr=ft.current,Le(ft,n),Le(Ot,Ot.current),!0}s(As,"nc");function Pm(n,o,l){var a=n.stateNode;if(!a)throw Error(h(169));l?(n=xm(n,o,Fr),a.__reactInternalMemoizedMergedChildContext=n,je(Ot),je(ft),Le(ft,n)):je(Ot),Le(Ot,l)}s(Pm,"oc");var fn=Math.clz32?Math.clz32:wy,vy=Math.log,gy=Math.LN2;function wy(n){return n>>>=0,n===0?32:31-(vy(n)/gy|0)|0}s(wy,"pc");var Ds=64,zs=4194304;function wi(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}s(wi,"vc");function js(n,o){var l=n.pendingLanes;if(l===0)return 0;var a=0,c=n.suspendedLanes,d=n.pingedLanes,g=l&268435455;if(g!==0){var y=g&~c;y!==0?a=wi(y):(d&=g,d!==0&&(a=wi(d)))}else g=l&~c,g!==0?a=wi(g):d!==0&&(a=wi(d));if(a===0)return 0;if(o!==0&&o!==a&&(o&c)===0&&(c=a&-a,d=o&-o,c>=d||c===16&&(d&4194240)!==0))return o;if((a&4)!==0&&(a|=l&16),o=n.entangledLanes,o!==0)for(n=n.entanglements,o&=a;0<o;)l=31-fn(o),c=1<<l,a|=n[l],o&=~c;return a}s(js,"wc");function by(n,o){switch(n){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}s(by,"xc");function yy(n,o){for(var l=n.suspendedLanes,a=n.pingedLanes,c=n.expirationTimes,d=n.pendingLanes;0<d;){var g=31-fn(d),y=1<<g,R=c[g];R===-1?((y&l)===0||(y&a)!==0)&&(c[g]=by(y,o)):R<=o&&(n.expiredLanes|=y),d&=~y}}s(yy,"yc");function Na(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}s(Na,"zc");function Va(n){for(var o=[],l=0;31>l;l++)o.push(n);return o}s(Va,"Ac");function bi(n,o,l){n.pendingLanes|=o,o!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,o=31-fn(o),n[o]=l}s(bi,"Bc");function _y(n,o){var l=n.pendingLanes&~o;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=o,n.mutableReadLanes&=o,n.entangledLanes&=o,o=n.entanglements;var a=n.eventTimes;for(n=n.expirationTimes;0<l;){var c=31-fn(l),d=1<<c;o[c]=0,a[c]=-1,n[c]=-1,l&=~d}}s(_y,"Cc");function Fa(n,o){var l=n.entangledLanes|=o;for(n=n.entanglements;l;){var a=31-fn(l),c=1<<a;c&o|n[a]&o&&(n[a]|=o),l&=~c}}s(Fa,"Dc");var _e=0;function Em(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}s(Em,"Ec");var Ha=u.unstable_scheduleCallback,Sm=u.unstable_cancelCallback,xy=u.unstable_shouldYield,Py=u.unstable_requestPaint,lt=u.unstable_now,Ba=u.unstable_ImmediatePriority,Ey=u.unstable_UserBlockingPriority,Ua=u.unstable_NormalPriority,Sy=u.unstable_IdlePriority,Is=null,En=null;function Cy(n){if(En&&typeof En.onCommitFiberRoot=="function")try{En.onCommitFiberRoot(Is,n,void 0,(n.current.flags&128)===128)}catch(o){}}s(Cy,"Pc");function ky(n,o){return n===o&&(n!==0||1/n===1/o)||n!==n&&o!==o}s(ky,"Qc");var Sn=typeof Object.is=="function"?Object.is:ky,Fn=null,Ns=!1,Ga=!1;function Cm(n){Fn===null?Fn=[n]:Fn.push(n)}s(Cm,"Vc");function Ry(n){Ns=!0,Cm(n)}s(Ry,"Wc");function Cn(){if(!Ga&&Fn!==null){Ga=!0;var n=0,o=_e;try{var l=Fn;for(_e=1;n<l.length;n++){var a=l[n];do a=a(!0);while(a!==null)}Fn=null,Ns=!1}catch(c){throw Fn!==null&&(Fn=Fn.slice(n+1)),Ha(Ba,Cn),c}finally{_e=o,Ga=!1}}return null}s(Cn,"Xc");var My=f.ReactCurrentBatchConfig;function Vs(n,o){if(Sn(n,o))return!0;if(typeof n!="object"||n===null||typeof o!="object"||o===null)return!1;var l=Object.keys(n),a=Object.keys(o);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var c=l[a];if(!my.call(o,c)||!Sn(n[c],o[c]))return!1}return!0}s(Vs,"Zc");function Ty(n){switch(n.tag){case 5:return gi(n.type);case 16:return gi("Lazy");case 13:return gi("Suspense");case 19:return gi("SuspenseList");case 0:case 2:case 15:return n=ja(n.type,!1),n;case 11:return n=ja(n.type.render,!1),n;case 1:return n=ja(n.type,!0),n;default:return""}}s(Ty,"$c");function mn(n,o){if(n&&n.defaultProps){o=p({},o),n=n.defaultProps;for(var l in n)o[l]===void 0&&(o[l]=n[l]);return o}return o}s(mn,"ad");var Fs=dr(null),Hs=null,So=null,Ka=null;function Wa(){Ka=So=Hs=null}s(Wa,"fd");function km(n,o,l){Ze?(Le(Fs,o._currentValue),o._currentValue=l):(Le(Fs,o._currentValue2),o._currentValue2=l)}s(km,"gd");function Ya(n){var o=Fs.current;je(Fs),Ze?n._currentValue=o:n._currentValue2=o}s(Ya,"hd");function qa(n,o,l){for(;n!==null;){var a=n.alternate;if((n.childLanes&o)!==o?(n.childLanes|=o,a!==null&&(a.childLanes|=o)):a!==null&&(a.childLanes&o)!==o&&(a.childLanes|=o),n===l)break;n=n.return}}s(qa,"id");function Co(n,o){Hs=n,Ka=So=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&o)!==0&&(Gt=!0),n.firstContext=null)}s(Co,"jd");function Jt(n){var o=Ze?n._currentValue:n._currentValue2;if(Ka!==n)if(n={context:n,memoizedValue:o,next:null},So===null){if(Hs===null)throw Error(h(308));So=n,Hs.dependencies={lanes:0,firstContext:n}}else So=So.next=n;return o}s(Jt,"ld");var kn=null,fr=!1;function Qa(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}s(Qa,"od");function Rm(n,o){n=n.updateQueue,o.updateQueue===n&&(o.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}s(Rm,"pd");function Hn(n,o){return{eventTime:n,lane:o,tag:0,payload:null,callback:null,next:null}}s(Hn,"qd");function mr(n,o){var l=n.updateQueue;l!==null&&(l=l.shared,$e!==null&&(n.mode&1)!==0&&(ue&2)===0?(n=l.interleaved,n===null?(o.next=o,kn===null?kn=[l]:kn.push(l)):(o.next=n.next,n.next=o),l.interleaved=o):(n=l.pending,n===null?o.next=o:(o.next=n.next,n.next=o),l.pending=o))}s(mr,"rd");function Bs(n,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var a=o.lanes;a&=n.pendingLanes,l|=a,o.lanes=l,Fa(n,l)}}s(Bs,"sd");function Mm(n,o){var l=n.updateQueue,a=n.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var c=null,d=null;if(l=l.firstBaseUpdate,l!==null){do{var g={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};d===null?c=d=g:d=d.next=g,l=l.next}while(l!==null);d===null?c=d=o:d=d.next=o}else c=d=o;l={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:a.shared,effects:a.effects},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=o:n.next=o,l.lastBaseUpdate=o}s(Mm,"td");function Us(n,o,l,a){var c=n.updateQueue;fr=!1;var d=c.firstBaseUpdate,g=c.lastBaseUpdate,y=c.shared.pending;if(y!==null){c.shared.pending=null;var R=y,z=R.next;R.next=null,g===null?d=z:g.next=z,g=R;var G=n.alternate;G!==null&&(G=G.updateQueue,y=G.lastBaseUpdate,y!==g&&(y===null?G.firstBaseUpdate=z:y.next=z,G.lastBaseUpdate=R))}if(d!==null){var re=c.baseState;g=0,G=z=R=null,y=d;do{var Z=y.lane,Re=y.eventTime;if((a&Z)===Z){G!==null&&(G=G.next={eventTime:Re,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null});e:{var Y=n,wt=y;switch(Z=o,Re=l,wt.tag){case 1:if(Y=wt.payload,typeof Y=="function"){re=Y.call(Re,re,Z);break e}re=Y;break e;case 3:Y.flags=Y.flags&-65537|128;case 0:if(Y=wt.payload,Z=typeof Y=="function"?Y.call(Re,re,Z):Y,Z==null)break e;re=p({},re,Z);break e;case 2:fr=!0}}y.callback!==null&&y.lane!==0&&(n.flags|=64,Z=c.effects,Z===null?c.effects=[y]:Z.push(y))}else Re={eventTime:Re,lane:Z,tag:y.tag,payload:y.payload,callback:y.callback,next:null},G===null?(z=G=Re,R=re):G=G.next=Re,g|=Z;if(y=y.next,y===null){if(y=c.shared.pending,y===null)break;Z=y,y=Z.next,Z.next=null,c.lastBaseUpdate=Z,c.shared.pending=null}}while(!0);if(G===null&&(R=re),c.baseState=R,c.firstBaseUpdate=z,c.lastBaseUpdate=G,o=c.shared.interleaved,o!==null){c=o;do g|=c.lane,c=c.next;while(c!==o)}else d===null&&(c.shared.lanes=0);zo|=g,n.lanes=g,n.memoizedState=re}}s(Us,"ud");function Tm(n,o,l){if(n=o.effects,o.effects=null,n!==null)for(o=0;o<n.length;o++){var a=n[o],c=a.callback;if(c!==null){if(a.callback=null,a=l,typeof c!="function")throw Error(h(191,c));c.call(a)}}}s(Tm,"wd");var Lm=new i.Component().refs;function Xa(n,o,l,a){o=n.memoizedState,l=l(a,o),l=l==null?o:p({},o,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}s(Xa,"yd");var Gs={isMounted:s(function(n){return(n=n._reactInternals)?U(n)===n:!1},"isMounted"),enqueueSetState:s(function(n,o,l){n=n._reactInternals;var a=Et(),c=wr(n),d=Hn(a,c);d.payload=o,l!=null&&(d.callback=l),mr(n,d),o=rn(n,c,a),o!==null&&Bs(o,n,c)},"enqueueSetState"),enqueueReplaceState:s(function(n,o,l){n=n._reactInternals;var a=Et(),c=wr(n),d=Hn(a,c);d.tag=1,d.payload=o,l!=null&&(d.callback=l),mr(n,d),o=rn(n,c,a),o!==null&&Bs(o,n,c)},"enqueueReplaceState"),enqueueForceUpdate:s(function(n,o){n=n._reactInternals;var l=Et(),a=wr(n),c=Hn(l,a);c.tag=2,o!=null&&(c.callback=o),mr(n,c),o=rn(n,a,l),o!==null&&Bs(o,n,a)},"enqueueForceUpdate")};function Om(n,o,l,a,c,d,g){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(a,d,g):o.prototype&&o.prototype.isPureReactComponent?!Vs(l,a)||!Vs(c,d):!0}s(Om,"Cd");function Am(n,o,l){var a=!1,c=hr,d=o.contextType;return typeof d=="object"&&d!==null?d=Jt(d):(c=At(o)?Fr:ft.current,a=o.contextTypes,d=(a=a!=null)?Eo(n,c):hr),o=new o(l,d),n.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Gs,n.stateNode=o,o._reactInternals=n,a&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=c,n.__reactInternalMemoizedMaskedChildContext=d),o}s(Am,"Dd");function Dm(n,o,l,a){n=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,a),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,a),o.state!==n&&Gs.enqueueReplaceState(o,o.state,null)}s(Dm,"Ed");function Za(n,o,l,a){var c=n.stateNode;c.props=l,c.state=n.memoizedState,c.refs=Lm,Qa(n);var d=o.contextType;typeof d=="object"&&d!==null?c.context=Jt(d):(d=At(o)?Fr:ft.current,c.context=Eo(n,d)),c.state=n.memoizedState,d=o.getDerivedStateFromProps,typeof d=="function"&&(Xa(n,o,d,l),c.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(o=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),o!==c.state&&Gs.enqueueReplaceState(c,c.state,null),Us(n,l,c,a),c.state=n.memoizedState),typeof c.componentDidMount=="function"&&(n.flags|=4194308)}s(Za,"Fd");var ko=[],Ro=0,Ks=null,Ws=0,$t=[],en=0,Hr=null,Bn=1,Un="";function Br(n,o){ko[Ro++]=Ws,ko[Ro++]=Ks,Ks=n,Ws=o}s(Br,"Pd");function zm(n,o,l){$t[en++]=Bn,$t[en++]=Un,$t[en++]=Hr,Hr=n;var a=Bn;n=Un;var c=32-fn(a)-1;a&=~(1<<c),l+=1;var d=32-fn(o)+c;if(30<d){var g=c-c%5;d=(a&(1<<g)-1).toString(32),a>>=g,c-=g,Bn=1<<32-fn(o)+c|l<<c|a,Un=d+n}else Bn=1<<d|l<<c|a,Un=n}s(zm,"Qd");function Ja(n){n.return!==null&&(Br(n,1),zm(n,1,0))}s(Ja,"Rd");function $a(n){for(;n===Ks;)Ks=ko[--Ro],ko[Ro]=null,Ws=ko[--Ro],ko[Ro]=null;for(;n===Hr;)Hr=$t[--en],$t[en]=null,Un=$t[--en],$t[en]=null,Bn=$t[--en],$t[en]=null}s($a,"Sd");var Bt=null,Ut=null,Ne=!1,yi=!1,vn=null;function jm(n,o){var l=on(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=n,o=n.deletions,o===null?(n.deletions=[l],n.flags|=16):o.push(l)}s(jm,"Xd");function Im(n,o){switch(n.tag){case 5:return o=xo(o,n.type,n.pendingProps),o!==null?(n.stateNode=o,Bt=n,Ut=ny(o),!0):!1;case 6:return o=$b(o,n.pendingProps),o!==null?(n.stateNode=o,Bt=n,Ut=null,!0):!1;case 13:if(o=ey(o),o!==null){var l=Hr!==null?{id:Bn,overflow:Un}:null;return n.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=on(18,null,null,0),l.stateNode=o,l.return=n,n.child=l,Bt=n,Ut=null,!0}return!1;default:return!1}}s(Im,"Zd");function eu(n){return(n.mode&1)!==0&&(n.flags&128)===0}s(eu,"$d");function tu(n){if(Ne){var o=Ut;if(o){var l=o;if(!Im(n,o)){if(eu(n))throw Error(h(418));o=vi(l);var a=Bt;o&&Im(n,o)?jm(a,l):(n.flags=n.flags&-4097|2,Ne=!1,Bt=n)}}else{if(eu(n))throw Error(h(418));n.flags=n.flags&-4097|2,Ne=!1,Bt=n}}}s(tu,"ae");function Nm(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Bt=n}s(Nm,"be");function _i(n){if(!Te||n!==Bt)return!1;if(!Ne)return Nm(n),Ne=!0,!1;if(n.tag!==3&&(n.tag!==5||dy(n.type)&&!_t(n.type,n.memoizedProps))){var o=Ut;if(o){if(eu(n)){for(n=Ut;n;)n=vi(n);throw Error(h(418))}for(;o;)jm(n,o),o=vi(o)}}if(Nm(n),n.tag===13){if(!Te)throw Error(h(316));if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(h(317));Ut=ay(n)}else Ut=Bt?vi(n.stateNode):null;return!0}s(_i,"ce");function Mo(){Te&&(Ut=Bt=null,yi=Ne=!1)}s(Mo,"de");function nu(n){vn===null?vn=[n]:vn.push(n)}s(nu,"ee");function xi(n,o,l){if(n=l.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(h(309));var a=l.stateNode}if(!a)throw Error(h(147,n));var c=a,d=""+n;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===d?o.ref:(o=s(function(g){var y=c.refs;y===Lm&&(y=c.refs={}),g===null?delete y[d]:y[d]=g},"b"),o._stringRef=d,o)}if(typeof n!="string")throw Error(h(284));if(!l._owner)throw Error(h(290,n))}return n}s(xi,"fe");function Ys(n,o){throw n=Object.prototype.toString.call(o),Error(h(31,n==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":n))}s(Ys,"ge");function Vm(n){var o=n._init;return o(n._payload)}s(Vm,"he");function Fm(n){function o(S,x){if(n){var C=S.deletions;C===null?(S.deletions=[x],S.flags|=16):C.push(x)}}s(o,"b");function l(S,x){if(!n)return null;for(;x!==null;)o(S,x),x=x.sibling;return null}s(l,"c");function a(S,x){for(S=new Map;x!==null;)x.key!==null?S.set(x.key,x):S.set(x.index,x),x=x.sibling;return S}s(a,"d");function c(S,x){return S=yr(S,x),S.index=0,S.sibling=null,S}s(c,"e");function d(S,x,C){return S.index=C,n?(C=S.alternate,C!==null?(C=C.index,C<x?(S.flags|=2,x):C):(S.flags|=2,x)):(S.flags|=1048576,x)}s(d,"f");function g(S){return n&&S.alternate===null&&(S.flags|=2),S}s(g,"g");function y(S,x,C,H){return x===null||x.tag!==6?(x=Vu(C,S.mode,H),x.return=S,x):(x=c(x,C),x.return=S,x)}s(y,"h");function R(S,x,C,H){var W=C.type;return W===m?G(S,x,C.props.children,H,C.key):x!==null&&(x.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===D&&Vm(W)===x.type)?(H=c(x,C.props),H.ref=xi(S,x,C),H.return=S,H):(H=El(C.type,C.key,C.props,null,S.mode,H),H.ref=xi(S,x,C),H.return=S,H)}s(R,"k");function z(S,x,C,H){return x===null||x.tag!==4||x.stateNode.containerInfo!==C.containerInfo||x.stateNode.implementation!==C.implementation?(x=Fu(C,S.mode,H),x.return=S,x):(x=c(x,C.children||[]),x.return=S,x)}s(z,"l");function G(S,x,C,H,W){return x===null||x.tag!==7?(x=Qr(C,S.mode,H,W),x.return=S,x):(x=c(x,C),x.return=S,x)}s(G,"m");function re(S,x,C){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Vu(""+x,S.mode,C),x.return=S,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case w:return C=El(x.type,x.key,x.props,null,S.mode,C),C.ref=xi(S,null,x),C.return=S,C;case b:return x=Fu(x,S.mode,C),x.return=S,x;case D:var H=x._init;return re(S,H(x._payload),C)}if(be(x)||I(x))return x=Qr(x,S.mode,C,null),x.return=S,x;Ys(S,x)}return null}s(re,"v");function Z(S,x,C,H){var W=x!==null?x.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return W!==null?null:y(S,x,""+C,H);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case w:return C.key===W?R(S,x,C,H):null;case b:return C.key===W?z(S,x,C,H):null;case D:return W=C._init,Z(S,x,W(C._payload),H)}if(be(C)||I(C))return W!==null?null:G(S,x,C,H,null);Ys(S,C)}return null}s(Z,"r");function Re(S,x,C,H,W){if(typeof H=="string"&&H!==""||typeof H=="number")return S=S.get(C)||null,y(x,S,""+H,W);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case w:return S=S.get(H.key===null?C:H.key)||null,R(x,S,H,W);case b:return S=S.get(H.key===null?C:H.key)||null,z(x,S,H,W);case D:var le=H._init;return Re(S,x,C,le(H._payload),W)}if(be(H)||I(H))return S=S.get(C)||null,G(x,S,H,W,null);Ys(x,H)}return null}s(Re,"z");function Y(S,x,C,H){for(var W=null,le=null,oe=x,xe=x=0,ut=null;oe!==null&&xe<C.length;xe++){oe.index>xe?(ut=oe,oe=null):ut=oe.sibling;var Pe=Z(S,oe,C[xe],H);if(Pe===null){oe===null&&(oe=ut);break}n&&oe&&Pe.alternate===null&&o(S,oe),x=d(Pe,x,xe),le===null?W=Pe:le.sibling=Pe,le=Pe,oe=ut}if(xe===C.length)return l(S,oe),Ne&&Br(S,xe),W;if(oe===null){for(;xe<C.length;xe++)oe=re(S,C[xe],H),oe!==null&&(x=d(oe,x,xe),le===null?W=oe:le.sibling=oe,le=oe);return Ne&&Br(S,xe),W}for(oe=a(S,oe);xe<C.length;xe++)ut=Re(oe,S,xe,C[xe],H),ut!==null&&(n&&ut.alternate!==null&&oe.delete(ut.key===null?xe:ut.key),x=d(ut,x,xe),le===null?W=ut:le.sibling=ut,le=ut);return n&&oe.forEach(function(_r){return o(S,_r)}),Ne&&Br(S,xe),W}s(Y,"q");function wt(S,x,C,H){var W=I(C);if(typeof W!="function")throw Error(h(150));if(C=W.call(C),C==null)throw Error(h(151));for(var le=W=null,oe=x,xe=x=0,ut=null,Pe=C.next();oe!==null&&!Pe.done;xe++,Pe=C.next()){oe.index>xe?(ut=oe,oe=null):ut=oe.sibling;var _r=Z(S,oe,Pe.value,H);if(_r===null){oe===null&&(oe=ut);break}n&&oe&&_r.alternate===null&&o(S,oe),x=d(_r,x,xe),le===null?W=_r:le.sibling=_r,le=_r,oe=ut}if(Pe.done)return l(S,oe),Ne&&Br(S,xe),W;if(oe===null){for(;!Pe.done;xe++,Pe=C.next())Pe=re(S,Pe.value,H),Pe!==null&&(x=d(Pe,x,xe),le===null?W=Pe:le.sibling=Pe,le=Pe);return Ne&&Br(S,xe),W}for(oe=a(S,oe);!Pe.done;xe++,Pe=C.next())Pe=Re(oe,S,xe,Pe.value,H),Pe!==null&&(n&&Pe.alternate!==null&&oe.delete(Pe.key===null?xe:Pe.key),x=d(Pe,x,xe),le===null?W=Pe:le.sibling=Pe,le=Pe);return n&&oe.forEach(function(s_){return o(S,s_)}),Ne&&Br(S,xe),W}s(wt,"N");function sn(S,x,C,H){if(typeof C=="object"&&C!==null&&C.type===m&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case w:e:{for(var W=C.key,le=x;le!==null;){if(le.key===W){if(W=C.type,W===m){if(le.tag===7){l(S,le.sibling),x=c(le,C.props.children),x.return=S,S=x;break e}}else if(le.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===D&&Vm(W)===le.type){l(S,le.sibling),x=c(le,C.props),x.ref=xi(S,le,C),x.return=S,S=x;break e}l(S,le);break}else o(S,le);le=le.sibling}C.type===m?(x=Qr(C.props.children,S.mode,H,C.key),x.return=S,S=x):(H=El(C.type,C.key,C.props,null,S.mode,H),H.ref=xi(S,x,C),H.return=S,S=H)}return g(S);case b:e:{for(le=C.key;x!==null;){if(x.key===le)if(x.tag===4&&x.stateNode.containerInfo===C.containerInfo&&x.stateNode.implementation===C.implementation){l(S,x.sibling),x=c(x,C.children||[]),x.return=S,S=x;break e}else{l(S,x);break}else o(S,x);x=x.sibling}x=Fu(C,S.mode,H),x.return=S,S=x}return g(S);case D:return le=C._init,sn(S,x,le(C._payload),H)}if(be(C))return Y(S,x,C,H);if(I(C))return wt(S,x,C,H);Ys(S,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,x!==null&&x.tag===6?(l(S,x.sibling),x=c(x,C),x.return=S,S=x):(l(S,x),x=Vu(C,S.mode,H),x.return=S,S=x),g(S)):l(S,x)}return s(sn,"da"),sn}s(Fm,"ie");var To=Fm(!0),Hm=Fm(!1),Pi={},tn=dr(Pi),Ei=dr(Pi),Lo=dr(Pi);function Rn(n){if(n===Pi)throw Error(h(174));return n}s(Rn,"ue");function ru(n,o){Le(Lo,o),Le(Ei,n),Le(tn,Pi),n=ze(o),je(tn),Le(tn,n)}s(ru,"ve");function Oo(){je(tn),je(Ei),je(Lo)}s(Oo,"we");function Bm(n){var o=Rn(Lo.current),l=Rn(tn.current);o=X(l,n.type,o),l!==o&&(Le(Ei,n),Le(tn,o))}s(Bm,"xe");function ou(n){Ei.current===n&&(je(tn),je(Ei))}s(ou,"ye");var Be=dr(0);function qs(n){for(var o=n;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||bm(l)||Aa(l)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}s(qs,"ze");var iu=[];function su(){for(var n=0;n<iu.length;n++){var o=iu[n];Ze?o._workInProgressVersionPrimary=null:o._workInProgressVersionSecondary=null}iu.length=0}s(su,"Be");var Qs=f.ReactCurrentDispatcher,nn=f.ReactCurrentBatchConfig,Ao=0,Ke=null,mt=null,at=null,Xs=!1,Si=!1,Ci=0,Ly=0;function vt(){throw Error(h(321))}s(vt,"O");function lu(n,o){if(o===null)return!1;for(var l=0;l<o.length&&l<n.length;l++)if(!Sn(n[l],o[l]))return!1;return!0}s(lu,"Je");function au(n,o,l,a,c,d){if(Ao=d,Ke=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Qs.current=n===null||n.memoizedState===null?zy:jy,n=l(a,c),Si){d=0;do{if(Si=!1,Ci=0,25<=d)throw Error(h(301));d+=1,at=mt=null,o.updateQueue=null,Qs.current=Iy,n=l(a,c)}while(Si)}if(Qs.current=tl,o=mt!==null&&mt.next!==null,Ao=0,at=mt=Ke=null,Xs=!1,o)throw Error(h(300));return n}s(au,"Ke");function uu(){var n=Ci!==0;return Ci=0,n}s(uu,"Pe");function Gn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?Ke.memoizedState=at=n:at=at.next=n,at}s(Gn,"Qe");function Mn(){if(mt===null){var n=Ke.alternate;n=n!==null?n.memoizedState:null}else n=mt.next;var o=at===null?Ke.memoizedState:at.next;if(o!==null)at=o,mt=n;else{if(n===null)throw Error(h(310));mt=n,n={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},at===null?Ke.memoizedState=at=n:at=at.next=n}return at}s(Mn,"Re");function Ur(n,o){return typeof o=="function"?o(n):o}s(Ur,"Se");function Zs(n){var o=Mn(),l=o.queue;if(l===null)throw Error(h(311));l.lastRenderedReducer=n;var a=mt,c=a.baseQueue,d=l.pending;if(d!==null){if(c!==null){var g=c.next;c.next=d.next,d.next=g}a.baseQueue=c=d,l.pending=null}if(c!==null){d=c.next,a=a.baseState;var y=g=null,R=null,z=d;do{var G=z.lane;if((Ao&G)===G)R!==null&&(R=R.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),a=z.hasEagerState?z.eagerState:n(a,z.action);else{var re={lane:G,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};R===null?(y=R=re,g=a):R=R.next=re,Ke.lanes|=G,zo|=G}z=z.next}while(z!==null&&z!==d);R===null?g=a:R.next=y,Sn(a,o.memoizedState)||(Gt=!0),o.memoizedState=a,o.baseState=g,o.baseQueue=R,l.lastRenderedState=a}if(n=l.interleaved,n!==null){c=n;do d=c.lane,Ke.lanes|=d,zo|=d,c=c.next;while(c!==n)}else c===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}s(Zs,"Te");function Js(n){var o=Mn(),l=o.queue;if(l===null)throw Error(h(311));l.lastRenderedReducer=n;var a=l.dispatch,c=l.pending,d=o.memoizedState;if(c!==null){l.pending=null;var g=c=c.next;do d=n(d,g.action),g=g.next;while(g!==c);Sn(d,o.memoizedState)||(Gt=!0),o.memoizedState=d,o.baseQueue===null&&(o.baseState=d),l.lastRenderedState=d}return[d,a]}s(Js,"Ue");function Um(){}s(Um,"Ve");function Gm(n,o){var l=Ke,a=Mn(),c=o(),d=!Sn(a.memoizedState,c);if(d&&(a.memoizedState=c,Gt=!0),a=a.queue,Ri(Ym.bind(null,l,a,n),[n]),a.getSnapshot!==o||d||at!==null&&at.memoizedState.tag&1){if(l.flags|=2048,ki(9,Wm.bind(null,l,a,c,o),void 0,null),$e===null)throw Error(h(349));(Ao&30)!==0||Km(l,o,c)}return c}s(Gm,"We");function Km(n,o,l){n.flags|=16384,n={getSnapshot:o,value:l},o=Ke.updateQueue,o===null?(o={lastEffect:null,stores:null},Ke.updateQueue=o,o.stores=[n]):(l=o.stores,l===null?o.stores=[n]:l.push(n))}s(Km,"af");function Wm(n,o,l,a){o.value=l,o.getSnapshot=a,qm(o)&&rn(n,1,-1)}s(Wm,"$e");function Ym(n,o,l){return l(function(){qm(o)&&rn(n,1,-1)})}s(Ym,"Ye");function qm(n){var o=n.getSnapshot;n=n.value;try{var l=o();return!Sn(n,l)}catch(a){return!0}}s(qm,"bf");function cu(n){var o=Gn();return typeof n=="function"&&(n=n()),o.memoizedState=o.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ur,lastRenderedState:n},o.queue=n,n=n.dispatch=Dy.bind(null,Ke,n),[o.memoizedState,n]}s(cu,"cf");function ki(n,o,l,a){return n={tag:n,create:o,destroy:l,deps:a,next:null},o=Ke.updateQueue,o===null?(o={lastEffect:null,stores:null},Ke.updateQueue=o,o.lastEffect=n.next=n):(l=o.lastEffect,l===null?o.lastEffect=n.next=n:(a=l.next,l.next=n,n.next=a,o.lastEffect=n)),n}s(ki,"Ze");function Qm(){return Mn().memoizedState}s(Qm,"ef");function $s(n,o,l,a){var c=Gn();Ke.flags|=n,c.memoizedState=ki(1|o,l,void 0,a===void 0?null:a)}s($s,"ff");function el(n,o,l,a){var c=Mn();a=a===void 0?null:a;var d=void 0;if(mt!==null){var g=mt.memoizedState;if(d=g.destroy,a!==null&&lu(a,g.deps)){c.memoizedState=ki(o,l,d,a);return}}Ke.flags|=n,c.memoizedState=ki(1|o,l,d,a)}s(el,"gf");function pu(n,o){return $s(8390656,8,n,o)}s(pu,"hf");function Ri(n,o){return el(2048,8,n,o)}s(Ri,"Xe");function Xm(n,o){return el(4,2,n,o)}s(Xm,"jf");function Zm(n,o){return el(4,4,n,o)}s(Zm,"kf");function Jm(n,o){if(typeof o=="function")return n=n(),o(n),function(){o(null)};if(o!=null)return n=n(),o.current=n,function(){o.current=null}}s(Jm,"lf");function $m(n,o,l){return l=l!=null?l.concat([n]):null,el(4,4,Jm.bind(null,o,n),l)}s($m,"mf");function du(){}s(du,"nf");function ev(n,o){var l=Mn();o=o===void 0?null:o;var a=l.memoizedState;return a!==null&&o!==null&&lu(o,a[1])?a[0]:(l.memoizedState=[n,o],n)}s(ev,"of");function tv(n,o){var l=Mn();o=o===void 0?null:o;var a=l.memoizedState;return a!==null&&o!==null&&lu(o,a[1])?a[0]:(n=n(),l.memoizedState=[n,o],n)}s(tv,"pf");function Oy(n,o){var l=_e;_e=l!==0&&4>l?l:4,n(!0);var a=nn.transition;nn.transition={};try{n(!1),o()}finally{_e=l,nn.transition=a}}s(Oy,"qf");function nv(){return Mn().memoizedState}s(nv,"rf");function Ay(n,o,l){var a=wr(n);l={lane:a,action:l,hasEagerState:!1,eagerState:null,next:null},rv(n)?ov(o,l):(iv(n,o,l),l=Et(),n=rn(n,a,l),n!==null&&sv(n,o,a))}s(Ay,"sf");function Dy(n,o,l){var a=wr(n),c={lane:a,action:l,hasEagerState:!1,eagerState:null,next:null};if(rv(n))ov(o,c);else{iv(n,o,c);var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=o.lastRenderedReducer,d!==null))try{var g=o.lastRenderedState,y=d(g,l);if(c.hasEagerState=!0,c.eagerState=y,Sn(y,g))return}catch(R){}finally{}l=Et(),n=rn(n,a,l),n!==null&&sv(n,o,a)}}s(Dy,"df");function rv(n){var o=n.alternate;return n===Ke||o!==null&&o===Ke}s(rv,"tf");function ov(n,o){Si=Xs=!0;var l=n.pending;l===null?o.next=o:(o.next=l.next,l.next=o),n.pending=o}s(ov,"uf");function iv(n,o,l){$e!==null&&(n.mode&1)!==0&&(ue&2)===0?(n=o.interleaved,n===null?(l.next=l,kn===null?kn=[o]:kn.push(o)):(l.next=n.next,n.next=l),o.interleaved=l):(n=o.pending,n===null?l.next=l:(l.next=n.next,n.next=l),o.pending=l)}s(iv,"vf");function sv(n,o,l){if((l&4194240)!==0){var a=o.lanes;a&=n.pendingLanes,l|=a,o.lanes=l,Fa(n,l)}}s(sv,"wf");var tl={readContext:Jt,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useInsertionEffect:vt,useLayoutEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useMutableSource:vt,useSyncExternalStore:vt,useId:vt,unstable_isNewReconciler:!1},zy={readContext:Jt,useCallback:s(function(n,o){return Gn().memoizedState=[n,o===void 0?null:o],n},"useCallback"),useContext:Jt,useEffect:pu,useImperativeHandle:s(function(n,o,l){return l=l!=null?l.concat([n]):null,$s(4194308,4,Jm.bind(null,o,n),l)},"useImperativeHandle"),useLayoutEffect:s(function(n,o){return $s(4194308,4,n,o)},"useLayoutEffect"),useInsertionEffect:s(function(n,o){return $s(4,2,n,o)},"useInsertionEffect"),useMemo:s(function(n,o){var l=Gn();return o=o===void 0?null:o,n=n(),l.memoizedState=[n,o],n},"useMemo"),useReducer:s(function(n,o,l){var a=Gn();return o=l!==void 0?l(o):o,a.memoizedState=a.baseState=o,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:o},a.queue=n,n=n.dispatch=Ay.bind(null,Ke,n),[a.memoizedState,n]},"useReducer"),useRef:s(function(n){var o=Gn();return n={current:n},o.memoizedState=n},"useRef"),useState:cu,useDebugValue:du,useDeferredValue:s(function(n){var o=cu(n),l=o[0],a=o[1];return pu(function(){var c=nn.transition;nn.transition={};try{a(n)}finally{nn.transition=c}},[n]),l},"useDeferredValue"),useTransition:s(function(){var n=cu(!1),o=n[0];return n=Oy.bind(null,n[1]),Gn().memoizedState=n,[o,n]},"useTransition"),useMutableSource:s(function(){},"useMutableSource"),useSyncExternalStore:s(function(n,o,l){var a=Ke,c=Gn();if(Ne){if(l===void 0)throw Error(h(407));l=l()}else{if(l=o(),$e===null)throw Error(h(349));(Ao&30)!==0||Km(a,o,l)}c.memoizedState=l;var d={value:l,getSnapshot:o};return c.queue=d,pu(Ym.bind(null,a,d,n),[n]),a.flags|=2048,ki(9,Wm.bind(null,a,d,l,o),void 0,null),l},"useSyncExternalStore"),useId:s(function(){var n=Gn(),o=$e.identifierPrefix;if(Ne){var l=Un,a=Bn;l=(a&~(1<<32-fn(a)-1)).toString(32)+l,o=":"+o+"R"+l,l=Ci++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=Ly++,o=":"+o+"r"+l.toString(32)+":";return n.memoizedState=o},"useId"),unstable_isNewReconciler:!1},jy={readContext:Jt,useCallback:ev,useContext:Jt,useEffect:Ri,useImperativeHandle:$m,useInsertionEffect:Xm,useLayoutEffect:Zm,useMemo:tv,useReducer:Zs,useRef:Qm,useState:s(function(){return Zs(Ur)},"useState"),useDebugValue:du,useDeferredValue:s(function(n){var o=Zs(Ur),l=o[0],a=o[1];return Ri(function(){var c=nn.transition;nn.transition={};try{a(n)}finally{nn.transition=c}},[n]),l},"useDeferredValue"),useTransition:s(function(){var n=Zs(Ur)[0],o=Mn().memoizedState;return[n,o]},"useTransition"),useMutableSource:Um,useSyncExternalStore:Gm,useId:nv,unstable_isNewReconciler:!1},Iy={readContext:Jt,useCallback:ev,useContext:Jt,useEffect:Ri,useImperativeHandle:$m,useInsertionEffect:Xm,useLayoutEffect:Zm,useMemo:tv,useReducer:Js,useRef:Qm,useState:s(function(){return Js(Ur)},"useState"),useDebugValue:du,useDeferredValue:s(function(n){var o=Js(Ur),l=o[0],a=o[1];return Ri(function(){var c=nn.transition;nn.transition={};try{a(n)}finally{nn.transition=c}},[n]),l},"useDeferredValue"),useTransition:s(function(){var n=Js(Ur)[0],o=Mn().memoizedState;return[n,o]},"useTransition"),useMutableSource:Um,useSyncExternalStore:Gm,useId:nv,unstable_isNewReconciler:!1};function hu(n,o){try{var l="",a=o;do l+=Ty(a),a=a.return;while(a);var c=l}catch(d){c="\nError generating stack: "+d.message+"\n"+d.stack}return{value:n,source:o,stack:c}}s(hu,"xf");function fu(n,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}s(fu,"yf");var Ny=typeof WeakMap=="function"?WeakMap:Map;function lv(n,o,l){l=Hn(-1,l),l.tag=3,l.payload={element:null};var a=o.value;return l.callback=function(){gl||(gl=!0,Ou=a),fu(n,o)},l}s(lv,"Af");function av(n,o,l){l=Hn(-1,l),l.tag=3;var a=n.type.getDerivedStateFromError;if(typeof a=="function"){var c=o.value;l.payload=function(){return a(c)},l.callback=function(){fu(n,o)}}var d=n.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(l.callback=function(){fu(n,o),typeof a!="function"&&(vr===null?vr=new Set([this]):vr.add(this));var g=o.stack;this.componentDidCatch(o.value,{componentStack:g!==null?g:""})}),l}s(av,"Df");function uv(n,o,l){var a=n.pingCache;if(a===null){a=n.pingCache=new Ny;var c=new Set;a.set(o,c)}else c=a.get(o),c===void 0&&(c=new Set,a.set(o,c));c.has(l)||(c.add(l),n=Jy.bind(null,n,o,l),o.then(n,n))}s(uv,"Ff");function cv(n){do{var o;if((o=n.tag===13)&&(o=n.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return n;n=n.return}while(n!==null);return null}s(cv,"Hf");function pv(n,o,l,a,c){return(n.mode&1)===0?(n===o?n.flags|=65536:(n.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=Hn(-1,1),o.tag=2,mr(l,o))),l.lanes|=1),n):(n.flags|=65536,n.lanes=c,n)}s(pv,"If");function Tn(n){n.flags|=4}s(Tn,"Jf");function dv(n,o){if(n!==null&&n.child===o.child)return!0;if((o.flags&16)!==0)return!1;for(n=o.child;n!==null;){if((n.flags&12854)!==0||(n.subtreeFlags&12854)!==0)return!1;n=n.sibling}return!0}s(dv,"Kf");var Mi,Ti,nl,rl;if(ae)Mi=s(function(n,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)qe(n,l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},"Lf"),Ti=s(function(){},"Mf"),nl=s(function(n,o,l,a,c){if(n=n.memoizedProps,n!==a){var d=o.stateNode,g=Rn(tn.current);l=Lt(d,l,n,a,c,g),(o.updateQueue=l)&&Tn(o)}},"Nf"),rl=s(function(n,o,l,a){l!==a&&Tn(o)},"Of");else if(xt){Mi=s(function(n,o,l,a){for(var c=o.child;c!==null;){if(c.tag===5){var d=c.stateNode;l&&a&&(d=cr(d,c.type,c.memoizedProps,c)),qe(n,d)}else if(c.tag===6)d=c.stateNode,l&&a&&(d=pr(d,c.memoizedProps,c)),qe(n,d);else if(c.tag!==4){if(c.tag===22&&c.memoizedState!==null)d=c.child,d!==null&&(d.return=c),Mi(n,c,!0,!0);else if(c.child!==null){c.child.return=c,c=c.child;continue}}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},"Lf");var hv=s(function(n,o,l,a){for(var c=o.child;c!==null;){if(c.tag===5){var d=c.stateNode;l&&a&&(d=cr(d,c.type,c.memoizedProps,c)),Zt(n,d)}else if(c.tag===6)d=c.stateNode,l&&a&&(d=pr(d,c.memoizedProps,c)),Zt(n,d);else if(c.tag!==4){if(c.tag===22&&c.memoizedState!==null)d=c.child,d!==null&&(d.return=c),hv(n,c,!0,!0);else if(c.child!==null){c.child.return=c,c=c.child;continue}}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},"Pf");Ti=s(function(n,o){var l=o.stateNode;if(!dv(n,o)){n=l.containerInfo;var a=mi(n);hv(a,o,!1,!1),l.pendingChildren=a,Tn(o),hn(n,a)}},"Mf"),nl=s(function(n,o,l,a,c){var d=n.stateNode,g=n.memoizedProps;if((n=dv(n,o))&&g===a)o.stateNode=d;else{var y=o.stateNode,R=Rn(tn.current),z=null;g!==a&&(z=Lt(y,l,g,a,c,R)),n&&z===null?o.stateNode=d:(d=wm(d,z,l,g,a,o,n,y),pe(d,l,a,c,R)&&Tn(o),o.stateNode=d,n?Tn(o):Mi(d,o,!1,!1))}},"Nf"),rl=s(function(n,o,l,a){l!==a?(n=Rn(Lo.current),l=Rn(tn.current),o.stateNode=ir(a,n,l,o),Tn(o)):o.stateNode=n.stateNode},"Of")}else Ti=s(function(){},"Mf"),nl=s(function(){},"Nf"),rl=s(function(){},"Of");function Li(n,o){if(!Ne)switch(n.tailMode){case"hidden":o=n.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?o||n.tail===null?n.tail=null:n.tail.sibling=null:a.sibling=null}}s(Li,"Qf");function gt(n){var o=n.alternate!==null&&n.alternate.child===n.child,l=0,a=0;if(o)for(var c=n.child;c!==null;)l|=c.lanes|c.childLanes,a|=c.subtreeFlags&14680064,a|=c.flags&14680064,c.return=n,c=c.sibling;else for(c=n.child;c!==null;)l|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=n,c=c.sibling;return n.subtreeFlags|=a,n.childLanes=l,o}s(gt,"P");function Vy(n,o,l){var a=o.pendingProps;switch($a(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(o),null;case 1:return At(o.type)&&Os(),gt(o),null;case 3:return a=o.stateNode,Oo(),je(Ot),je(ft),su(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(_i(o)?Tn(o):n===null||n.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,vn!==null&&(zu(vn),vn=null))),Ti(n,o),gt(o),null;case 5:ou(o),l=Rn(Lo.current);var c=o.type;if(n!==null&&o.stateNode!=null)nl(n,o,c,a,l),n.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!a){if(o.stateNode===null)throw Error(h(166));return gt(o),null}if(n=Rn(tn.current),_i(o)){if(!Te)throw Error(h(175));n=iy(o.stateNode,o.type,o.memoizedProps,l,n,o,!yi),o.updateQueue=n,n!==null&&Tn(o)}else{var d=ye(c,a,l,n,o);Mi(d,o,!1,!1),o.stateNode=d,pe(d,c,a,l,n)&&Tn(o)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return gt(o),null;case 6:if(n&&o.stateNode!=null)rl(n,o,n.memoizedProps,a);else{if(typeof a!="string"&&o.stateNode===null)throw Error(h(166));if(n=Rn(Lo.current),l=Rn(tn.current),_i(o)){if(!Te)throw Error(h(176));if(n=o.stateNode,a=o.memoizedProps,(l=sy(n,a,o,!yi))&&(c=Bt,c!==null))switch(d=(c.mode&1)!==0,c.tag){case 3:hy(c.stateNode.containerInfo,n,a,d);break;case 5:fy(c.type,c.memoizedProps,c.stateNode,n,a,d)}l&&Tn(o)}else o.stateNode=ir(a,n,l,o)}return gt(o),null;case 13:if(je(Be),a=o.memoizedState,Ne&&Ut!==null&&(o.mode&1)!==0&&(o.flags&128)===0){for(n=Ut;n;)n=vi(n);return Mo(),o.flags|=98560,o}if(a!==null&&a.dehydrated!==null){if(a=_i(o),n===null){if(!a)throw Error(h(318));if(!Te)throw Error(h(344));if(n=o.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(h(317));ly(n,o)}else Mo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;return gt(o),null}return vn!==null&&(zu(vn),vn=null),(o.flags&128)!==0?(o.lanes=l,o):(a=a!==null,l=!1,n===null?_i(o):l=n.memoizedState!==null,a&&!l&&(o.child.flags|=8192,(o.mode&1)!==0&&(n===null||(Be.current&1)!==0?ot===0&&(ot=3):Iu())),o.updateQueue!==null&&(o.flags|=4),gt(o),null);case 4:return Oo(),Ti(n,o),n===null&&lr(o.stateNode.containerInfo),gt(o),null;case 10:return Ya(o.type._context),gt(o),null;case 17:return At(o.type)&&Os(),gt(o),null;case 19:if(je(Be),c=o.memoizedState,c===null)return gt(o),null;if(a=(o.flags&128)!==0,d=c.rendering,d===null)if(a)Li(c,!1);else{if(ot!==0||n!==null&&(n.flags&128)!==0)for(n=o.child;n!==null;){if(d=qs(n),d!==null){for(o.flags|=128,Li(c,!1),n=d.updateQueue,n!==null&&(o.updateQueue=n,o.flags|=4),o.subtreeFlags=0,n=l,a=o.child;a!==null;)l=a,c=n,l.flags&=14680066,d=l.alternate,d===null?(l.childLanes=0,l.lanes=c,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=d.childLanes,l.lanes=d.lanes,l.child=d.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=d.memoizedProps,l.memoizedState=d.memoizedState,l.updateQueue=d.updateQueue,l.type=d.type,c=d.dependencies,l.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),a=a.sibling;return Le(Be,Be.current&1|2),o.child}n=n.sibling}c.tail!==null&&lt()>Lu&&(o.flags|=128,a=!0,Li(c,!1),o.lanes=4194304)}else{if(!a)if(n=qs(d),n!==null){if(o.flags|=128,a=!0,n=n.updateQueue,n!==null&&(o.updateQueue=n,o.flags|=4),Li(c,!0),c.tail===null&&c.tailMode==="hidden"&&!d.alternate&&!Ne)return gt(o),null}else 2*lt()-c.renderingStartTime>Lu&&l!==1073741824&&(o.flags|=128,a=!0,Li(c,!1),o.lanes=4194304);c.isBackwards?(d.sibling=o.child,o.child=d):(n=c.last,n!==null?n.sibling=d:o.child=d,c.last=d)}return c.tail!==null?(o=c.tail,c.rendering=o,c.tail=o.sibling,c.renderingStartTime=lt(),o.sibling=null,n=Be.current,Le(Be,a?n&1|2:n&1),o):(gt(o),null);case 22:case 23:return ju(),a=o.memoizedState!==null,n!==null&&n.memoizedState!==null!==a&&(o.flags|=8192),a&&(o.mode&1)!==0?(Kt&1073741824)!==0&&(gt(o),ae&&o.subtreeFlags&6&&(o.flags|=8192)):gt(o),null;case 24:return null;case 25:return null}throw Error(h(156,o.tag))}s(Vy,"Rf");var Fy=f.ReactCurrentOwner,Gt=!1;function Pt(n,o,l,a){o.child=n===null?Hm(o,null,l,a):To(o,n.child,l,a)}s(Pt,"R");function fv(n,o,l,a,c){l=l.render;var d=o.ref;return Co(o,c),a=au(n,o,l,a,d,c),l=uu(),n!==null&&!Gt?(o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~c,Kn(n,o,c)):(Ne&&l&&Ja(o),o.flags|=1,Pt(n,o,a,c),o.child)}s(fv,"Yf");function mv(n,o,l,a,c){if(n===null){var d=l.type;return typeof d=="function"&&!Nu(d)&&d.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=d,vv(n,o,d,a,c)):(n=El(l.type,null,a,o,o.mode,c),n.ref=o.ref,n.return=o,o.child=n)}if(d=n.child,(n.lanes&c)===0){var g=d.memoizedProps;if(l=l.compare,l=l!==null?l:Vs,l(g,a)&&n.ref===o.ref)return Kn(n,o,c)}return o.flags|=1,n=yr(d,a),n.ref=o.ref,n.return=o,o.child=n}s(mv,"$f");function vv(n,o,l,a,c){if(n!==null&&Vs(n.memoizedProps,a)&&n.ref===o.ref)if(Gt=!1,(n.lanes&c)!==0)(n.flags&131072)!==0&&(Gt=!0);else return o.lanes=n.lanes,Kn(n,o,c);return mu(n,o,l,a,c)}s(vv,"bg");function gv(n,o,l){var a=o.pendingProps,c=a.children,d=n!==null?n.memoizedState:null;if(a.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null},Le(Do,Kt),Kt|=l;else if((l&1073741824)!==0)o.memoizedState={baseLanes:0,cachePool:null},a=d!==null?d.baseLanes:l,Le(Do,Kt),Kt|=a;else return n=d!==null?d.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:n,cachePool:null},o.updateQueue=null,Le(Do,Kt),Kt|=n,null;else d!==null?(a=d.baseLanes|l,o.memoizedState=null):a=l,Le(Do,Kt),Kt|=a;return Pt(n,o,c,l),o.child}s(gv,"dg");function wv(n,o){var l=o.ref;(n===null&&l!==null||n!==null&&n.ref!==l)&&(o.flags|=512,o.flags|=2097152)}s(wv,"fg");function mu(n,o,l,a,c){var d=At(l)?Fr:ft.current;return d=Eo(o,d),Co(o,c),l=au(n,o,l,a,d,c),a=uu(),n!==null&&!Gt?(o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~c,Kn(n,o,c)):(Ne&&a&&Ja(o),o.flags|=1,Pt(n,o,l,c),o.child)}s(mu,"cg");function bv(n,o,l,a,c){if(At(l)){var d=!0;As(o)}else d=!1;if(Co(o,c),o.stateNode===null)n!==null&&(n.alternate=null,o.alternate=null,o.flags|=2),Am(o,l,a),Za(o,l,a,c),a=!0;else if(n===null){var g=o.stateNode,y=o.memoizedProps;g.props=y;var R=g.context,z=l.contextType;typeof z=="object"&&z!==null?z=Jt(z):(z=At(l)?Fr:ft.current,z=Eo(o,z));var G=l.getDerivedStateFromProps,re=typeof G=="function"||typeof g.getSnapshotBeforeUpdate=="function";re||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(y!==a||R!==z)&&Dm(o,g,a,z),fr=!1;var Z=o.memoizedState;g.state=Z,Us(o,a,g,c),R=o.memoizedState,y!==a||Z!==R||Ot.current||fr?(typeof G=="function"&&(Xa(o,l,G,a),R=o.memoizedState),(y=fr||Om(o,l,y,a,Z,R,z))?(re||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(o.flags|=4194308)):(typeof g.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=a,o.memoizedState=R),g.props=a,g.state=R,g.context=z,a=y):(typeof g.componentDidMount=="function"&&(o.flags|=4194308),a=!1)}else{g=o.stateNode,Rm(n,o),y=o.memoizedProps,z=o.type===o.elementType?y:mn(o.type,y),g.props=z,re=o.pendingProps,Z=g.context,R=l.contextType,typeof R=="object"&&R!==null?R=Jt(R):(R=At(l)?Fr:ft.current,R=Eo(o,R));var Re=l.getDerivedStateFromProps;(G=typeof Re=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(y!==re||Z!==R)&&Dm(o,g,a,R),fr=!1,Z=o.memoizedState,g.state=Z,Us(o,a,g,c);var Y=o.memoizedState;y!==re||Z!==Y||Ot.current||fr?(typeof Re=="function"&&(Xa(o,l,Re,a),Y=o.memoizedState),(z=fr||Om(o,l,z,a,Z,Y,R)||!1)?(G||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(a,Y,R),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(a,Y,R)),typeof g.componentDidUpdate=="function"&&(o.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof g.componentDidUpdate!="function"||y===n.memoizedProps&&Z===n.memoizedState||(o.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||y===n.memoizedProps&&Z===n.memoizedState||(o.flags|=1024),o.memoizedProps=a,o.memoizedState=Y),g.props=a,g.state=Y,g.context=R,a=z):(typeof g.componentDidUpdate!="function"||y===n.memoizedProps&&Z===n.memoizedState||(o.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||y===n.memoizedProps&&Z===n.memoizedState||(o.flags|=1024),a=!1)}return vu(n,o,l,a,d,c)}s(bv,"gg");function vu(n,o,l,a,c,d){wv(n,o);var g=(o.flags&128)!==0;if(!a&&!g)return c&&Pm(o,l,!1),Kn(n,o,d);a=o.stateNode,Fy.current=o;var y=g&&typeof l.getDerivedStateFromError!="function"?null:a.render();return o.flags|=1,n!==null&&g?(o.child=To(o,n.child,null,d),o.child=To(o,null,y,d)):Pt(n,o,y,d),o.memoizedState=a.state,c&&Pm(o,l,!0),o.child}s(vu,"hg");function yv(n){var o=n.stateNode;o.pendingContext?_m(n,o.pendingContext,o.pendingContext!==o.context):o.context&&_m(n,o.context,!1),ru(n,o.containerInfo)}s(yv,"ig");function _v(n,o,l,a,c){return Mo(),nu(c),o.flags|=256,Pt(n,o,l,a),o.child}s(_v,"jg");var ol={dehydrated:null,treeContext:null,retryLane:0};function il(n){return{baseLanes:n,cachePool:null}}s(il,"lg");function xv(n,o,l){var a=o.pendingProps,c=Be.current,d=!1,g=(o.flags&128)!==0,y;if((y=g)||(y=n!==null&&n.memoizedState===null?!1:(c&2)!==0),y?(d=!0,o.flags&=-129):(n===null||n.memoizedState!==null)&&(c|=1),Le(Be,c&1),n===null)return tu(o),n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((o.mode&1)===0?o.lanes=1:Aa(n)?o.lanes=8:o.lanes=1073741824,null):(c=a.children,n=a.fallback,d?(a=o.mode,d=o.child,c={mode:"hidden",children:c},(a&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=c):d=Sl(c,a,0,null),n=Qr(n,a,l,null),d.return=o,n.return=o,d.sibling=n,o.child=d,o.child.memoizedState=il(l),o.memoizedState=ol,n):gu(o,c));if(c=n.memoizedState,c!==null){if(y=c.dehydrated,y!==null){if(g)return o.flags&256?(o.flags&=-257,sl(n,o,l,Error(h(422)))):o.memoizedState!==null?(o.child=n.child,o.flags|=128,null):(d=a.fallback,c=o.mode,a=Sl({mode:"visible",children:a.children},c,0,null),d=Qr(d,c,l,null),d.flags|=2,a.return=o,d.return=o,a.sibling=d,o.child=a,(o.mode&1)!==0&&To(o,n.child,null,l),o.child.memoizedState=il(l),o.memoizedState=ol,d);if((o.mode&1)===0)o=sl(n,o,l,null);else if(Aa(y))o=sl(n,o,l,Error(h(419)));else if(a=(l&n.childLanes)!==0,Gt||a){if(a=$e,a!==null){switch(l&-l){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}a=(d&(a.suspendedLanes|l))!==0?0:d,a!==0&&a!==c.retryLane&&(c.retryLane=a,rn(n,a,-1))}Iu(),o=sl(n,o,l,Error(h(421)))}else bm(y)?(o.flags|=128,o.child=n.child,o=$y.bind(null,n),ty(y,o),o=null):(l=c.treeContext,Te&&(Ut=oy(y),Bt=o,Ne=!0,vn=null,yi=!1,l!==null&&($t[en++]=Bn,$t[en++]=Un,$t[en++]=Hr,Bn=l.id,Un=l.overflow,Hr=o)),o=gu(o,o.pendingProps.children),o.flags|=4096);return o}return d?(a=Ev(n,o,a.children,a.fallback,l),d=o.child,c=n.child.memoizedState,d.memoizedState=c===null?il(l):{baseLanes:c.baseLanes|l,cachePool:null},d.childLanes=n.childLanes&~l,o.memoizedState=ol,a):(l=Pv(n,o,a.children,l),o.memoizedState=null,l)}return d?(a=Ev(n,o,a.children,a.fallback,l),d=o.child,c=n.child.memoizedState,d.memoizedState=c===null?il(l):{baseLanes:c.baseLanes|l,cachePool:null},d.childLanes=n.childLanes&~l,o.memoizedState=ol,a):(l=Pv(n,o,a.children,l),o.memoizedState=null,l)}s(xv,"mg");function gu(n,o){return o=Sl({mode:"visible",children:o},n.mode,0,null),o.return=n,n.child=o}s(gu,"og");function Pv(n,o,l,a){var c=n.child;return n=c.sibling,l=yr(c,{mode:"visible",children:l}),(o.mode&1)===0&&(l.lanes=a),l.return=o,l.sibling=null,n!==null&&(a=o.deletions,a===null?(o.deletions=[n],o.flags|=16):a.push(n)),o.child=l}s(Pv,"sg");function Ev(n,o,l,a,c){var d=o.mode;n=n.child;var g=n.sibling,y={mode:"hidden",children:l};return(d&1)===0&&o.child!==n?(l=o.child,l.childLanes=0,l.pendingProps=y,o.deletions=null):(l=yr(n,y),l.subtreeFlags=n.subtreeFlags&14680064),g!==null?a=yr(g,a):(a=Qr(a,d,c,null),a.flags|=2),a.return=o,l.return=o,l.sibling=a,o.child=l,a}s(Ev,"rg");function sl(n,o,l,a){return a!==null&&nu(a),To(o,n.child,null,l),n=gu(o,o.pendingProps.children),n.flags|=2,o.memoizedState=null,n}s(sl,"pg");function Sv(n,o,l){n.lanes|=o;var a=n.alternate;a!==null&&(a.lanes|=o),qa(n.return,o,l)}s(Sv,"tg");function wu(n,o,l,a,c){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:c}:(d.isBackwards=o,d.rendering=null,d.renderingStartTime=0,d.last=a,d.tail=l,d.tailMode=c)}s(wu,"ug");function Cv(n,o,l){var a=o.pendingProps,c=a.revealOrder,d=a.tail;if(Pt(n,o,a.children,l),a=Be.current,(a&2)!==0)a=a&1|2,o.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=o.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Sv(n,l,o);else if(n.tag===19)Sv(n,l,o);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===o)break e;for(;n.sibling===null;){if(n.return===null||n.return===o)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}a&=1}if(Le(Be,a),(o.mode&1)===0)o.memoizedState=null;else switch(c){case"forwards":for(l=o.child,c=null;l!==null;)n=l.alternate,n!==null&&qs(n)===null&&(c=l),l=l.sibling;l=c,l===null?(c=o.child,o.child=null):(c=l.sibling,l.sibling=null),wu(o,!1,c,l,d);break;case"backwards":for(l=null,c=o.child,o.child=null;c!==null;){if(n=c.alternate,n!==null&&qs(n)===null){o.child=c;break}n=c.sibling,c.sibling=l,l=c,c=n}wu(o,!0,l,null,d);break;case"together":wu(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}s(Cv,"vg");function Kn(n,o,l){if(n!==null&&(o.dependencies=n.dependencies),zo|=o.lanes,(l&o.childLanes)===0)return null;if(n!==null&&o.child!==n.child)throw Error(h(153));if(o.child!==null){for(n=o.child,l=yr(n,n.pendingProps),o.child=l,l.return=o;n.sibling!==null;)n=n.sibling,l=l.sibling=yr(n,n.pendingProps),l.return=o;l.sibling=null}return o.child}s(Kn,"Zf");function Hy(n,o,l){switch(o.tag){case 3:yv(o),Mo();break;case 5:Bm(o);break;case 1:At(o.type)&&As(o);break;case 4:ru(o,o.stateNode.containerInfo);break;case 10:km(o,o.type._context,o.memoizedProps.value);break;case 13:var a=o.memoizedState;if(a!==null)return a.dehydrated!==null?(Le(Be,Be.current&1),o.flags|=128,null):(l&o.child.childLanes)!==0?xv(n,o,l):(Le(Be,Be.current&1),n=Kn(n,o,l),n!==null?n.sibling:null);Le(Be,Be.current&1);break;case 19:if(a=(l&o.childLanes)!==0,(n.flags&128)!==0){if(a)return Cv(n,o,l);o.flags|=128}var c=o.memoizedState;if(c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Le(Be,Be.current),a)break;return null;case 22:case 23:return o.lanes=0,gv(n,o,l)}return Kn(n,o,l)}s(Hy,"wg");function By(n,o){switch($a(o),o.tag){case 1:return At(o.type)&&Os(),n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 3:return Oo(),je(Ot),je(ft),su(),n=o.flags,(n&65536)!==0&&(n&128)===0?(o.flags=n&-65537|128,o):null;case 5:return ou(o),null;case 13:if(je(Be),n=o.memoizedState,n!==null&&n.dehydrated!==null){if(o.alternate===null)throw Error(h(340));Mo()}return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 19:return je(Be),null;case 4:return Oo(),null;case 10:return Ya(o.type._context),null;case 22:case 23:return ju(),null;case 24:return null;default:return null}}s(By,"xg");var ll=!1,Gr=!1,Uy=typeof WeakSet=="function"?WeakSet:Set,F=null;function al(n,o){var l=n.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(a){jt(n,o,a)}else l.current=null}s(al,"Bg");function bu(n,o,l){try{l()}catch(a){jt(n,o,a)}}s(bu,"Cg");var kv=!1;function Gy(n,o){for(fe(n.containerInfo),F=o;F!==null;)if(n=F,o=n.child,(n.subtreeFlags&1028)!==0&&o!==null)o.return=n,F=o;else for(;F!==null;){n=F;try{var l=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(l!==null){var a=l.memoizedProps,c=l.memoizedState,d=n.stateNode,g=d.getSnapshotBeforeUpdate(n.elementType===n.type?a:mn(n.type,a),c);d.__reactInternalSnapshotBeforeUpdate=g}break;case 3:ae&&Pn(n.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(h(163))}}catch(y){jt(n,n.return,y)}if(o=n.sibling,o!==null){o.return=n.return,F=o;break}F=n.return}return l=kv,kv=!1,l}s(Gy,"Eg");function Kr(n,o,l){var a=o.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&n)===n){var d=c.destroy;c.destroy=void 0,d!==void 0&&bu(o,l,d)}c=c.next}while(c!==a)}}s(Kr,"Fg");function Oi(n,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&n)===n){var a=l.create;l.destroy=a()}l=l.next}while(l!==o)}}s(Oi,"Gg");function yu(n){var o=n.ref;if(o!==null){var l=n.stateNode;switch(n.tag){case 5:n=st(l);break;default:n=l}typeof o=="function"?o(n):o.current=n}}s(yu,"Hg");function Rv(n,o,l){if(En&&typeof En.onCommitFiberUnmount=="function")try{En.onCommitFiberUnmount(Is,o)}catch(g){}switch(o.tag){case 0:case 11:case 14:case 15:if(n=o.updateQueue,n!==null&&(n=n.lastEffect,n!==null)){var a=n=n.next;do{var c=a,d=c.destroy;c=c.tag,d!==void 0&&((c&2)!==0||(c&4)!==0)&&bu(o,l,d),a=a.next}while(a!==n)}break;case 1:if(al(o,l),n=o.stateNode,typeof n.componentWillUnmount=="function")try{n.props=o.memoizedProps,n.state=o.memoizedState,n.componentWillUnmount()}catch(g){jt(o,l,g)}break;case 5:al(o,l);break;case 4:ae?Dv(n,o,l):xt&&xt&&(o=o.stateNode.containerInfo,l=mi(o),ur(o,l))}}s(Rv,"Ig");function Mv(n,o,l){for(var a=o;;)if(Rv(n,a,l),a.child===null||ae&&a.tag===4){if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return;a=a.return}a.sibling.return=a.return,a=a.sibling}else a.child.return=a,a=a.child}s(Mv,"Kg");function Tv(n){var o=n.alternate;o!==null&&(n.alternate=null,Tv(o)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(o=n.stateNode,o!==null&&Qt(o)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}s(Tv,"Lg");function Lv(n){return n.tag===5||n.tag===3||n.tag===4}s(Lv,"Mg");function Ov(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Lv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}s(Ov,"Ng");function Av(n){if(ae){e:{for(var o=n.return;o!==null;){if(Lv(o))break e;o=o.return}throw Error(h(160))}var l=o;switch(l.tag){case 5:o=l.stateNode,l.flags&32&&(N(o),l.flags&=-33),l=Ov(n),xu(n,l,o);break;case 3:case 4:o=l.stateNode.containerInfo,l=Ov(n),_u(n,l,o);break;default:throw Error(h(161))}}}s(Av,"Og");function _u(n,o,l){var a=n.tag;if(a===5||a===6)n=n.stateNode,o?Ls(l,n,o):Ma(l,n);else if(a!==4&&(n=n.child,n!==null))for(_u(n,o,l),n=n.sibling;n!==null;)_u(n,o,l),n=n.sibling}s(_u,"Qg");function xu(n,o,l){var a=n.tag;if(a===5||a===6)n=n.stateNode,o?Oa(l,n,o):hi(l,n);else if(a!==4&&(n=n.child,n!==null))for(xu(n,o,l),n=n.sibling;n!==null;)xu(n,o,l),n=n.sibling}s(xu,"Pg");function Dv(n,o,l){for(var a=o,c=!1,d,g;;){if(!c){c=a.return;e:for(;;){if(c===null)throw Error(h(160));switch(d=c.stateNode,c.tag){case 5:g=!1;break e;case 3:d=d.containerInfo,g=!0;break e;case 4:d=d.containerInfo,g=!0;break e}c=c.return}c=!0}if(a.tag===5||a.tag===6)Mv(n,a,l),g?P(d,a.stateNode):fi(d,a.stateNode);else if(a.tag===18)g?py(d,a.stateNode):cy(d,a.stateNode);else if(a.tag===4){if(a.child!==null){d=a.stateNode.containerInfo,g=!0,a.child.return=a,a=a.child;continue}}else if(Rv(n,a,l),a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return;a=a.return,a.tag===4&&(c=!1)}a.sibling.return=a.return,a=a.sibling}}s(Dv,"Jg");function Pu(n,o){if(ae){switch(o.tag){case 0:case 11:case 14:case 15:Kr(3,o,o.return),Oi(3,o),Kr(5,o,o.return);return;case 1:return;case 5:var l=o.stateNode;if(l!=null){var a=o.memoizedProps;n=n!==null?n.memoizedProps:a;var c=o.type,d=o.updateQueue;o.updateQueue=null,d!==null&&La(l,d,c,n,a,o)}return;case 6:if(o.stateNode===null)throw Error(h(162));l=o.memoizedProps,Ta(o.stateNode,n!==null?n.memoizedProps:l,l);return;case 3:Te&&n!==null&&n.memoizedState.isDehydrated&&ym(o.stateNode.containerInfo);return;case 12:return;case 13:ul(o);return;case 19:ul(o);return;case 17:return}throw Error(h(163))}switch(o.tag){case 0:case 11:case 14:case 15:Kr(3,o,o.return),Oi(3,o),Kr(5,o,o.return);return;case 12:return;case 13:ul(o);return;case 19:ul(o);return;case 3:Te&&n!==null&&n.memoizedState.isDehydrated&&ym(o.stateNode.containerInfo);break;case 22:case 23:return}e:if(xt){switch(o.tag){case 1:case 5:case 6:break e;case 3:case 4:o=o.stateNode,ur(o.containerInfo,o.pendingChildren);break e}throw Error(h(163))}}s(Pu,"Rg");function ul(n){var o=n.updateQueue;if(o!==null){n.updateQueue=null;var l=n.stateNode;l===null&&(l=n.stateNode=new Uy),o.forEach(function(a){var c=e_.bind(null,n,a);l.has(a)||(l.add(a),a.then(c,c))})}}s(ul,"Sg");function Ky(n,o){for(F=o;F!==null;){o=F;var l=o.deletions;if(l!==null)for(var a=0;a<l.length;a++){var c=l[a];try{var d=n;ae?Dv(d,c,o):Mv(d,c,o);var g=c.alternate;g!==null&&(g.return=null),c.return=null}catch(W){jt(c,o,W)}}if(l=o.child,(o.subtreeFlags&12854)!==0&&l!==null)l.return=o,F=l;else for(;F!==null;){o=F;try{var y=o.flags;if(y&32&&ae&&N(o.stateNode),y&512){var R=o.alternate;if(R!==null){var z=R.ref;z!==null&&(typeof z=="function"?z(null):z.current=null)}}if(y&8192)switch(o.tag){case 13:if(o.memoizedState!==null){var G=o.alternate;(G===null||G.memoizedState===null)&&(Tu=lt())}break;case 22:var re=o.memoizedState!==null,Z=o.alternate,Re=Z!==null&&Z.memoizedState!==null;if(l=o,ae){e:if(a=l,c=re,d=null,ae)for(var Y=a;;){if(Y.tag===5){if(d===null){d=Y;var wt=Y.stateNode;c?ee(wt):Je(Y.stateNode,Y.memoizedProps)}}else if(Y.tag===6){if(d===null){var sn=Y.stateNode;c?me(sn):dn(sn,Y.memoizedProps)}}else if((Y.tag!==22&&Y.tag!==23||Y.memoizedState===null||Y===a)&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===a)break;for(;Y.sibling===null;){if(Y.return===null||Y.return===a)break e;d===Y&&(d=null),Y=Y.return}d===Y&&(d=null),Y.sibling.return=Y.return,Y=Y.sibling}}if(re&&!Re&&(l.mode&1)!==0){F=l;for(var S=l.child;S!==null;){for(l=F=S;F!==null;){a=F;var x=a.child;switch(a.tag){case 0:case 11:case 14:case 15:Kr(4,a,a.return);break;case 1:al(a,a.return);var C=a.stateNode;if(typeof C.componentWillUnmount=="function"){var H=a.return;try{C.props=a.memoizedProps,C.state=a.memoizedState,C.componentWillUnmount()}catch(W){jt(a,H,W)}}break;case 5:al(a,a.return);break;case 22:if(a.memoizedState!==null){Iv(l);continue}}x!==null?(x.return=a,F=x):Iv(l)}S=S.sibling}}}switch(y&4102){case 2:Av(o),o.flags&=-3;break;case 6:Av(o),o.flags&=-3,Pu(o.alternate,o);break;case 4096:o.flags&=-4097;break;case 4100:o.flags&=-4097,Pu(o.alternate,o);break;case 4:Pu(o.alternate,o)}}catch(W){jt(o,o.return,W)}if(l=o.sibling,l!==null){l.return=o.return,F=l;break}F=o.return}}}s(Ky,"Ug");function Wy(n,o,l){F=n,zv(n,o,l)}s(Wy,"Xg");function zv(n,o,l){for(var a=(n.mode&1)!==0;F!==null;){var c=F,d=c.child;if(c.tag===22&&a){var g=c.memoizedState!==null||ll;if(!g){var y=c.alternate,R=y!==null&&y.memoizedState!==null||Gr;y=ll;var z=Gr;if(ll=g,(Gr=R)&&!z)for(F=c;F!==null;)g=F,R=g.child,g.tag===22&&g.memoizedState!==null?Nv(c):R!==null?(R.return=g,F=R):Nv(c);for(;d!==null;)F=d,zv(d,o,l),d=d.sibling;F=c,ll=y,Gr=z}jv(n,o,l)}else(c.subtreeFlags&8772)!==0&&d!==null?(d.return=c,F=d):jv(n,o,l)}}s(zv,"Yg");function jv(n){for(;F!==null;){var o=F;if((o.flags&8772)!==0){var l=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Gr||Oi(5,o);break;case 1:var a=o.stateNode;if(o.flags&4&&!Gr)if(l===null)a.componentDidMount();else{var c=o.elementType===o.type?l.memoizedProps:mn(o.type,l.memoizedProps);a.componentDidUpdate(c,l.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var d=o.updateQueue;d!==null&&Tm(o,d,a);break;case 3:var g=o.updateQueue;if(g!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=st(o.child.stateNode);break;case 1:l=o.child.stateNode}Tm(o,g,l)}break;case 5:var y=o.stateNode;l===null&&o.flags&4&&Ts(y,o.type,o.memoizedProps,o);break;case 6:break;case 4:break;case 12:break;case 13:if(Te&&o.memoizedState===null){var R=o.alternate;if(R!==null){var z=R.memoizedState;if(z!==null){var G=z.dehydrated;G!==null&&uy(G)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(h(163))}Gr||o.flags&512&&yu(o)}catch(re){jt(o,o.return,re)}}if(o===n){F=null;break}if(l=o.sibling,l!==null){l.return=o.return,F=l;break}F=o.return}}s(jv,"$g");function Iv(n){for(;F!==null;){var o=F;if(o===n){F=null;break}var l=o.sibling;if(l!==null){l.return=o.return,F=l;break}F=o.return}}s(Iv,"Wg");function Nv(n){for(;F!==null;){var o=F;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{Oi(4,o)}catch(R){jt(o,l,R)}break;case 1:var a=o.stateNode;if(typeof a.componentDidMount=="function"){var c=o.return;try{a.componentDidMount()}catch(R){jt(o,c,R)}}var d=o.return;try{yu(o)}catch(R){jt(o,d,R)}break;case 5:var g=o.return;try{yu(o)}catch(R){jt(o,g,R)}}}catch(R){jt(o,o.return,R)}if(o===n){F=null;break}var y=o.sibling;if(y!==null){y.return=o.return,F=y;break}F=o.return}}s(Nv,"Zg");var cl=0,pl=1,dl=2,hl=3,fl=4;if(typeof Symbol=="function"&&Symbol.for){var Ai=Symbol.for;cl=Ai("selector.component"),pl=Ai("selector.has_pseudo_class"),dl=Ai("selector.role"),hl=Ai("selector.test_id"),fl=Ai("selector.text")}function Eu(n){var o=_n(n);if(o!=null){if(typeof o.memoizedProps["data-testname"]!="string")throw Error(h(364));return o}if(n=ci(n),n===null)throw Error(h(362));return n.stateNode.current}s(Eu,"gh");function Su(n,o){switch(o.$$typeof){case cl:if(n.type===o.value)return!0;break;case pl:e:{o=o.value,n=[n,0];for(var l=0;l<n.length;){var a=n[l++],c=n[l++],d=o[c];if(a.tag!==5||!Ht(a)){for(;d!=null&&Su(a,d);)c++,d=o[c];if(c===o.length){o=!0;break e}else for(a=a.child;a!==null;)n.push(a,c),a=a.sibling}}o=!1}return o;case dl:if(n.tag===5&&pi(n.stateNode,o.value))return!0;break;case fl:if((n.tag===5||n.tag===6)&&(n=Vr(n),n!==null&&0<=n.indexOf(o.value)))return!0;break;case hl:if(n.tag===5&&(n=n.memoizedProps["data-testname"],typeof n=="string"&&n.toLowerCase()===o.value.toLowerCase()))return!0;break;default:throw Error(h(365))}return!1}s(Su,"hh");function Cu(n){switch(n.$$typeof){case cl:return"<"+(Q(n.value)||"Unknown")+">";case pl:return":has("+(Cu(n)||"")+")";case dl:return'[role="'+n.value+'"]';case fl:return'"'+n.value+'"';case hl:return'[data-testname="'+n.value+'"]';default:throw Error(h(365))}}s(Cu,"ih");function Vv(n,o){var l=[];n=[n,0];for(var a=0;a<n.length;){var c=n[a++],d=n[a++],g=o[d];if(c.tag!==5||!Ht(c)){for(;g!=null&&Su(c,g);)d++,g=o[d];if(d===o.length)l.push(c);else for(c=c.child;c!==null;)n.push(c,d),c=c.sibling}}return l}s(Vv,"jh");function ku(n,o){if(!xn)throw Error(h(363));n=Eu(n),n=Vv(n,o),o=[],n=Array.from(n);for(var l=0;l<n.length;){var a=n[l++];if(a.tag===5)Ht(a)||o.push(a.stateNode);else for(a=a.child;a!==null;)n.push(a),a=a.sibling}return o}s(ku,"kh");var Yy=Math.ceil,ml=f.ReactCurrentDispatcher,Ru=f.ReactCurrentOwner,Qe=f.ReactCurrentBatchConfig,ue=0,$e=null,et=null,ht=0,Kt=0,Do=dr(0),ot=0,Di=null,zo=0,vl=0,Mu=0,zi=null,Dt=null,Tu=0,Lu=1/0;function jo(){Lu=lt()+500}s(jo,"sh");var gl=!1,Ou=null,vr=null,wl=!1,gr=null,bl=0,ji=0,Au=null,yl=-1,_l=0;function Et(){return(ue&6)!==0?lt():yl!==-1?yl:yl=lt()}s(Et,"H");function wr(n){return(n.mode&1)===0?1:(ue&2)!==0&&ht!==0?ht&-ht:My.transition!==null?(_l===0&&(n=Ds,Ds<<=1,(Ds&4194240)===0&&(Ds=64),_l=n),_l):(n=_e,n!==0?n:ui())}s(wr,"zd");function rn(n,o,l){if(50<ji)throw ji=0,Au=null,Error(h(185));var a=xl(n,o);return a===null?null:(bi(a,o,l),((ue&2)===0||a!==$e)&&(a===$e&&((ue&2)===0&&(vl|=o),ot===4&&br(a,ht)),zt(a,l),o===1&&ue===0&&(n.mode&1)===0&&(jo(),Ns&&Cn())),a)}s(rn,"Ad");function xl(n,o){n.lanes|=o;var l=n.alternate;for(l!==null&&(l.lanes|=o),l=n,n=n.return;n!==null;)n.childLanes|=o,l=n.alternate,l!==null&&(l.childLanes|=o),l=n,n=n.return;return l.tag===3?l.stateNode:null}s(xl,"Ah");function zt(n,o){var l=n.callbackNode;yy(n,o);var a=js(n,n===$e?ht:0);if(a===0)l!==null&&Sm(l),n.callbackNode=null,n.callbackPriority=0;else if(o=a&-a,n.callbackPriority!==o){if(l!=null&&Sm(l),o===1)n.tag===0?Ry(Hv.bind(null,n)):Cm(Hv.bind(null,n)),Nr?ar(function(){ue===0&&Cn()}):Ha(Ba,Cn),l=null;else{switch(Em(a)){case 1:l=Ba;break;case 4:l=Ey;break;case 16:l=Ua;break;case 536870912:l=Sy;break;default:l=Ua}l=Xv(l,Fv.bind(null,n))}n.callbackPriority=o,n.callbackNode=l}}s(zt,"Z");function Fv(n,o){if(yl=-1,_l=0,(ue&6)!==0)throw Error(h(327));var l=n.callbackNode;if(qr()&&n.callbackNode!==l)return null;var a=js(n,n===$e?ht:0);if(a===0)return null;if((a&30)!==0||(a&n.expiredLanes)!==0||o)o=Pl(n,a);else{o=a;var c=ue;ue|=2;var d=Gv();($e!==n||ht!==o)&&(jo(),Wr(n,o));do try{Xy();break}catch(y){Uv(n,y)}while(!0);Wa(),ml.current=d,ue=c,et!==null?o=0:($e=null,ht=0,o=ot)}if(o!==0){if(o===2&&(c=Na(n),c!==0&&(a=c,o=Du(n,c))),o===1)throw l=Di,Wr(n,0),br(n,a),zt(n,lt()),l;if(o===6)br(n,a);else{if(c=n.current.alternate,(a&30)===0&&!qy(c)&&(o=Pl(n,a),o===2&&(d=Na(n),d!==0&&(a=d,o=Du(n,d))),o===1))throw l=Di,Wr(n,0),br(n,a),zt(n,lt()),l;switch(n.finishedWork=c,n.finishedLanes=a,o){case 0:case 1:throw Error(h(345));case 2:Yr(n,Dt);break;case 3:if(br(n,a),(a&130023424)===a&&(o=Tu+500-lt(),10<o)){if(js(n,0)!==0)break;if(c=n.suspendedLanes,(c&a)!==a){Et(),n.pingedLanes|=n.suspendedLanes&c;break}n.timeoutHandle=yo(Yr.bind(null,n,Dt),o);break}Yr(n,Dt);break;case 4:if(br(n,a),(a&4194240)===a)break;for(o=n.eventTimes,c=-1;0<a;){var g=31-fn(a);d=1<<g,g=o[g],g>c&&(c=g),a&=~d}if(a=c,a=lt()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Yy(a/1960))-a,10<a){n.timeoutHandle=yo(Yr.bind(null,n,Dt),a);break}Yr(n,Dt);break;case 5:Yr(n,Dt);break;default:throw Error(h(329))}}}return zt(n,lt()),n.callbackNode===l?Fv.bind(null,n):null}s(Fv,"Eh");function Du(n,o){var l=zi;return n.current.memoizedState.isDehydrated&&(Wr(n,o).flags|=256),n=Pl(n,o),n!==2&&(o=Dt,Dt=l,o!==null&&zu(o)),n}s(Du,"Lh");function zu(n){Dt===null?Dt=n:Dt.push.apply(Dt,n)}s(zu,"Sf");function qy(n){for(var o=n;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var a=0;a<l.length;a++){var c=l[a],d=c.getSnapshot;c=c.value;try{if(!Sn(d(),c))return!1}catch(g){return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}s(qy,"Mh");function br(n,o){for(o&=~Mu,o&=~vl,n.suspendedLanes|=o,n.pingedLanes&=~o,n=n.expirationTimes;0<o;){var l=31-fn(o),a=1<<l;n[l]=-1,o&=~a}}s(br,"Bh");function Hv(n){if((ue&6)!==0)throw Error(h(327));qr();var o=js(n,0);if((o&1)===0)return zt(n,lt()),null;var l=Pl(n,o);if(n.tag!==0&&l===2){var a=Na(n);a!==0&&(o=a,l=Du(n,a))}if(l===1)throw l=Di,Wr(n,0),br(n,o),zt(n,lt()),l;if(l===6)throw Error(h(345));return n.finishedWork=n.current.alternate,n.finishedLanes=o,Yr(n,Dt),zt(n,lt()),null}s(Hv,"Ch");function Bv(n){gr!==null&&gr.tag===0&&(ue&6)===0&&qr();var o=ue;ue|=1;var l=Qe.transition,a=_e;try{if(Qe.transition=null,_e=1,n)return n()}finally{_e=a,Qe.transition=l,ue=o,(ue&6)===0&&Cn()}}s(Bv,"Oh");function ju(){Kt=Do.current,je(Do)}s(ju,"Vf");function Wr(n,o){n.finishedWork=null,n.finishedLanes=0;var l=n.timeoutHandle;if(l!==sr&&(n.timeoutHandle=sr,yn(l)),et!==null)for(l=et.return;l!==null;){var a=l;switch($a(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Os();break;case 3:Oo(),je(Ot),je(ft),su();break;case 5:ou(a);break;case 4:Oo();break;case 13:je(Be);break;case 19:je(Be);break;case 10:Ya(a.type._context);break;case 22:case 23:ju()}l=l.return}if($e=n,et=n=yr(n.current,null),ht=Kt=o,ot=0,Di=null,Mu=vl=zo=0,Dt=zi=null,kn!==null){for(o=0;o<kn.length;o++)if(l=kn[o],a=l.interleaved,a!==null){l.interleaved=null;var c=a.next,d=l.pending;if(d!==null){var g=d.next;d.next=c,a.next=g}l.pending=a}kn=null}return n}s(Wr,"Ih");function Uv(n,o){do{var l=et;try{if(Wa(),Qs.current=tl,Xs){for(var a=Ke.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}Xs=!1}if(Ao=0,at=mt=Ke=null,Si=!1,Ci=0,Ru.current=null,l===null||l.return===null){ot=1,Di=o,et=null;break}e:{var d=n,g=l.return,y=l,R=o;if(o=ht,y.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var z=R,G=y,re=G.tag;if((G.mode&1)===0&&(re===0||re===11||re===15)){var Z=G.alternate;Z?(G.updateQueue=Z.updateQueue,G.memoizedState=Z.memoizedState,G.lanes=Z.lanes):(G.updateQueue=null,G.memoizedState=null)}var Re=cv(g);if(Re!==null){Re.flags&=-257,pv(Re,g,y,d,o),Re.mode&1&&uv(d,z,o),o=Re,R=z;var Y=o.updateQueue;if(Y===null){var wt=new Set;wt.add(R),o.updateQueue=wt}else Y.add(R);break e}else{if((o&1)===0){uv(d,z,o),Iu();break e}R=Error(h(426))}}else if(Ne&&y.mode&1){var sn=cv(g);if(sn!==null){(sn.flags&65536)===0&&(sn.flags|=256),pv(sn,g,y,d,o),nu(R);break e}}d=R,ot!==4&&(ot=2),zi===null?zi=[d]:zi.push(d),R=hu(R,y),y=g;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var S=lv(y,R,o);Mm(y,S);break e;case 1:d=R;var x=y.type,C=y.stateNode;if((y.flags&128)===0&&(typeof x.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(vr===null||!vr.has(C)))){y.flags|=65536,o&=-o,y.lanes|=o;var H=av(y,d,o);Mm(y,H);break e}}y=y.return}while(y!==null)}Wv(l)}catch(W){o=W,et===l&&l!==null&&(et=l=l.return);continue}break}while(!0)}s(Uv,"Kh");function Gv(){var n=ml.current;return ml.current=tl,n===null?tl:n}s(Gv,"Hh");function Iu(){(ot===0||ot===3||ot===2)&&(ot=4),$e===null||(zo&268435455)===0&&(vl&268435455)===0||br($e,ht)}s(Iu,"Tf");function Pl(n,o){var l=ue;ue|=2;var a=Gv();$e===n&&ht===o||Wr(n,o);do try{Qy();break}catch(c){Uv(n,c)}while(!0);if(Wa(),ue=l,ml.current=a,et!==null)throw Error(h(261));return $e=null,ht=0,ot}s(Pl,"Gh");function Qy(){for(;et!==null;)Kv(et)}s(Qy,"Qh");function Xy(){for(;et!==null&&!xy();)Kv(et)}s(Xy,"Jh");function Kv(n){var o=Qv(n.alternate,n,Kt);n.memoizedProps=n.pendingProps,o===null?Wv(n):et=o,Ru.current=null}s(Kv,"Rh");function Wv(n){var o=n;do{var l=o.alternate;if(n=o.return,(o.flags&32768)===0){if(l=Vy(l,o,Kt),l!==null){et=l;return}}else{if(l=By(l,o),l!==null){l.flags&=32767,et=l;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{ot=6,et=null;return}}if(o=o.sibling,o!==null){et=o;return}et=o=n}while(o!==null);ot===0&&(ot=5)}s(Wv,"Ph");function Yr(n,o){var l=_e,a=Qe.transition;try{Qe.transition=null,_e=1,Zy(n,o,l)}finally{Qe.transition=a,_e=l}return null}s(Yr,"Nh");function Zy(n,o,l){do qr();while(gr!==null);if((ue&6)!==0)throw Error(h(327));var a=n.finishedWork,c=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(h(177));n.callbackNode=null,n.callbackPriority=0;var d=a.lanes|a.childLanes;if(_y(n,d),n===$e&&(et=$e=null,ht=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||wl||(wl=!0,Xv(Ua,function(){return qr(),null})),d=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||d){d=Qe.transition,Qe.transition=null;var g=_e;_e=1;var y=ue;ue|=4,Ru.current=null,Gy(n,a),Ky(n,a,c),de(n.containerInfo),n.current=a,Wy(a,n,c),Py(),ue=y,_e=g,Qe.transition=d}else n.current=a;if(wl&&(wl=!1,gr=n,bl=c),d=n.pendingLanes,d===0&&(vr=null),Cy(a.stateNode,l),zt(n,lt()),o!==null)for(l=n.onRecoverableError,a=0;a<o.length;a++)l(o[a]);if(gl)throw gl=!1,n=Ou,Ou=null,n;return(bl&1)!==0&&n.tag!==0&&qr(),d=n.pendingLanes,(d&1)!==0?n===Au?ji++:(ji=0,Au=n):ji=0,Cn(),null}s(Zy,"Th");function qr(){if(gr!==null){var n=Em(bl),o=Qe.transition,l=_e;try{if(Qe.transition=null,_e=16>n?16:n,gr===null)var a=!1;else{if(n=gr,gr=null,bl=0,(ue&6)!==0)throw Error(h(331));var c=ue;for(ue|=4,F=n.current;F!==null;){var d=F,g=d.child;if((F.flags&16)!==0){var y=d.deletions;if(y!==null){for(var R=0;R<y.length;R++){var z=y[R];for(F=z;F!==null;){var G=F;switch(G.tag){case 0:case 11:case 15:Kr(8,G,d)}var re=G.child;if(re!==null)re.return=G,F=re;else for(;F!==null;){G=F;var Z=G.sibling,Re=G.return;if(Tv(G),G===z){F=null;break}if(Z!==null){Z.return=Re,F=Z;break}F=Re}}}var Y=d.alternate;if(Y!==null){var wt=Y.child;if(wt!==null){Y.child=null;do{var sn=wt.sibling;wt.sibling=null,wt=sn}while(wt!==null)}}F=d}}if((d.subtreeFlags&2064)!==0&&g!==null)g.return=d,F=g;else e:for(;F!==null;){if(d=F,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:Kr(9,d,d.return)}var S=d.sibling;if(S!==null){S.return=d.return,F=S;break e}F=d.return}}var x=n.current;for(F=x;F!==null;){g=F;var C=g.child;if((g.subtreeFlags&2064)!==0&&C!==null)C.return=g,F=C;else e:for(g=x;F!==null;){if(y=F,(y.flags&2048)!==0)try{switch(y.tag){case 0:case 11:case 15:Oi(9,y)}}catch(W){jt(y,y.return,W)}if(y===g){F=null;break e}var H=y.sibling;if(H!==null){H.return=y.return,F=H;break e}F=y.return}}if(ue=c,Cn(),En&&typeof En.onPostCommitFiberRoot=="function")try{En.onPostCommitFiberRoot(Is,n)}catch(W){}a=!0}return a}finally{_e=l,Qe.transition=o}}return!1}s(qr,"Fh");function Yv(n,o,l){o=hu(l,o),o=lv(n,o,1),mr(n,o),o=Et(),n=xl(n,1),n!==null&&(bi(n,1,o),zt(n,o))}s(Yv,"Uh");function jt(n,o,l){if(n.tag===3)Yv(n,n,l);else for(;o!==null;){if(o.tag===3){Yv(o,n,l);break}else if(o.tag===1){var a=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(vr===null||!vr.has(a))){n=hu(l,n),n=av(o,n,1),mr(o,n),n=Et(),o=xl(o,1),o!==null&&(bi(o,1,n),zt(o,n));break}}o=o.return}}s(jt,"T");function Jy(n,o,l){var a=n.pingCache;a!==null&&a.delete(o),o=Et(),n.pingedLanes|=n.suspendedLanes&l,$e===n&&(ht&l)===l&&(ot===4||ot===3&&(ht&130023424)===ht&&500>lt()-Tu?Wr(n,0):Mu|=l),zt(n,o)}s(Jy,"Gf");function qv(n,o){o===0&&((n.mode&1)===0?o=1:(o=zs,zs<<=1,(zs&130023424)===0&&(zs=4194304)));var l=Et();n=xl(n,o),n!==null&&(bi(n,o,l),zt(n,l))}s(qv,"Vh");function $y(n){var o=n.memoizedState,l=0;o!==null&&(l=o.retryLane),qv(n,l)}s($y,"qg");function e_(n,o){var l=0;switch(n.tag){case 13:var a=n.stateNode,c=n.memoizedState;c!==null&&(l=c.retryLane);break;case 19:a=n.stateNode;break;default:throw Error(h(314))}a!==null&&a.delete(o),qv(n,l)}s(e_,"Tg");var Qv;Qv=s(function(n,o,l){if(n!==null)if(n.memoizedProps!==o.pendingProps||Ot.current)Gt=!0;else{if((n.lanes&l)===0&&(o.flags&128)===0)return Gt=!1,Hy(n,o,l);Gt=(n.flags&131072)!==0}else Gt=!1,Ne&&(o.flags&1048576)!==0&&zm(o,Ws,o.index);switch(o.lanes=0,o.tag){case 2:var a=o.type;n!==null&&(n.alternate=null,o.alternate=null,o.flags|=2),n=o.pendingProps;var c=Eo(o,ft.current);Co(o,l),c=au(null,o,a,n,c,l);var d=uu();return o.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,At(a)?(d=!0,As(o)):d=!1,o.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,Qa(o),c.updater=Gs,o.stateNode=c,c._reactInternals=o,Za(o,a,n,l),o=vu(null,o,a,!0,d,l)):(o.tag=0,Ne&&d&&Ja(o),Pt(null,o,c,l),o=o.child),o;case 16:a=o.elementType;e:{switch(n!==null&&(n.alternate=null,o.alternate=null,o.flags|=2),n=o.pendingProps,c=a._init,a=c(a._payload),o.type=a,c=o.tag=n_(a),n=mn(a,n),c){case 0:o=mu(null,o,a,n,l);break e;case 1:o=bv(null,o,a,n,l);break e;case 11:o=fv(null,o,a,n,l);break e;case 14:o=mv(null,o,a,mn(a.type,n),l);break e}throw Error(h(306,a,""))}return o;case 0:return a=o.type,c=o.pendingProps,c=o.elementType===a?c:mn(a,c),mu(n,o,a,c,l);case 1:return a=o.type,c=o.pendingProps,c=o.elementType===a?c:mn(a,c),bv(n,o,a,c,l);case 3:e:{if(yv(o),n===null)throw Error(h(387));a=o.pendingProps,d=o.memoizedState,c=d.element,Rm(n,o),Us(o,a,null,l);var g=o.memoizedState;if(a=g.element,Te&&d.isDehydrated)if(d={element:a,isDehydrated:!1,cache:g.cache,transitions:g.transitions},o.updateQueue.baseState=d,o.memoizedState=d,o.flags&256){c=Error(h(423)),o=_v(n,o,a,l,c);break e}else if(a!==c){c=Error(h(424)),o=_v(n,o,a,l,c);break e}else for(Te&&(Ut=ry(o.stateNode.containerInfo),Bt=o,Ne=!0,vn=null,yi=!1),l=Hm(o,null,a,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Mo(),a===c){o=Kn(n,o,l);break e}Pt(n,o,a,l)}o=o.child}return o;case 5:return Bm(o),n===null&&tu(o),a=o.type,c=o.pendingProps,d=n!==null?n.memoizedProps:null,g=c.children,_t(a,c)?g=null:d!==null&&_t(a,d)&&(o.flags|=32),wv(n,o),Pt(n,o,g,l),o.child;case 6:return n===null&&tu(o),null;case 13:return xv(n,o,l);case 4:return ru(o,o.stateNode.containerInfo),a=o.pendingProps,n===null?o.child=To(o,null,a,l):Pt(n,o,a,l),o.child;case 11:return a=o.type,c=o.pendingProps,c=o.elementType===a?c:mn(a,c),fv(n,o,a,c,l);case 7:return Pt(n,o,o.pendingProps,l),o.child;case 8:return Pt(n,o,o.pendingProps.children,l),o.child;case 12:return Pt(n,o,o.pendingProps.children,l),o.child;case 10:e:{if(a=o.type._context,c=o.pendingProps,d=o.memoizedProps,g=c.value,km(o,a,g),d!==null)if(Sn(d.value,g)){if(d.children===c.children&&!Ot.current){o=Kn(n,o,l);break e}}else for(d=o.child,d!==null&&(d.return=o);d!==null;){var y=d.dependencies;if(y!==null){g=d.child;for(var R=y.firstContext;R!==null;){if(R.context===a){if(d.tag===1){R=Hn(-1,l&-l),R.tag=2;var z=d.updateQueue;if(z!==null){z=z.shared;var G=z.pending;G===null?R.next=R:(R.next=G.next,G.next=R),z.pending=R}}d.lanes|=l,R=d.alternate,R!==null&&(R.lanes|=l),qa(d.return,l,o),y.lanes|=l;break}R=R.next}}else if(d.tag===10)g=d.type===o.type?null:d.child;else if(d.tag===18){if(g=d.return,g===null)throw Error(h(341));g.lanes|=l,y=g.alternate,y!==null&&(y.lanes|=l),qa(g,l,o),g=d.sibling}else g=d.child;if(g!==null)g.return=d;else for(g=d;g!==null;){if(g===o){g=null;break}if(d=g.sibling,d!==null){d.return=g.return,g=d;break}g=g.return}d=g}Pt(n,o,c.children,l),o=o.child}return o;case 9:return c=o.type,a=o.pendingProps.children,Co(o,l),c=Jt(c),a=a(c),o.flags|=1,Pt(n,o,a,l),o.child;case 14:return a=o.type,c=mn(a,o.pendingProps),c=mn(a.type,c),mv(n,o,a,c,l);case 15:return vv(n,o,o.type,o.pendingProps,l);case 17:return a=o.type,c=o.pendingProps,c=o.elementType===a?c:mn(a,c),n!==null&&(n.alternate=null,o.alternate=null,o.flags|=2),o.tag=1,At(a)?(n=!0,As(o)):n=!1,Co(o,l),Am(o,a,c),Za(o,a,c,l),vu(null,o,a,!0,n,l);case 19:return Cv(n,o,l);case 22:return gv(n,o,l)}throw Error(h(156,o.tag))},"Sh");function Xv(n,o){return Ha(n,o)}s(Xv,"Dh");function t_(n,o,l,a){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}s(t_,"Xh");function on(n,o,l,a){return new t_(n,o,l,a)}s(on,"Yd");function Nu(n){return n=n.prototype,!(!n||!n.isReactComponent)}s(Nu,"ag");function n_(n){if(typeof n=="function")return Nu(n)?1:0;if(n!=null){if(n=n.$$typeof,n===A)return 11;if(n===T)return 14}return 2}s(n_,"Wh");function yr(n,o){var l=n.alternate;return l===null?(l=on(n.tag,o,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=o,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&14680064,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,o=n.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l}s(yr,"je");function El(n,o,l,a,c,d){var g=2;if(a=n,typeof n=="function")Nu(n)&&(g=1);else if(typeof n=="string")g=5;else e:switch(n){case m:return Qr(l.children,c,d,o);case v:g=8,c|=8;break;case _:return n=on(12,l,o,c|2),n.elementType=_,n.lanes=d,n;case M:return n=on(13,l,o,c),n.elementType=M,n.lanes=d,n;case E:return n=on(19,l,o,c),n.elementType=E,n.lanes=d,n;case K:return Sl(l,c,d,o);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case k:g=10;break e;case L:g=9;break e;case A:g=11;break e;case T:g=14;break e;case D:g=16,a=null;break e}throw Error(h(130,n==null?n:typeof n,""))}return o=on(g,l,o,c),o.elementType=n,o.type=a,o.lanes=d,o}s(El,"le");function Qr(n,o,l,a){return n=on(7,n,a,o),n.lanes=l,n}s(Qr,"ne");function Sl(n,o,l,a){return n=on(22,n,a,o),n.elementType=K,n.lanes=l,n.stateNode={},n}s(Sl,"ng");function Vu(n,o,l){return n=on(6,n,null,o),n.lanes=l,n}s(Vu,"ke");function Fu(n,o,l){return o=on(4,n.children!==null?n.children:[],n.key,o),o.lanes=l,o.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},o}s(Fu,"me");function r_(n,o,l,a,c){this.tag=o,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=sr,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Va(0),this.expirationTimes=Va(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Va(0),this.identifierPrefix=a,this.onRecoverableError=c,Te&&(this.mutableSourceEagerHydrationData=null)}s(r_,"Yh");function Zv(n,o,l,a,c,d,g,y,R){return n=new r_(n,o,l,y,R),o===1?(o=1,d===!0&&(o|=8)):o=0,d=on(3,null,null,o),n.current=d,d.stateNode=n,d.memoizedState={element:a,isDehydrated:l,cache:null,transitions:null},Qa(d),n}s(Zv,"Zh");function Jv(n){if(!n)return hr;n=n._reactInternals;e:{if(U(n)!==n||n.tag!==1)throw Error(h(170));var o=n;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(At(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(h(171))}if(n.tag===1){var l=n.type;if(At(l))return xm(n,l,o)}return o}s(Jv,"$h");function $v(n){var o=n._reactInternals;if(o===void 0)throw typeof n.render=="function"?Error(h(188)):(n=Object.keys(n).join(","),Error(h(268,n)));return n=se(o),n===null?null:n.stateNode}s($v,"ai");function eg(n,o){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<o?l:o}}s(eg,"bi");function Hu(n,o){eg(n,o),(n=n.alternate)&&eg(n,o)}s(Hu,"ci");function o_(n){return n=se(n),n===null?null:n.stateNode}s(o_,"di");function i_(){return null}return s(i_,"ei"),t.attemptContinuousHydration=function(n){if(n.tag===13){var o=Et();rn(n,134217728,o),Hu(n,134217728)}},t.attemptHydrationAtCurrentPriority=function(n){if(n.tag===13){var o=Et(),l=wr(n);rn(n,l,o),Hu(n,l)}},t.attemptSynchronousHydration=function(n){switch(n.tag){case 3:var o=n.stateNode;if(o.current.memoizedState.isDehydrated){var l=wi(o.pendingLanes);l!==0&&(Fa(o,l|1),zt(o,lt()),(ue&6)===0&&(jo(),Cn()))}break;case 13:var a=Et();Bv(function(){return rn(n,1,a)}),Hu(n,1)}},t.batchedUpdates=function(n,o){var l=ue;ue|=1;try{return n(o)}finally{ue=l,ue===0&&(jo(),Ns&&Cn())}},t.createComponentSelector=function(n){return{$$typeof:cl,value:n}},t.createContainer=function(n,o,l,a,c,d,g){return Zv(n,o,!1,null,l,a,c,d,g)},t.createHasPseudoClassSelector=function(n){return{$$typeof:pl,value:n}},t.createHydrationContainer=function(n,o,l,a,c,d,g,y,R){return n=Zv(l,a,!0,n,c,d,g,y,R),n.context=Jv(null),l=n.current,a=Et(),c=wr(l),d=Hn(a,c),d.callback=o!=null?o:null,mr(l,d),n.current.lanes=c,bi(n,c,a),zt(n,a),n},t.createPortal=function(n,o,l){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:b,key:a==null?null:""+a,children:n,containerInfo:o,implementation:l}},t.createRoleSelector=function(n){return{$$typeof:dl,value:n}},t.createTestNameSelector=function(n){return{$$typeof:hl,value:n}},t.createTextSelector=function(n){return{$$typeof:fl,value:n}},t.deferredUpdates=function(n){var o=_e,l=Qe.transition;try{return Qe.transition=null,_e=16,n()}finally{_e=o,Qe.transition=l}},t.discreteUpdates=function(n,o,l,a,c){var d=_e,g=Qe.transition;try{return Qe.transition=null,_e=1,n(o,l,a,c)}finally{_e=d,Qe.transition=g,ue===0&&jo()}},t.findAllNodes=ku,t.findBoundingRects=function(n,o){if(!xn)throw Error(h(363));o=ku(n,o),n=[];for(var l=0;l<o.length;l++)n.push(_o(o[l]));for(o=n.length-1;0<o;o--){l=n[o];for(var a=l.x,c=a+l.width,d=l.y,g=d+l.height,y=o-1;0<=y;y--)if(o!==y){var R=n[y],z=R.x,G=z+R.width,re=R.y,Z=re+R.height;if(a>=z&&d>=re&&c<=G&&g<=Z){n.splice(o,1);break}else if(a!==z||l.width!==R.width||Z<d||re>g){if(!(d!==re||l.height!==R.height||G<a||z>c)){z>a&&(R.width+=z-a,R.x=a),G<c&&(R.width=c-z),n.splice(o,1);break}}else{re>d&&(R.height+=re-d,R.y=d),Z<g&&(R.height=g-re),n.splice(o,1);break}}}return n},t.findHostInstance=$v,t.findHostInstanceWithNoPortals=function(n){return n=O(n),n=n!==null?rt(n):null,n===null?null:n.stateNode},t.findHostInstanceWithWarning=function(n){return $v(n)},t.flushControlled=function(n){var o=ue;ue|=1;var l=Qe.transition,a=_e;try{Qe.transition=null,_e=1,n()}finally{_e=a,Qe.transition=l,ue=o,ue===0&&(jo(),Cn())}},t.flushPassiveEffects=qr,t.flushSync=Bv,t.focusWithin=function(n,o){if(!xn)throw Error(h(363));for(n=Eu(n),o=Vv(n,o),o=Array.from(o),n=0;n<o.length;){var l=o[n++];if(!Ht(l)){if(l.tag===5&&di(l.stateNode))return!0;for(l=l.child;l!==null;)o.push(l),l=l.sibling}}return!1},t.getCurrentUpdatePriority=function(){return _e},t.getFindAllNodesFailureDescription=function(n,o){if(!xn)throw Error(h(363));var l=0,a=[];n=[Eu(n),0];for(var c=0;c<n.length;){var d=n[c++],g=n[c++],y=o[g];if((d.tag!==5||!Ht(d))&&(Su(d,y)&&(a.push(Cu(y)),g++,g>l&&(l=g)),g<o.length))for(d=d.child;d!==null;)n.push(d,g),d=d.sibling}if(l<o.length){for(n=[];l<o.length;l++)n.push(Cu(o[l]));return"findAllNodes was able to match part of the selector:\n  "+(a.join(" > ")+"\n\nNo matching component was found for:\n  ")+n.join(" > ")}return null},t.getPublicRootInstance=function(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return st(n.child.stateNode);default:return n.child.stateNode}},t.injectIntoDevTools=function(n){if(n={bundleType:n.bundleType,version:n.version,rendererPackageName:n.rendererPackageName,rendererConfig:n.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:f.ReactCurrentDispatcher,findHostInstanceByFiber:o_,findFiberByHostInstance:n.findFiberByHostInstance||i_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")n=!1;else{var o=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(o.isDisabled||!o.supportsFiber)n=!0;else{try{Is=o.inject(n),En=o}catch(l){}n=!!o.checkDCE}}return n},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(n,o,l,a){if(!xn)throw Error(h(363));n=ku(n,o);var c=Xt(n,l,a).disconnect;return{disconnect:s(function(){c()},"disconnect")}},t.registerMutableSourceForHydration=function(n,o){var l=o._getVersion;l=l(o._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[o,l]:n.mutableSourceEagerHydrationData.push(o,l)},t.runWithPriority=function(n,o){var l=_e;try{return _e=n,o()}finally{_e=l}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(n,o,l,a){var c=o.current,d=Et(),g=wr(c);return l=Jv(l),o.context===null?o.context=l:o.pendingContext=l,o=Hn(d,g),o.payload={element:n},a=a===void 0?null:a,a!==null&&(o.callback=a),mr(c,o),n=rn(c,g,d),n!==null&&Bs(n,c,g),g},t},"$$$reconciler")});var Ff=xr((C2,pb)=>{"use strict";pb.exports=cb()});var Ab=xr((L2,Ob)=>{function lm(r,e,t){var i,u,p,h,f;e==null&&(e=100);function w(){var m=Date.now()-h;m<e&&m>=0?i=setTimeout(w,e-m):(i=null,t||(f=r.apply(p,u),p=u=null))}s(w,"later");var b=s(function(){p=this,u=arguments,h=Date.now();var m=t&&!i;return i||(i=setTimeout(w,e)),m&&(f=r.apply(p,u),p=u=null),f},"debounced");return b.clear=function(){i&&(clearTimeout(i),i=null)},b.flush=function(){i&&(f=r.apply(p,u),p=u=null,clearTimeout(i),i=null)},b}s(lm,"debounce");lm.debounce=lm;Ob.exports=lm});var Zb=xr(ka=>{"use strict";"use client";var eS=a_();Object.defineProperty(ka,"__esModule",{value:!0});ka.default=void 0;var tS=eS(m_()),nS=te(),HM=ka.default=(0,tS.default)((0,nS.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu")});var Ra=j(Se());tg();var Bo=j(Se());var l0=j(p_());tg();var wn=j(Se());var t0=j(d_());var ec=j(f_()),n0=j(te());var v_=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function g_(r,e,t){let i=e.getBoundingClientRect(),u=t&&t.getBoundingClientRect(),p=(0,ec.ownerWindow)(e),h;if(e.fakeTransform)h=e.fakeTransform;else{let b=p.getComputedStyle(e);h=b.getPropertyValue("-webkit-transform")||b.getPropertyValue("transform")}let f=0,w=0;if(h&&h!=="none"&&typeof h=="string"){let b=h.split("(")[1].split(")")[0].split(",");f=parseInt(b[4],10),w=parseInt(b[5],10)}return r==="left"?u?"translateX(".concat(u.right+f-i.left,"px)"):"translateX(".concat(p.innerWidth+f-i.left,"px)"):r==="right"?u?"translateX(-".concat(i.right-u.left-f,"px)"):"translateX(-".concat(i.left+i.width-f,"px)"):r==="up"?u?"translateY(".concat(u.bottom+w-i.top,"px)"):"translateY(".concat(p.innerHeight+w-i.top,"px)"):u?"translateY(-".concat(i.top-u.top+i.height-w,"px)"):"translateY(-".concat(i.top+i.height-w,"px)")}s(g_,"getTranslateValue");function w_(r){return typeof r=="function"?r():r}s(w_,"resolveContainer");function Il(r,e,t){let i=w_(t),u=g_(r,e,i);u&&(e.style.webkitTransform=u,e.style.transform=u)}s(Il,"setTranslateValue");var b_=wn.forwardRef(s(function(e,t){let i=Cl(),u={enter:i.transitions.easing.easeOut,exit:i.transitions.easing.sharp},p={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{addEndListener:h,appear:f=!0,children:w,container:b,direction:m="down",easing:v=u,in:_,onEnter:k,onEntered:L,onEntering:A,onExit:M,onExited:E,onExiting:T,style:D,timeout:K=p,TransitionComponent:B=Wg}=e,I=Ii(e,v_),Q=wn.useRef(null),$=qg((0,t0.default)(w),Q,t),U=s(X=>fe=>{X&&(fe===void 0?X(Q.current):X(Q.current,fe))},"normalizedTransitionCallback"),V=U((X,fe)=>{Il(m,X,b),Yg(X),k&&k(X,fe)}),O=U((X,fe)=>{let de=$u({timeout:K,style:D,easing:v},{mode:"enter"});X.style.webkitTransition=i.transitions.create("-webkit-transform",St({},de)),X.style.transition=i.transitions.create("transform",St({},de)),X.style.webkitTransform="none",X.style.transform="none",A&&A(X,fe)}),se=U(L),we=U(T),rt=U(X=>{let fe=$u({timeout:K,style:D,easing:v},{mode:"exit"});X.style.webkitTransition=i.transitions.create("-webkit-transform",fe),X.style.transition=i.transitions.create("transform",fe),Il(m,X,b),M&&M(X)}),be=U(X=>{X.style.webkitTransition="",X.style.transition="",E&&E(X)}),st=s(X=>{h&&h(Q.current,X)},"handleAddEndListener"),ze=wn.useCallback(()=>{Q.current&&Il(m,Q.current,b)},[m,b]);return wn.useEffect(()=>{if(_||m==="down"||m==="right")return;let X=$g(()=>{Q.current&&Il(m,Q.current,b)}),fe=(0,ec.ownerWindow)(Q.current);return fe.addEventListener("resize",X),()=>{X.clear(),fe.removeEventListener("resize",X)}},[m,_,b]),wn.useEffect(()=>{_||ze()},[_,ze]),(0,n0.jsx)(B,St({nodeRef:Q,onEnter:V,onEntered:se,onEntering:O,onExit:rt,onExited:be,onExiting:we,addEndListener:st,appear:f,in:_,timeout:K},I,{children:s((X,fe)=>wn.cloneElement(w,St({ref:$,style:St({visibility:X==="exited"&&!_?"hidden":void 0},D,w.props.style)},fe)),"children")}))},"Slide")),tc=b_;var a0=j(h_());var r0=j(c_()),o0=j(u_());function i0(r){return(0,o0.default)("MuiDrawer",r)}s(i0,"getDrawerUtilityClass");var mS=(0,r0.default)("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);var Ho=j(te());var y_=["BackdropProps"],__=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],u0=s((r,e)=>{let{ownerState:t}=r;return[e.root,(t.variant==="permanent"||t.variant==="persistent")&&e.docked,e.modal]},"overridesResolver"),x_=s(r=>{let{classes:e,anchor:t,variant:i}=r,u={root:["root"],docked:[(i==="permanent"||i==="persistent")&&"docked"],modal:["modal"],paper:["paper","paperAnchor".concat(Bi(t)),i!=="temporary"&&"paperAnchorDocked".concat(Bi(t))]};return(0,l0.default)(u,i0,e)},"useUtilityClasses"),P_=kl(Qg,{name:"MuiDrawer",slot:"Root",overridesResolver:u0})(({theme:r})=>({zIndex:(r.vars||r).zIndex.drawer})),s0=kl("div",{shouldForwardProp:rg,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:u0})({flex:"0 0 auto"}),E_=kl(Xg,{name:"MuiDrawer",slot:"Paper",overridesResolver:s((r,e)=>{let{ownerState:t}=r;return[e.paper,e["paperAnchor".concat(Bi(t.anchor))],t.variant!=="temporary"&&e["paperAnchorDocked".concat(Bi(t.anchor))]]},"overridesResolver")})(({theme:r,ownerState:e})=>St({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(r.vars||r).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},e.anchor==="left"&&{left:0},e.anchor==="top"&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="right"&&{right:0},e.anchor==="bottom"&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="left"&&e.variant!=="temporary"&&{borderRight:"1px solid ".concat((r.vars||r).palette.divider)},e.anchor==="top"&&e.variant!=="temporary"&&{borderBottom:"1px solid ".concat((r.vars||r).palette.divider)},e.anchor==="right"&&e.variant!=="temporary"&&{borderLeft:"1px solid ".concat((r.vars||r).palette.divider)},e.anchor==="bottom"&&e.variant!=="temporary"&&{borderTop:"1px solid ".concat((r.vars||r).palette.divider)})),c0={left:"right",right:"left",top:"down",bottom:"up"};function S_(r){return["left","right"].indexOf(r)!==-1}s(S_,"isHorizontal");function C_({direction:r},e){return r==="rtl"&&S_(e)?c0[e]:e}s(C_,"getAnchor");var k_=Bo.forwardRef(s(function(e,t){let i=(0,a0.useDefaultProps)({props:e,name:"MuiDrawer"}),u=Cl(),p=ng(),h={enter:u.transitions.duration.enteringScreen,exit:u.transitions.duration.leavingScreen},{anchor:f="left",BackdropProps:w,children:b,className:m,elevation:v=16,hideBackdrop:_=!1,ModalProps:{BackdropProps:k}={},onClose:L,open:A=!1,PaperProps:M={},SlideProps:E,TransitionComponent:T=tc,transitionDuration:D=h,variant:K="temporary"}=i,B=Ii(i.ModalProps,y_),I=Ii(i,__),Q=Bo.useRef(!1);Bo.useEffect(()=>{Q.current=!0},[]);let $=C_({direction:p?"rtl":"ltr"},f),V=St({},i,{anchor:f,elevation:v,open:A,variant:K},I),O=x_(V),se=(0,Ho.jsx)(E_,St({elevation:K==="temporary"?v:0,square:!0},M,{className:Ni(O.paper,M.className),ownerState:V,children:b}));if(K==="permanent")return(0,Ho.jsx)(s0,St({className:Ni(O.root,O.docked,m),ownerState:V,ref:t},I,{children:se}));let we=(0,Ho.jsx)(T,St({in:A,direction:c0[$],timeout:D,appear:Q.current},E,{children:se}));return K==="persistent"?(0,Ho.jsx)(s0,St({className:Ni(O.root,O.docked,m),ownerState:V,ref:t},I,{children:we})):(0,Ho.jsx)(P_,St({BackdropProps:St({},w,k,{transitionDuration:D}),className:Ni(O.root,O.modal,m),open:A,ownerState:V,onClose:L,hideBackdrop:_,ref:t},I,B,{children:we}))},"Drawer")),nc=k_;var d0=j(Se());var ie="e";var to=j(te());function rc(){return(0,d0.useEffect)(()=>M_(),[]),(0,to.jsxs)(to.Fragment,{children:[(0,to.jsx)("h1",{children:"Angles"}),(0,to.jsx)("div",{id:ie})]})}s(rc,"Angles");function M_(){let r=new Me(ie);r.camera.position.set(0,1,4);let e=new _g({color:65280}),t=new gn;t.position.x=-1.1,t.add(Fo(41*Pr,null,e,!0)),r.scene.add(t);let i=new gn;i.position.x=1.1;let u=Fo(270*Pr,null,e,!0);u.rotation.x=Math.PI/2,i.add(u),r.scene.add(i)}s(M_,"setup");var Uo=j(Se());var Ct=j(te());function oc(){let[r,e]=(0,Uo.useState)(null),[t,i]=(0,Uo.useState)(null),[u]=Rl();return(0,Uo.useEffect)(()=>{i(T_(e))},[]),(0,Uo.useEffect)(()=>{if(r){let p=(u.hash||"#Orion").substr(1).replaceAll(/%20/g," "),[,h]=h0(t,r,p),f=t.labelCenterPosByName[h];if(!f)return;r.show(p,()=>!0),window.target=f}},[u,r,t]),(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsx)("h1",{children:"Asterisms"}),(0,Ct.jsx)("div",{id:ie}),(0,Ct.jsx)("p",{children:"Asterisms include constellations."}),(0,Ct.jsx)("div",{id:"faveCtr",children:(0,Ct.jsx)("table",{id:"faves",cellPadding:"5em",children:(0,Ct.jsx)("tbody",{children:(0,Ct.jsxs)("tr",{children:[(0,Ct.jsx)("th",{children:"Asterism"}),(0,Ct.jsx)("th",{children:"Midpoint Star"}),(0,Ct.jsx)("th",{children:"Midpoint Star HIP"})]})})})})]})}s(oc,"Asterisms");function T_(r){let e=s((h,f)=>{window.target&&(f.camera.target=window.target,f.camera.lookAt(window.target))},"cb"),t=new Me(ie,e);t.configLargeScene();let i=new jl;i.map(",",()=>{t.multFov(.9)},"Narrow field-of-vision"),i.map(".",()=>{t.multFov(1.1)},"Broaden field-of-vision"),i.map("/",()=>{t.resetFov()},"Reset field-of-vision to ".concat(Mg,"\xBA"));let u={radius:{scalar:694248950}};t.useStore={getState:s(()=>{},"getState"),setState:s(()=>{},"setState"),subscribe:s(()=>{},"subscribe")};let p=new Hi(u,t,new zl,()=>{new Hg(t,p,h=>{p.add(h),L_(p,h),r(h)})},!1);return t.scene.add(p),t.camera.position.z=100,p}s(T_,"setup");function h0(r,e,t){Dg(r,e,t);let i=e.catalog.byName.get(t);if(!i){console.warn("No such asterism: ",t);return}for(let u in i.paths){let p=i.paths[u];for(let h=Math.floor(p.length/2);h>=0;h--){let f=p[h],[w,b,m]=r.catalog.reifyName(f),v=r.catalog.namesByHip.get(m);if(v&&v.length>2)return b=v[0],[w,b,m]}}return[null,null,null]}s(h0,"findCenterStar");function L_(r,e){let t=Nt("faves");for(let i in e.catalog.byName){let[,u,p]=h0(r,e,i);u===null||p===null||(t.innerHTML+='<tr>\n        <td><a href="#'.concat(i,'">').concat(i,"</a></td>\n        <td>").concat(u,"</td>\n        <td>").concat(p,"</td>\n      </tr>"))}}s(L_,"setupFavesTable");var Ow=j(Se());var ic=class ic{constructor(e,t,i,u,p,h,f,w,b,m,v){this.EyeHeight=2,this.SunY=e,this.SunIntensity=t,this.GroundElevation=i,this.AtmosphereHeight=u,this.RayleighRed=p,this.RayleighGreen=h,this.RayleighBlue=f,this.MieScatteringCoeff=b,this.RayleighScaleHeight=w,this.MieScaleHeight=m,this.MiePolarity=v,this.Presets=""}};s(ic,"Atmosphere");var Ui=ic;function Oe(r){return r==null}s(Oe,"isEmpty");function Vp(r){return r!==null&&typeof r=="object"}s(Vp,"isObject$1");function fc(r){return r!==null&&typeof r=="object"}s(fc,"isRecord");function O_(r,e){if(r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}s(O_,"deepEqualsArray");function oo(r,e){return Array.from(new Set([...Object.keys(r),...Object.keys(e)])).reduce((i,u)=>{let p=r[u],h=e[u];return fc(p)&&fc(h)?Object.assign(Object.assign({},i),{[u]:oo(p,h)}):Object.assign(Object.assign({},i),{[u]:u in e?h:p})},{})}s(oo,"deepMerge");function Fp(r){return Vp(r)?"target"in r:!1}s(Fp,"isBinding");var A_={alreadydisposed:s(()=>"View has been already disposed","alreadydisposed"),invalidparams:s(r=>"Invalid parameters for '".concat(r.name,"'"),"invalidparams"),nomatchingcontroller:s(r=>"No matching controller for '".concat(r.key,"'"),"nomatchingcontroller"),nomatchingview:s(r=>"No matching view for '".concat(JSON.stringify(r.params),"'"),"nomatchingview"),notbindable:s(()=>"Value is not bindable","notbindable"),notcompatible:s(r=>"Not compatible with  plugin '".concat(r.id,"'"),"notcompatible"),propertynotfound:s(r=>"Property '".concat(r.name,"' not found"),"propertynotfound"),shouldneverhappen:s(()=>"This error should never happen","shouldneverhappen")},kr=class kr{static alreadyDisposed(){return new kr({type:"alreadydisposed"})}static notBindable(){return new kr({type:"notbindable"})}static notCompatible(e,t){return new kr({type:"notcompatible",context:{id:"".concat(e,".").concat(t)}})}static propertyNotFound(e){return new kr({type:"propertynotfound",context:{name:e}})}static shouldNeverHappen(){return new kr({type:"shouldneverhappen"})}constructor(e){var t;this.message=(t=A_[e.type](e.context))!==null&&t!==void 0?t:"Unexpected error",this.name=this.constructor.name,this.stack=new Error(this.message).stack,this.type=e.type}toString(){return this.message}};s(kr,"TpError");var pt=kr,ta=class ta{constructor(e,t){this.obj_=e,this.key=t}static isBindable(e){return!(e===null||typeof e!="object"&&typeof e!="function")}read(){return this.obj_[this.key]}write(e){this.obj_[this.key]=e}writeProperty(e,t){let i=this.read();if(!ta.isBindable(i))throw pt.notBindable();if(!(e in i))throw pt.propertyNotFound(e);i[e]=t}};s(ta,"BindingTarget");var Hl=ta,td=class td{constructor(){this.observers_={}}on(e,t,i){var u;let p=this.observers_[e];return p||(p=this.observers_[e]=[]),p.push({handler:t,key:(u=i==null?void 0:i.key)!==null&&u!==void 0?u:t}),this}off(e,t){let i=this.observers_[e];return i&&(this.observers_[e]=i.filter(u=>u.key!==t)),this}emit(e,t){let i=this.observers_[e];i&&i.forEach(u=>{u.handler(t)})}};s(td,"Emitter");var We=td,nd=class nd{constructor(e,t){var i;this.constraint_=t==null?void 0:t.constraint,this.equals_=(i=t==null?void 0:t.equals)!==null&&i!==void 0?i:(u,p)=>u===p,this.emitter=new We,this.rawValue_=e}get constraint(){return this.constraint_}get rawValue(){return this.rawValue_}set rawValue(e){this.setRawValue(e,{forceEmit:!1,last:!0})}setRawValue(e,t){let i=t!=null?t:{forceEmit:!1,last:!0},u=this.constraint_?this.constraint_.constrain(e):e,p=this.rawValue_;this.equals_(p,u)&&!i.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.rawValue_=u,this.emitter.emit("change",{options:i,previousRawValue:p,rawValue:u,sender:this}))}};s(nd,"ComplexValue");var mc=nd,rd=class rd{constructor(e){this.emitter=new We,this.value_=e}get rawValue(){return this.value_}set rawValue(e){this.setRawValue(e,{forceEmit:!1,last:!0})}setRawValue(e,t){let i=t!=null?t:{forceEmit:!1,last:!0},u=this.value_;u===e&&!i.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.value_=e,this.emitter.emit("change",{options:i,previousRawValue:u,rawValue:this.value_,sender:this}))}};s(rd,"PrimitiveValue");var vc=rd,od=class od{constructor(e){this.emitter=new We,this.onValueBeforeChange_=this.onValueBeforeChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.value_=e,this.value_.emitter.on("beforechange",this.onValueBeforeChange_),this.value_.emitter.on("change",this.onValueChange_)}get rawValue(){return this.value_.rawValue}onValueBeforeChange_(e){this.emitter.emit("beforechange",Object.assign(Object.assign({},e),{sender:this}))}onValueChange_(e){this.emitter.emit("change",Object.assign(Object.assign({},e),{sender:this}))}};s(od,"ReadonlyPrimitiveValue");var gc=od;function Ve(r,e){let t=e==null?void 0:e.constraint,i=e==null?void 0:e.equals;return!t&&!i?new vc(r):new mc(r,e)}s(Ve,"createValue");function D_(r){return[new gc(r),(e,t)=>{r.setRawValue(e,t)}]}s(D_,"createReadonlyValue");var na=class na{constructor(e){this.emitter=new We,this.valMap_=e;for(let t in this.valMap_)this.valMap_[t].emitter.on("change",()=>{this.emitter.emit("change",{key:t,sender:this})})}static createCore(e){return Object.keys(e).reduce((i,u)=>Object.assign(i,{[u]:Ve(e[u])}),{})}static fromObject(e){let t=this.createCore(e);return new na(t)}get(e){return this.valMap_[e].rawValue}set(e,t){this.valMap_[e].rawValue=t}value(e){return this.valMap_[e]}};s(na,"ValueMap");var ce=na,id=class id{constructor(e){this.values=ce.fromObject({max:e.max,min:e.min})}constrain(e){let t=this.values.get("max"),i=this.values.get("min");return Math.min(Math.max(e,i),t)}};s(id,"DefiniteRangeConstraint");var io=id,sd=class sd{constructor(e){this.values=ce.fromObject({max:e.max,min:e.min})}constrain(e){let t=this.values.get("max"),i=this.values.get("min"),u=e;return Oe(i)||(u=Math.max(u,i)),Oe(t)||(u=Math.min(u,t)),u}};s(sd,"RangeConstraint");var wc=sd,ld=class ld{constructor(e,t=0){this.step=e,this.origin=t}constrain(e){let t=this.origin%this.step,i=Math.round((e-t)/this.step);return t+i*this.step}};s(ld,"StepConstraint");var bc=ld,ad=class ad{constructor(e){this.text=e}evaluate(){return Number(this.text)}toString(){return this.text}};s(ad,"NumberLiteralNode");var yc=ad,z_={"**":s((r,e)=>Math.pow(r,e),"**"),"*":s((r,e)=>r*e,"*"),"/":s((r,e)=>r/e,"/"),"%":s((r,e)=>r%e,"%"),"+":s((r,e)=>r+e,"+"),"-":s((r,e)=>r-e,"-"),"<<":s((r,e)=>r<<e,"<<"),">>":s((r,e)=>r>>e,">>"),">>>":s((r,e)=>r>>>e,">>>"),"&":s((r,e)=>r&e,"&"),"^":s((r,e)=>r^e,"^"),"|":s((r,e)=>r|e,"|")},ud=class ud{constructor(e,t,i){this.left=t,this.operator=e,this.right=i}evaluate(){let e=z_[this.operator];if(!e)throw new Error("unexpected binary operator: '".concat(this.operator));return e(this.left.evaluate(),this.right.evaluate())}toString(){return["b(",this.left.toString(),this.operator,this.right.toString(),")"].join(" ")}};s(ud,"BinaryOperationNode");var _c=ud,j_={"+":s(r=>r,"+"),"-":s(r=>-r,"-"),"~":s(r=>~r,"~")},cd=class cd{constructor(e,t){this.operator=e,this.expression=t}evaluate(){let e=j_[this.operator];if(!e)throw new Error("unexpected unary operator: '".concat(this.operator));return e(this.expression.evaluate())}toString(){return["u(",this.operator,this.expression.toString(),")"].join(" ")}};s(cd,"UnaryOperationNode");var xc=cd;function Hp(r){return(e,t)=>{for(let i=0;i<r.length;i++){let u=r[i](e,t);if(u!=="")return u}return""}}s(Hp,"combineReader");function qi(r,e){var t;let i=r.substr(e).match(/^\s+/);return(t=i&&i[0])!==null&&t!==void 0?t:""}s(qi,"readWhitespace");function I_(r,e){let t=r.substr(e,1);return t.match(/^[1-9]$/)?t:""}s(I_,"readNonZeroDigit");function Qi(r,e){var t;let i=r.substr(e).match(/^[0-9]+/);return(t=i&&i[0])!==null&&t!==void 0?t:""}s(Qi,"readDecimalDigits");function N_(r,e){let t=Qi(r,e);if(t!=="")return t;let i=r.substr(e,1);if(e+=1,i!=="-"&&i!=="+")return"";let u=Qi(r,e);return u===""?"":i+u}s(N_,"readSignedInteger");function Bp(r,e){let t=r.substr(e,1);if(e+=1,t.toLowerCase()!=="e")return"";let i=N_(r,e);return i===""?"":t+i}s(Bp,"readExponentPart");function N0(r,e){let t=r.substr(e,1);if(t==="0")return t;let i=I_(r,e);return e+=i.length,i===""?"":i+Qi(r,e)}s(N0,"readDecimalIntegerLiteral");function V_(r,e){let t=N0(r,e);if(e+=t.length,t==="")return"";let i=r.substr(e,1);if(e+=i.length,i!==".")return"";let u=Qi(r,e);return e+=u.length,t+i+u+Bp(r,e)}s(V_,"readDecimalLiteral1");function F_(r,e){let t=r.substr(e,1);if(e+=t.length,t!==".")return"";let i=Qi(r,e);return e+=i.length,i===""?"":t+i+Bp(r,e)}s(F_,"readDecimalLiteral2");function H_(r,e){let t=N0(r,e);return e+=t.length,t===""?"":t+Bp(r,e)}s(H_,"readDecimalLiteral3");var B_=Hp([V_,F_,H_]);function U_(r,e){var t;let i=r.substr(e).match(/^[01]+/);return(t=i&&i[0])!==null&&t!==void 0?t:""}s(U_,"parseBinaryDigits");function G_(r,e){let t=r.substr(e,2);if(e+=t.length,t.toLowerCase()!=="0b")return"";let i=U_(r,e);return i===""?"":t+i}s(G_,"readBinaryIntegerLiteral");function K_(r,e){var t;let i=r.substr(e).match(/^[0-7]+/);return(t=i&&i[0])!==null&&t!==void 0?t:""}s(K_,"readOctalDigits");function W_(r,e){let t=r.substr(e,2);if(e+=t.length,t.toLowerCase()!=="0o")return"";let i=K_(r,e);return i===""?"":t+i}s(W_,"readOctalIntegerLiteral");function Y_(r,e){var t;let i=r.substr(e).match(/^[0-9a-f]+/i);return(t=i&&i[0])!==null&&t!==void 0?t:""}s(Y_,"readHexDigits");function q_(r,e){let t=r.substr(e,2);if(e+=t.length,t.toLowerCase()!=="0x")return"";let i=Y_(r,e);return i===""?"":t+i}s(q_,"readHexIntegerLiteral");var Q_=Hp([G_,W_,q_]),X_=Hp([Q_,B_]);function Z_(r,e){let t=X_(r,e);return e+=t.length,t===""?null:{evaluable:new yc(t),cursor:e}}s(Z_,"parseLiteral");function J_(r,e){let t=r.substr(e,1);if(e+=t.length,t!=="(")return null;let i=F0(r,e);if(!i)return null;e=i.cursor,e+=qi(r,e).length;let u=r.substr(e,1);return e+=u.length,u!==")"?null:{evaluable:i.evaluable,cursor:e}}s(J_,"parseParenthesizedExpression");function $_(r,e){var t;return(t=Z_(r,e))!==null&&t!==void 0?t:J_(r,e)}s($_,"parsePrimaryExpression");function V0(r,e){let t=$_(r,e);if(t)return t;let i=r.substr(e,1);if(e+=i.length,i!=="+"&&i!=="-"&&i!=="~")return null;let u=V0(r,e);return u?(e=u.cursor,{cursor:e,evaluable:new xc(i,u.evaluable)}):null}s(V0,"parseUnaryExpression");function ex(r,e,t){t+=qi(e,t).length;let i=r.filter(u=>e.startsWith(u,t))[0];return i?(t+=i.length,t+=qi(e,t).length,{cursor:t,operator:i}):null}s(ex,"readBinaryOperator");function tx(r,e){return(t,i)=>{let u=r(t,i);if(!u)return null;i=u.cursor;let p=u.evaluable;for(;;){let h=ex(e,t,i);if(!h)break;i=h.cursor;let f=r(t,i);if(!f)return null;i=f.cursor,p=new _c(h.operator,p,f.evaluable)}return p?{cursor:i,evaluable:p}:null}}s(tx,"createBinaryOperationExpressionParser");var nx=[["**"],["*","/","%"],["+","-"],["<<",">>>",">>"],["&"],["^"],["|"]].reduce((r,e)=>tx(r,e),V0);function F0(r,e){return e+=qi(r,e).length,nx(r,e)}s(F0,"parseExpression");function rx(r){let e=F0(r,0);return!e||e.cursor+qi(r,e.cursor).length!==r.length?null:e.evaluable}s(rx,"parseEcmaNumberExpression");function Zn(r){var e;let t=rx(r);return(e=t==null?void 0:t.evaluate())!==null&&e!==void 0?e:null}s(Zn,"parseNumber");function H0(r){if(typeof r=="number")return r;if(typeof r=="string"){let e=Zn(r);if(!Oe(e))return e}return 0}s(H0,"numberFromUnknown");function ox(r){return String(r)}s(ox,"numberToString");function Ft(r){return e=>e.toFixed(Math.max(Math.min(r,20),0))}s(Ft,"createNumberFormatter");function Ce(r,e,t,i,u){let p=(r-e)/(t-e);return i+p*(u-i)}s(Ce,"mapRange");function f0(r){return String(r.toFixed(10)).split(".")[1].replace(/0+$/,"").length}s(f0,"getDecimalDigits");function it(r,e,t){return Math.min(Math.max(r,e),t)}s(it,"constrainRange");function B0(r,e){return(r%e+e)%e}s(B0,"loopRange");function ix(r,e){return Oe(r.step)?Math.max(f0(e),2):f0(r.step)}s(ix,"getSuitableDecimalDigits");function U0(r){var e;return(e=r.step)!==null&&e!==void 0?e:1}s(U0,"getSuitableKeyScale");function G0(r,e){var t;let i=Math.abs((t=r.step)!==null&&t!==void 0?t:e);return i===0?.1:Math.pow(10,Math.floor(Math.log10(i))-1)}s(G0,"getSuitablePointerScale");function K0(r,e){return Oe(r.step)?null:new bc(r.step,e)}s(K0,"createStepConstraint");function W0(r){return!Oe(r.max)&&!Oe(r.min)?new io({max:r.max,min:r.min}):!Oe(r.max)||!Oe(r.min)?new wc({max:r.max,min:r.min}):null}s(W0,"createRangeConstraint");function Y0(r,e){var t,i,u;return{formatter:(t=r.format)!==null&&t!==void 0?t:Ft(ix(r,e)),keyScale:(i=r.keyScale)!==null&&i!==void 0?i:U0(r),pointerScale:(u=r.pointerScale)!==null&&u!==void 0?u:G0(r,e)}}s(Y0,"createNumberTextPropsObject");function q0(r){return{format:r.optional.function,keyScale:r.optional.number,max:r.optional.number,min:r.optional.number,pointerScale:r.optional.number,step:r.optional.number}}s(q0,"createNumberTextInputParamsParser");function Up(r){return{constraint:r.constraint,textProps:ce.fromObject(Y0(r.params,r.initialValue))}}s(Up,"createPointAxis");var pd=class pd{constructor(e){this.controller=e}get element(){return this.controller.view.element}get disabled(){return this.controller.viewProps.get("disabled")}set disabled(e){this.controller.viewProps.set("disabled",e)}get hidden(){return this.controller.viewProps.get("hidden")}set hidden(e){this.controller.viewProps.set("hidden",e)}dispose(){this.controller.viewProps.set("disposed",!0)}importState(e){return this.controller.importState(e)}exportState(){return this.controller.exportState()}};s(pd,"BladeApi");var Jn=pd,dd=class dd{constructor(e){this.target=e}};s(dd,"TpEvent");var Wo=dd,hd=class hd extends Wo{constructor(e,t,i){super(e),this.value=t,this.last=i!=null?i:!0}};s(hd,"TpChangeEvent");var so=hd,fd=class fd extends Wo{constructor(e,t){super(e),this.expanded=t}};s(fd,"TpFoldEvent");var Pc=fd,md=class md extends Wo{constructor(e,t){super(e),this.index=t}};s(md,"TpTabSelectEvent");var Ec=md,vd=class vd extends Wo{constructor(e,t){super(e),this.native=t}};s(vd,"TpMouseEvent");var Sc=vd,gd=class gd extends Jn{constructor(e){super(e),this.onValueChange_=this.onValueChange_.bind(this),this.emitter_=new We,this.controller.value.emitter.on("change",this.onValueChange_)}get label(){return this.controller.labelController.props.get("label")}set label(e){this.controller.labelController.props.set("label",e)}get key(){return this.controller.value.binding.target.key}get tag(){return this.controller.tag}set tag(e){this.controller.tag=e}on(e,t){let i=t.bind(this);return this.emitter_.on(e,u=>{i(u)},{key:t}),this}off(e,t){return this.emitter_.off(e,t),this}refresh(){this.controller.value.fetch()}onValueChange_(e){let t=this.controller.value;this.emitter_.emit("change",new so(this,t.binding.target.read(),e.options.last))}};s(gd,"BindingApi");var lo=gd,wd=class wd{constructor(e,t){this.onValueBeforeChange_=this.onValueBeforeChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.binding=t,this.value_=e,this.value_.emitter.on("beforechange",this.onValueBeforeChange_),this.value_.emitter.on("change",this.onValueChange_),this.emitter=new We}get rawValue(){return this.value_.rawValue}set rawValue(e){this.value_.rawValue=e}setRawValue(e,t){this.value_.setRawValue(e,t)}fetch(){this.value_.rawValue=this.binding.read()}push(){this.binding.write(this.value_.rawValue)}onValueBeforeChange_(e){this.emitter.emit("beforechange",Object.assign(Object.assign({},e),{sender:this}))}onValueChange_(e){this.push(),this.emitter.emit("change",Object.assign(Object.assign({},e),{sender:this}))}};s(wd,"InputBindingValue");var Cc=wd;function sx(r){if(!("binding"in r))return!1;let e=r.binding;return Fp(e)&&"read"in e&&"write"in e}s(sx,"isInputBindingValue");function lx(r,e){let i=Object.keys(e).reduce((u,p)=>{if(u===void 0)return;let h=e[p],f=h(r[p]);return f.succeeded?Object.assign(Object.assign({},u),{[p]:f.value}):void 0},{});return i}s(lx,"parseObject");function ax(r,e){return r.reduce((t,i)=>{if(t===void 0)return;let u=e(i);if(!(!u.succeeded||u.value===void 0))return[...t,u.value]},[])}s(ax,"parseArray");function ux(r){return r===null?!1:typeof r=="object"}s(ux,"isObject");function qn(r){return e=>t=>{if(!e&&t===void 0)return{succeeded:!1,value:void 0};if(e&&t===void 0)return{succeeded:!0,value:void 0};let i=r(t);return i!==void 0?{succeeded:!0,value:i}:{succeeded:!1,value:void 0}}}s(qn,"createMicroParserBuilder");function m0(r){return{custom:s(e=>qn(e)(r),"custom"),boolean:qn(e=>typeof e=="boolean"?e:void 0)(r),number:qn(e=>typeof e=="number"?e:void 0)(r),string:qn(e=>typeof e=="string"?e:void 0)(r),function:qn(e=>typeof e=="function"?e:void 0)(r),constant:s(e=>qn(t=>t===e?e:void 0)(r),"constant"),raw:qn(e=>e)(r),object:s(e=>qn(t=>{if(ux(t))return lx(t,e)})(r),"object"),array:s(e=>qn(t=>{if(Array.isArray(t))return ax(t,e)})(r),"array")}}s(m0,"createMicroParserBuilders");var kc={optional:m0(!0),required:m0(!1)};function Ue(r,e){let t=e(kc),i=kc.required.object(t)(r);return i.succeeded?i.value:void 0}s(Ue,"parseRecord");function Wt(r,e,t,i){if(e&&!e(r))return!1;let u=Ue(r,t);return u?i(u):!1}s(Wt,"importBladeState");function Yt(r,e){var t;return oo((t=r==null?void 0:r())!==null&&t!==void 0?t:{},e)}s(Yt,"exportBladeState");function ro(r){return"value"in r}s(ro,"isValueBladeController");function Q0(r){if(!Vp(r)||!("binding"in r))return!1;let e=r.binding;return Fp(e)}s(Q0,"isBindingValue");var Ln="http://www.w3.org/2000/svg";function Bl(r){r.offsetHeight}s(Bl,"forceReflow");function cx(r,e){let t=r.style.transition;r.style.transition="none",e(),r.style.transition=t}s(cx,"disableTransitionTemporarily");function Gp(r){return r.ontouchstart!==void 0}s(Gp,"supportsTouch");function px(){return globalThis}s(px,"getGlobalObject");function dx(){return px().document}s(dx,"getWindowDocument");function hx(r){let e=r.ownerDocument.defaultView;return e&&"document"in e?r.getContext("2d",{willReadFrequently:!0}):null}s(hx,"getCanvasContext");var fx={check:'<path d="M2 8l4 4l8 -8"/>',dropdown:'<path d="M5 7h6l-3 3 z"/>',p2dpad:'<path d="M8 4v8"/><path d="M4 8h8"/><circle cx="12" cy="12" r="1.2"/>'};function sa(r,e){let t=r.createElementNS(Ln,"svg");return t.innerHTML=fx[e],t}s(sa,"createSvgIconElement");function X0(r,e,t){r.insertBefore(e,r.children[t])}s(X0,"insertElementAt");function Kp(r){r.parentElement&&r.parentElement.removeChild(r)}s(Kp,"removeElement");function Z0(r){for(;r.children.length>0;)r.removeChild(r.children[0])}s(Z0,"removeChildElements");function mx(r){for(;r.childNodes.length>0;)r.removeChild(r.childNodes[0])}s(mx,"removeChildNodes");function J0(r){return r.relatedTarget?r.relatedTarget:"explicitOriginalTarget"in r?r.explicitOriginalTarget:null}s(J0,"findNextTarget");function Xn(r,e){r.emitter.on("change",t=>{e(t.rawValue)}),e(r.rawValue)}s(Xn,"bindValue");function An(r,e,t){Xn(r.value(e),t)}s(An,"bindValueMap");var vx="tp";function ve(r){return s((t,i)=>[vx,"-",r,"v",t?"_".concat(t):"",i?"-".concat(i):""].join(""),"fn")}s(ve,"ClassName");var Gi=ve("lbl");function gx(r,e){let t=r.createDocumentFragment();return e.split("\n").map(u=>r.createTextNode(u)).forEach((u,p)=>{p>0&&t.appendChild(r.createElement("br")),t.appendChild(u)}),t}s(gx,"createLabelNode");var bd=class bd{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(Gi()),t.viewProps.bindClassModifiers(this.element);let i=e.createElement("div");i.classList.add(Gi("l")),An(t.props,"label",p=>{Oe(p)?this.element.classList.add(Gi(void 0,"nol")):(this.element.classList.remove(Gi(void 0,"nol")),mx(i),i.appendChild(gx(e,p)))}),this.element.appendChild(i),this.labelElement=i;let u=e.createElement("div");u.classList.add(Gi("v")),this.element.appendChild(u),this.valueElement=u}};s(bd,"LabelView");var Ul=bd,yd=class yd{constructor(e,t){this.props=t.props,this.valueController=t.valueController,this.viewProps=t.valueController.viewProps,this.view=new Ul(e,{props:t.props,viewProps:this.viewProps}),this.view.valueElement.appendChild(this.valueController.view.element)}importProps(e){return Wt(e,null,t=>({label:t.optional.string}),t=>(this.props.set("label",t.label),!0))}exportProps(){return Yt(null,{label:this.props.get("label")})}};s(yd,"LabelController");var Gl=yd;function wx(){return["veryfirst","first","last","verylast"]}s(wx,"getAllBladePositions");var v0=ve(""),g0={veryfirst:"vfst",first:"fst",last:"lst",verylast:"vlst"},_d=class _d{constructor(e){this.parent_=null,this.blade=e.blade,this.view=e.view,this.viewProps=e.viewProps;let t=this.view.element;this.blade.value("positions").emitter.on("change",()=>{wx().forEach(i=>{t.classList.remove(v0(void 0,g0[i]))}),this.blade.get("positions").forEach(i=>{t.classList.add(v0(void 0,g0[i]))})}),this.viewProps.handleDispose(()=>{Kp(t)})}get parent(){return this.parent_}set parent(e){this.parent_=e,this.viewProps.set("parent",this.parent_?this.parent_.viewProps:null)}importState(e){return Wt(e,null,t=>({disabled:t.required.boolean,hidden:t.required.boolean}),t=>(this.viewProps.importState(t),!0))}exportState(){return Yt(null,Object.assign({},this.viewProps.exportState()))}};s(_d,"BladeController");var Yo=_d,xd=class xd extends Yo{constructor(e,t){if(t.value!==t.valueController.value)throw pt.shouldNeverHappen();let i=t.valueController.viewProps,u=new Gl(e,{blade:t.blade,props:t.props,valueController:t.valueController});super(Object.assign(Object.assign({},t),{view:new Ul(e,{props:t.props,viewProps:i}),viewProps:i})),this.labelController=u,this.value=t.value,this.valueController=t.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}importState(e){return Wt(e,t=>{var i,u,p;return super.importState(t)&&this.labelController.importProps(t)&&((p=(u=(i=this.valueController).importProps)===null||u===void 0?void 0:u.call(i,e))!==null&&p!==void 0?p:!0)},t=>({value:t.optional.raw}),t=>(t.value&&(this.value.rawValue=t.value),!0))}exportState(){var e,t,i;return Yt(()=>super.exportState(),Object.assign(Object.assign({value:this.value.rawValue},this.labelController.exportProps()),(i=(t=(e=this.valueController).exportProps)===null||t===void 0?void 0:t.call(e))!==null&&i!==void 0?i:{}))}};s(xd,"LabeledValueBladeController");var $n=xd;function w0(r){let e=Object.assign({},r);return delete e.value,e}s(w0,"excludeValue");var Pd=class Pd extends $n{constructor(e,t){super(e,t),this.tag=t.tag}importState(e){return Wt(e,t=>super.importState(w0(e)),t=>({tag:t.optional.string}),t=>(this.tag=t.tag,!0))}exportState(){return Yt(()=>w0(super.exportState()),{binding:{key:this.value.binding.target.key,value:this.value.binding.target.read()},tag:this.tag})}};s(Pd,"BindingController");var Kl=Pd;function bx(r){return ro(r)&&Q0(r.value)}s(bx,"isBindingController");var Ed=class Ed extends Kl{importState(e){return Wt(e,t=>super.importState(t),t=>({binding:t.required.object({value:t.required.raw})}),t=>(this.value.binding.inject(t.binding.value),this.value.fetch(),!0))}};s(Ed,"InputBindingController");var Rc=Ed;function yx(r){return ro(r)&&sx(r.value)}s(yx,"isInputBindingController");function $0(r,e){for(;r.length<e;)r.push(void 0)}s($0,"fillBuffer");function _x(r){let e=[];return $0(e,r),e}s(_x,"initializeBuffer");function xx(r){let e=r.indexOf(void 0);return e<0?r:r.slice(0,e)}s(xx,"createTrimmedBuffer");function Px(r,e){let t=[...xx(r),e];return t.length>r.length?t.splice(0,t.length-r.length):$0(t,r.length),t}s(Px,"createPushedBuffer");var Sd=class Sd{constructor(e){this.emitter=new We,this.onTick_=this.onTick_.bind(this),this.onValueBeforeChange_=this.onValueBeforeChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.binding=e.binding,this.value_=Ve(_x(e.bufferSize)),this.value_.emitter.on("beforechange",this.onValueBeforeChange_),this.value_.emitter.on("change",this.onValueChange_),this.ticker=e.ticker,this.ticker.emitter.on("tick",this.onTick_),this.fetch()}get rawValue(){return this.value_.rawValue}set rawValue(e){this.value_.rawValue=e}setRawValue(e,t){this.value_.setRawValue(e,t)}fetch(){this.value_.rawValue=Px(this.value_.rawValue,this.binding.read())}onTick_(){this.fetch()}onValueBeforeChange_(e){this.emitter.emit("beforechange",Object.assign(Object.assign({},e),{sender:this}))}onValueChange_(e){this.emitter.emit("change",Object.assign(Object.assign({},e),{sender:this}))}};s(Sd,"MonitorBindingValue");var Mc=Sd;function Ex(r){if(!("binding"in r))return!1;let e=r.binding;return Fp(e)&&"read"in e&&!("write"in e)}s(Ex,"isMonitorBindingValue");var Cd=class Cd extends Kl{exportState(){return Yt(()=>super.exportState(),{binding:{readonly:!0}})}};s(Cd,"MonitorBindingController");var Tc=Cd;function Sx(r){return ro(r)&&Ex(r.value)}s(Sx,"isMonitorBindingController");var kd=class kd extends Jn{get label(){return this.controller.labelController.props.get("label")}set label(e){this.controller.labelController.props.set("label",e)}get title(){var e;return(e=this.controller.buttonController.props.get("title"))!==null&&e!==void 0?e:""}set title(e){this.controller.buttonController.props.set("title",e)}on(e,t){let i=t.bind(this);return this.controller.buttonController.emitter.on(e,p=>{i(new Sc(this,p.nativeEvent))}),this}off(e,t){return this.controller.buttonController.emitter.off(e,t),this}};s(kd,"ButtonApi");var Lc=kd;function Cx(r,e,t){t?r.classList.add(e):r.classList.remove(e)}s(Cx,"applyClass");function Zo(r,e){return t=>{Cx(r,e,t)}}s(Zo,"valueToClassName");function Wp(r,e){Xn(r,t=>{e.textContent=t!=null?t:""})}s(Wp,"bindValueToTextContent");var sc=ve("btn"),Rd=class Rd{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(sc()),t.viewProps.bindClassModifiers(this.element);let i=e.createElement("button");i.classList.add(sc("b")),t.viewProps.bindDisabled(i),this.element.appendChild(i),this.buttonElement=i;let u=e.createElement("div");u.classList.add(sc("t")),Wp(t.props.value("title"),u),this.buttonElement.appendChild(u)}};s(Rd,"ButtonView");var Oc=Rd,Md=class Md{constructor(e,t){this.emitter=new We,this.onClick_=this.onClick_.bind(this),this.props=t.props,this.viewProps=t.viewProps,this.view=new Oc(e,{props:this.props,viewProps:this.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}importProps(e){return Wt(e,null,t=>({title:t.optional.string}),t=>(this.props.set("title",t.title),!0))}exportProps(){return Yt(null,{title:this.props.get("title")})}onClick_(e){this.emitter.emit("click",{nativeEvent:e,sender:this})}};s(Md,"ButtonController");var Ac=Md,Td=class Td extends Yo{constructor(e,t){let i=new Ac(e,{props:t.buttonProps,viewProps:t.viewProps}),u=new Gl(e,{blade:t.blade,props:t.labelProps,valueController:i});super({blade:t.blade,view:u.view,viewProps:t.viewProps}),this.buttonController=i,this.labelController=u}importState(e){return Wt(e,t=>super.importState(t)&&this.buttonController.importProps(t)&&this.labelController.importProps(t),()=>({}),()=>!0)}exportState(){return Yt(()=>super.exportState(),Object.assign(Object.assign({},this.buttonController.exportProps()),this.labelController.exportProps()))}};s(Td,"ButtonBladeController");var Wl=Td,Ld=class Ld{constructor(e){let[t,i]=e.split("-"),u=t.split(".");this.major=parseInt(u[0],10),this.minor=parseInt(u[1],10),this.patch=parseInt(u[2],10),this.prerelease=i!=null?i:null}toString(){let e=[this.major,this.minor,this.patch].join(".");return this.prerelease!==null?[e,this.prerelease].join("-"):e}};s(Ld,"Semver");var Yl=Ld,Jo=new Yl("2.0.3");function Rt(r){return Object.assign({core:Jo},r)}s(Rt,"createPlugin");var kx=Rt({id:"button",type:"blade",accept(r){let e=Ue(r,t=>({title:t.required.string,view:t.required.constant("button"),label:t.optional.string}));return e?{params:e}:null},controller(r){return new Wl(r.document,{blade:r.blade,buttonProps:ce.fromObject({title:r.params.title}),labelProps:ce.fromObject({label:r.params.label}),viewProps:r.viewProps})},api(r){return r.controller instanceof Wl?new Lc(r.controller):null}});function Rx(r,e){return r.addBlade(Object.assign(Object.assign({},e),{view:"button"}))}s(Rx,"addButtonAsBlade");function Mx(r,e){return r.addBlade(Object.assign(Object.assign({},e),{view:"folder"}))}s(Mx,"addFolderAsBlade");function Tx(r,e){return r.addBlade(Object.assign(Object.assign({},e),{view:"tab"}))}s(Tx,"addTabAsBlade");function Lx(r){return Vp(r)?"refresh"in r&&typeof r.refresh=="function":!1}s(Lx,"isRefreshable");function Ox(r,e){if(!Hl.isBindable(r))throw pt.notBindable();return new Hl(r,e)}s(Ox,"createBindingTarget");var Od=class Od{constructor(e,t){this.onRackValueChange_=this.onRackValueChange_.bind(this),this.controller_=e,this.emitter_=new We,this.pool_=t,this.controller_.rack.emitter.on("valuechange",this.onRackValueChange_)}get children(){return this.controller_.rack.children.map(e=>this.pool_.createApi(e))}addBinding(e,t,i){let u=i!=null?i:{},p=this.controller_.element.ownerDocument,h=this.pool_.createBinding(p,Ox(e,t),u),f=this.pool_.createBindingApi(h);return this.add(f,u.index)}addFolder(e){return Mx(this,e)}addButton(e){return Rx(this,e)}addTab(e){return Tx(this,e)}add(e,t){let i=e.controller;return this.controller_.rack.add(i,t),e}remove(e){this.controller_.rack.remove(e.controller)}addBlade(e){let t=this.controller_.element.ownerDocument,i=this.pool_.createBlade(t,e),u=this.pool_.createApi(i);return this.add(u,e.index)}on(e,t){let i=t.bind(this);return this.emitter_.on(e,u=>{i(u)},{key:t}),this}off(e,t){return this.emitter_.off(e,t),this}refresh(){this.children.forEach(e=>{Lx(e)&&e.refresh()})}onRackValueChange_(e){let t=e.bladeController,i=this.pool_.createApi(t),u=Q0(t.value)?t.value.binding:null;this.emitter_.emit("change",new so(i,u?u.target.read():t.value.rawValue,e.options.last))}};s(Od,"RackApi");var Dc=Od,Ad=class Ad extends Jn{constructor(e,t){super(e),this.rackApi_=new Dc(e.rackController,t)}refresh(){this.rackApi_.refresh()}};s(Ad,"ContainerBladeApi");var Xi=Ad,Dd=class Dd extends Yo{constructor(e){super({blade:e.blade,view:e.view,viewProps:e.rackController.viewProps}),this.rackController=e.rackController}importState(e){return Wt(e,t=>super.importState(t),t=>({children:t.required.array(t.required.raw)}),t=>this.rackController.rack.children.every((i,u)=>i.importState(t.children[u])))}exportState(){return Yt(()=>super.exportState(),{children:this.rackController.rack.children.map(e=>e.exportState())})}};s(Dd,"ContainerBladeController");var Zi=Dd;function zc(r){return"rackController"in r}s(zc,"isContainerBladeController");var zd=class zd{constructor(e){this.emitter=new We,this.items_=[],this.cache_=new Set,this.onSubListAdd_=this.onSubListAdd_.bind(this),this.onSubListRemove_=this.onSubListRemove_.bind(this),this.extract_=e}get items(){return this.items_}allItems(){return Array.from(this.cache_)}find(e){for(let t of this.allItems())if(e(t))return t;return null}includes(e){return this.cache_.has(e)}add(e,t){if(this.includes(e))throw pt.shouldNeverHappen();let i=t!==void 0?t:this.items_.length;this.items_.splice(i,0,e),this.cache_.add(e);let u=this.extract_(e);u&&(u.emitter.on("add",this.onSubListAdd_),u.emitter.on("remove",this.onSubListRemove_),u.allItems().forEach(p=>{this.cache_.add(p)})),this.emitter.emit("add",{index:i,item:e,root:this,target:this})}remove(e){let t=this.items_.indexOf(e);if(t<0)return;this.items_.splice(t,1),this.cache_.delete(e);let i=this.extract_(e);i&&(i.allItems().forEach(u=>{this.cache_.delete(u)}),i.emitter.off("add",this.onSubListAdd_),i.emitter.off("remove",this.onSubListRemove_)),this.emitter.emit("remove",{index:t,item:e,root:this,target:this})}onSubListAdd_(e){this.cache_.add(e.item),this.emitter.emit("add",{index:e.index,item:e.item,root:this,target:e.target})}onSubListRemove_(e){this.cache_.delete(e.item),this.emitter.emit("remove",{index:e.index,item:e.item,root:this,target:e.target})}};s(zd,"NestedOrderedSet");var jc=zd;function Ax(r,e){for(let t=0;t<r.length;t++){let i=r[t];if(ro(i)&&i.value===e)return i}return null}s(Ax,"findValueBladeController");function Dx(r){return zc(r)?r.rackController.rack.bcSet_:null}s(Dx,"findSubBladeControllerSet");var jd=class jd{constructor(e){var t,i;this.emitter=new We,this.onBladePositionsChange_=this.onBladePositionsChange_.bind(this),this.onSetAdd_=this.onSetAdd_.bind(this),this.onSetRemove_=this.onSetRemove_.bind(this),this.onChildDispose_=this.onChildDispose_.bind(this),this.onChildPositionsChange_=this.onChildPositionsChange_.bind(this),this.onChildValueChange_=this.onChildValueChange_.bind(this),this.onChildViewPropsChange_=this.onChildViewPropsChange_.bind(this),this.onRackLayout_=this.onRackLayout_.bind(this),this.onRackValueChange_=this.onRackValueChange_.bind(this),this.blade_=(t=e.blade)!==null&&t!==void 0?t:null,(i=this.blade_)===null||i===void 0||i.value("positions").emitter.on("change",this.onBladePositionsChange_),this.viewProps=e.viewProps,this.bcSet_=new jc(Dx),this.bcSet_.emitter.on("add",this.onSetAdd_),this.bcSet_.emitter.on("remove",this.onSetRemove_)}get children(){return this.bcSet_.items}add(e,t){var i;(i=e.parent)===null||i===void 0||i.remove(e),e.parent=this,this.bcSet_.add(e,t)}remove(e){e.parent=null,this.bcSet_.remove(e)}find(e){return this.bcSet_.allItems().filter(e)}onSetAdd_(e){this.updatePositions_();let t=e.target===e.root;if(this.emitter.emit("add",{bladeController:e.item,index:e.index,root:t,sender:this}),!t)return;let i=e.item;if(i.viewProps.emitter.on("change",this.onChildViewPropsChange_),i.blade.value("positions").emitter.on("change",this.onChildPositionsChange_),i.viewProps.handleDispose(this.onChildDispose_),ro(i))i.value.emitter.on("change",this.onChildValueChange_);else if(zc(i)){let u=i.rackController.rack;if(u){let p=u.emitter;p.on("layout",this.onRackLayout_),p.on("valuechange",this.onRackValueChange_)}}}onSetRemove_(e){this.updatePositions_();let t=e.target===e.root;if(this.emitter.emit("remove",{bladeController:e.item,root:t,sender:this}),!t)return;let i=e.item;if(ro(i))i.value.emitter.off("change",this.onChildValueChange_);else if(zc(i)){let u=i.rackController.rack;if(u){let p=u.emitter;p.off("layout",this.onRackLayout_),p.off("valuechange",this.onRackValueChange_)}}}updatePositions_(){let e=this.bcSet_.items.filter(u=>!u.viewProps.get("hidden")),t=e[0],i=e[e.length-1];this.bcSet_.items.forEach(u=>{let p=[];u===t&&(p.push("first"),(!this.blade_||this.blade_.get("positions").includes("veryfirst"))&&p.push("veryfirst")),u===i&&(p.push("last"),(!this.blade_||this.blade_.get("positions").includes("verylast"))&&p.push("verylast")),u.blade.set("positions",p)})}onChildPositionsChange_(){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildViewPropsChange_(e){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildDispose_(){this.bcSet_.items.filter(t=>t.viewProps.get("disposed")).forEach(t=>{this.bcSet_.remove(t)})}onChildValueChange_(e){let t=Ax(this.find(ro),e.sender);if(!t)throw pt.alreadyDisposed();this.emitter.emit("valuechange",{bladeController:t,options:e.options,sender:this})}onRackLayout_(e){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onRackValueChange_(e){this.emitter.emit("valuechange",{bladeController:e.bladeController,options:e.options,sender:this})}onBladePositionsChange_(){this.updatePositions_()}};s(jd,"Rack");var Ic=jd,Id=class Id{constructor(e){this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this),this.element=e.element,this.viewProps=e.viewProps;let t=new Ic({blade:e.root?void 0:e.blade,viewProps:e.viewProps});t.emitter.on("add",this.onRackAdd_),t.emitter.on("remove",this.onRackRemove_),this.rack=t,this.viewProps.handleDispose(()=>{for(let i=this.rack.children.length-1;i>=0;i--)this.rack.children[i].viewProps.set("disposed",!0)})}onRackAdd_(e){e.root&&X0(this.element,e.bladeController.view.element,e.index)}onRackRemove_(e){e.root&&Kp(e.bladeController.view.element)}};s(Id,"RackController");var Ji=Id;function $o(){return new ce({positions:Ve([],{equals:O_})})}s($o,"createBlade");var ra=class ra extends ce{constructor(e){super(e)}static create(e){let t={completed:!0,expanded:e,expandedHeight:null,shouldFixHeight:!1,temporaryExpanded:null},i=ce.createCore(t);return new ra(i)}get styleExpanded(){var e;return(e=this.get("temporaryExpanded"))!==null&&e!==void 0?e:this.get("expanded")}get styleHeight(){if(!this.styleExpanded)return"0";let e=this.get("expandedHeight");return this.get("shouldFixHeight")&&!Oe(e)?"".concat(e,"px"):"auto"}bindExpandedClass(e,t){let i=s(()=>{this.styleExpanded?e.classList.add(t):e.classList.remove(t)},"onExpand");An(this,"expanded",i),An(this,"temporaryExpanded",i)}cleanUpTransition(){this.set("shouldFixHeight",!1),this.set("expandedHeight",null),this.set("completed",!0)}};s(ra,"Foldable");var $i=ra;function zx(r,e){let t=0;return cx(e,()=>{r.set("expandedHeight",null),r.set("temporaryExpanded",!0),Bl(e),t=e.clientHeight,r.set("temporaryExpanded",null),Bl(e)}),t}s(zx,"computeExpandedFolderHeight");function b0(r,e){e.style.height=r.styleHeight}s(b0,"applyHeight");function Yp(r,e){r.value("expanded").emitter.on("beforechange",()=>{if(r.set("completed",!1),Oe(r.get("expandedHeight"))){let t=zx(r,e);t>0&&r.set("expandedHeight",t)}r.set("shouldFixHeight",!0),Bl(e)}),r.emitter.on("change",()=>{b0(r,e)}),b0(r,e),e.addEventListener("transitionend",t=>{t.propertyName==="height"&&r.cleanUpTransition()})}s(Yp,"bindFoldable");var Nd=class Nd extends Xi{constructor(e,t){super(e,t),this.emitter_=new We,this.controller.foldable.value("expanded").emitter.on("change",i=>{this.emitter_.emit("fold",new Pc(this,i.sender.rawValue))}),this.rackApi_.on("change",i=>{this.emitter_.emit("change",i)})}get expanded(){return this.controller.foldable.get("expanded")}set expanded(e){this.controller.foldable.set("expanded",e)}get title(){return this.controller.props.get("title")}set title(e){this.controller.props.set("title",e)}get children(){return this.rackApi_.children}addBinding(e,t,i){return this.rackApi_.addBinding(e,t,i)}addFolder(e){return this.rackApi_.addFolder(e)}addButton(e){return this.rackApi_.addButton(e)}addTab(e){return this.rackApi_.addTab(e)}add(e,t){return this.rackApi_.add(e,t)}remove(e){this.rackApi_.remove(e)}addBlade(e){return this.rackApi_.addBlade(e)}on(e,t){let i=t.bind(this);return this.emitter_.on(e,u=>{i(u)},{key:t}),this}off(e,t){return this.emitter_.off(e,t),this}};s(Nd,"FolderApi");var ql=Nd,ew=ve("cnt"),Vd=class Vd{constructor(e,t){var i;this.className_=ve((i=t.viewName)!==null&&i!==void 0?i:"fld"),this.element=e.createElement("div"),this.element.classList.add(this.className_(),ew()),t.viewProps.bindClassModifiers(this.element),this.foldable_=t.foldable,this.foldable_.bindExpandedClass(this.element,this.className_(void 0,"expanded")),An(this.foldable_,"completed",Zo(this.element,this.className_(void 0,"cpl")));let u=e.createElement("button");u.classList.add(this.className_("b")),An(t.props,"title",b=>{Oe(b)?this.element.classList.add(this.className_(void 0,"not")):this.element.classList.remove(this.className_(void 0,"not"))}),t.viewProps.bindDisabled(u),this.element.appendChild(u),this.buttonElement=u;let p=e.createElement("div");p.classList.add(this.className_("i")),this.element.appendChild(p);let h=e.createElement("div");h.classList.add(this.className_("t")),Wp(t.props.value("title"),h),this.buttonElement.appendChild(h),this.titleElement=h;let f=e.createElement("div");f.classList.add(this.className_("m")),this.buttonElement.appendChild(f);let w=e.createElement("div");w.classList.add(this.className_("c")),this.element.appendChild(w),this.containerElement=w}};s(Vd,"FolderView");var Nc=Vd,Fd=class Fd extends Zi{constructor(e,t){var i;let u=$i.create((i=t.expanded)!==null&&i!==void 0?i:!0),p=new Nc(e,{foldable:u,props:t.props,viewName:t.root?"rot":void 0,viewProps:t.viewProps});super(Object.assign(Object.assign({},t),{rackController:new Ji({blade:t.blade,element:p.containerElement,root:t.root,viewProps:t.viewProps}),view:p})),this.onTitleClick_=this.onTitleClick_.bind(this),this.props=t.props,this.foldable=u,Yp(this.foldable,this.view.containerElement),this.rackController.rack.emitter.on("add",()=>{this.foldable.cleanUpTransition()}),this.rackController.rack.emitter.on("remove",()=>{this.foldable.cleanUpTransition()}),this.view.buttonElement.addEventListener("click",this.onTitleClick_)}get document(){return this.view.element.ownerDocument}importState(e){return Wt(e,t=>super.importState(t),t=>({expanded:t.required.boolean,title:t.optional.string}),t=>(this.foldable.set("expanded",t.expanded),this.props.set("title",t.title),!0))}exportState(){return Yt(()=>super.exportState(),{expanded:this.foldable.get("expanded"),title:this.props.get("title")})}onTitleClick_(){this.foldable.set("expanded",!this.foldable.get("expanded"))}};s(Fd,"FolderController");var es=Fd,jx=Rt({id:"folder",type:"blade",accept(r){let e=Ue(r,t=>({title:t.required.string,view:t.required.constant("folder"),expanded:t.optional.boolean}));return e?{params:e}:null},controller(r){return new es(r.document,{blade:r.blade,expanded:r.params.expanded,props:ce.fromObject({title:r.params.title}),viewProps:r.viewProps})},api(r){return r.controller instanceof es?new ql(r.controller,r.pool):null}}),Ix=ve("");function y0(r,e){return Zo(r,Ix(void 0,e))}s(y0,"valueToModifier");var oa=class oa extends ce{constructor(e){var t;super(e),this.onDisabledChange_=this.onDisabledChange_.bind(this),this.onParentChange_=this.onParentChange_.bind(this),this.onParentGlobalDisabledChange_=this.onParentGlobalDisabledChange_.bind(this),[this.globalDisabled_,this.setGlobalDisabled_]=D_(Ve(this.getGlobalDisabled_())),this.value("disabled").emitter.on("change",this.onDisabledChange_),this.value("parent").emitter.on("change",this.onParentChange_),(t=this.get("parent"))===null||t===void 0||t.globalDisabled.emitter.on("change",this.onParentGlobalDisabledChange_)}static create(e){var t,i,u;let p=e!=null?e:{};return new oa(ce.createCore({disabled:(t=p.disabled)!==null&&t!==void 0?t:!1,disposed:!1,hidden:(i=p.hidden)!==null&&i!==void 0?i:!1,parent:(u=p.parent)!==null&&u!==void 0?u:null}))}get globalDisabled(){return this.globalDisabled_}bindClassModifiers(e){Xn(this.globalDisabled_,y0(e,"disabled")),An(this,"hidden",y0(e,"hidden"))}bindDisabled(e){Xn(this.globalDisabled_,t=>{e.disabled=t})}bindTabIndex(e){Xn(this.globalDisabled_,t=>{e.tabIndex=t?-1:0})}handleDispose(e){this.value("disposed").emitter.on("change",t=>{t&&e()})}importState(e){this.set("disabled",e.disabled),this.set("hidden",e.hidden)}exportState(){return{disabled:this.get("disabled"),hidden:this.get("hidden")}}getGlobalDisabled_(){let e=this.get("parent");return(e?e.globalDisabled.rawValue:!1)||this.get("disabled")}updateGlobalDisabled_(){this.setGlobalDisabled_(this.getGlobalDisabled_())}onDisabledChange_(){this.updateGlobalDisabled_()}onParentGlobalDisabledChange_(){this.updateGlobalDisabled_()}onParentChange_(e){var t;let i=e.previousRawValue;i==null||i.globalDisabled.emitter.off("change",this.onParentGlobalDisabledChange_),(t=this.get("parent"))===null||t===void 0||t.globalDisabled.emitter.on("change",this.onParentGlobalDisabledChange_),this.updateGlobalDisabled_()}};s(oa,"ViewProps");var er=oa,_0=ve("tbp"),Hd=class Hd{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(_0()),t.viewProps.bindClassModifiers(this.element);let i=e.createElement("div");i.classList.add(_0("c")),this.element.appendChild(i),this.containerElement=i}};s(Hd,"TabPageView");var Vc=Hd,Ki=ve("tbi"),Bd=class Bd{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(Ki()),t.viewProps.bindClassModifiers(this.element),An(t.props,"selected",p=>{p?this.element.classList.add(Ki(void 0,"sel")):this.element.classList.remove(Ki(void 0,"sel"))});let i=e.createElement("button");i.classList.add(Ki("b")),t.viewProps.bindDisabled(i),this.element.appendChild(i),this.buttonElement=i;let u=e.createElement("div");u.classList.add(Ki("t")),Wp(t.props.value("title"),u),this.buttonElement.appendChild(u),this.titleElement=u}};s(Bd,"TabItemView");var Fc=Bd,Ud=class Ud{constructor(e,t){this.emitter=new We,this.onClick_=this.onClick_.bind(this),this.props=t.props,this.viewProps=t.viewProps,this.view=new Fc(e,{props:t.props,viewProps:t.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}};s(Ud,"TabItemController");var Hc=Ud,Gd=class Gd extends Zi{constructor(e,t){let i=new Vc(e,{viewProps:t.viewProps});super(Object.assign(Object.assign({},t),{rackController:new Ji({blade:t.blade,element:i.containerElement,viewProps:t.viewProps}),view:i})),this.onItemClick_=this.onItemClick_.bind(this),this.ic_=new Hc(e,{props:t.itemProps,viewProps:er.create()}),this.ic_.emitter.on("click",this.onItemClick_),this.props=t.props,An(this.props,"selected",u=>{this.itemController.props.set("selected",u),this.viewProps.set("hidden",!u)})}get itemController(){return this.ic_}importState(e){return Wt(e,t=>super.importState(t),t=>({selected:t.required.boolean,title:t.required.string}),t=>(this.ic_.props.set("selected",t.selected),this.ic_.props.set("title",t.title),!0))}exportState(){return Yt(()=>super.exportState(),{selected:this.ic_.props.get("selected"),title:this.ic_.props.get("title")})}onItemClick_(){this.props.set("selected",!0)}};s(Gd,"TabPageController");var ts=Gd,Kd=class Kd extends Xi{constructor(e,t){super(e,t),this.emitter_=new We,this.onSelect_=this.onSelect_.bind(this),this.pool_=t,this.rackApi_.on("change",i=>{this.emitter_.emit("change",i)}),this.controller.tab.selectedIndex.emitter.on("change",this.onSelect_)}get pages(){return this.rackApi_.children}addPage(e){let t=this.controller.view.element.ownerDocument,i=new ts(t,{blade:$o(),itemProps:ce.fromObject({selected:!1,title:e.title}),props:ce.fromObject({selected:!1}),viewProps:er.create()}),u=this.pool_.createApi(i);return this.rackApi_.add(u,e.index)}removePage(e){this.rackApi_.remove(this.rackApi_.children[e])}on(e,t){let i=t.bind(this);return this.emitter_.on(e,u=>{i(u)},{key:t}),this}off(e,t){return this.emitter_.off(e,t),this}onSelect_(e){this.emitter_.emit("select",new Ec(this,e.rawValue))}};s(Kd,"TabApi");var Bc=Kd,Wd=class Wd extends Xi{get title(){var e;return(e=this.controller.itemController.props.get("title"))!==null&&e!==void 0?e:""}set title(e){this.controller.itemController.props.set("title",e)}get selected(){return this.controller.props.get("selected")}set selected(e){this.controller.props.set("selected",e)}get children(){return this.rackApi_.children}addButton(e){return this.rackApi_.addButton(e)}addFolder(e){return this.rackApi_.addFolder(e)}addTab(e){return this.rackApi_.addTab(e)}add(e,t){this.rackApi_.add(e,t)}remove(e){this.rackApi_.remove(e)}addBinding(e,t,i){return this.rackApi_.addBinding(e,t,i)}addBlade(e){return this.rackApi_.addBlade(e)}};s(Wd,"TabPageApi");var Uc=Wd,x0=-1,Yd=class Yd{constructor(){this.onItemSelectedChange_=this.onItemSelectedChange_.bind(this),this.empty=Ve(!0),this.selectedIndex=Ve(x0),this.items_=[]}add(e,t){let i=t!=null?t:this.items_.length;this.items_.splice(i,0,e),e.emitter.on("change",this.onItemSelectedChange_),this.keepSelection_()}remove(e){let t=this.items_.indexOf(e);t<0||(this.items_.splice(t,1),e.emitter.off("change",this.onItemSelectedChange_),this.keepSelection_())}keepSelection_(){if(this.items_.length===0){this.selectedIndex.rawValue=x0,this.empty.rawValue=!0;return}let e=this.items_.findIndex(t=>t.rawValue);e<0?(this.items_.forEach((t,i)=>{t.rawValue=i===0}),this.selectedIndex.rawValue=0):(this.items_.forEach((t,i)=>{t.rawValue=i===e}),this.selectedIndex.rawValue=e),this.empty.rawValue=!1}onItemSelectedChange_(e){if(e.rawValue){let t=this.items_.findIndex(i=>i===e.sender);this.items_.forEach((i,u)=>{i.rawValue=u===t}),this.selectedIndex.rawValue=t}else this.keepSelection_()}};s(Yd,"Tab");var Gc=Yd,Wi=ve("tab"),qd=class qd{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(Wi(),ew()),t.viewProps.bindClassModifiers(this.element),Xn(t.empty,Zo(this.element,Wi(void 0,"nop")));let i=e.createElement("div");i.classList.add(Wi("t")),this.element.appendChild(i),this.itemsElement=i;let u=e.createElement("div");u.classList.add(Wi("i")),this.element.appendChild(u);let p=e.createElement("div");p.classList.add(Wi("c")),this.element.appendChild(p),this.contentsElement=p}};s(qd,"TabView");var Kc=qd,Qd=class Qd extends Zi{constructor(e,t){let i=new Gc,u=new Kc(e,{empty:i.empty,viewProps:t.viewProps});super({blade:t.blade,rackController:new Ji({blade:t.blade,element:u.contentsElement,viewProps:t.viewProps}),view:u}),this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this);let p=this.rackController.rack;p.emitter.on("add",this.onRackAdd_),p.emitter.on("remove",this.onRackRemove_),this.tab=i}add(e,t){this.rackController.rack.add(e,t)}remove(e){this.rackController.rack.remove(this.rackController.rack.children[e])}onRackAdd_(e){if(!e.root)return;let t=e.bladeController;X0(this.view.itemsElement,t.itemController.view.element,e.index),t.itemController.viewProps.set("parent",this.viewProps),this.tab.add(t.props.value("selected"))}onRackRemove_(e){if(!e.root)return;let t=e.bladeController;Kp(t.itemController.view.element),t.itemController.viewProps.set("parent",null),this.tab.remove(t.props.value("selected"))}};s(Qd,"TabController");var Ql=Qd,tw=Rt({id:"tab",type:"blade",accept(r){let e=Ue(r,t=>({pages:t.required.array(t.required.object({title:t.required.string})),view:t.required.constant("tab")}));return!e||e.pages.length===0?null:{params:e}},controller(r){let e=new Ql(r.document,{blade:r.blade,viewProps:r.viewProps});return r.params.pages.forEach(t=>{let i=new ts(r.document,{blade:$o(),itemProps:ce.fromObject({selected:!1,title:t.title}),props:ce.fromObject({selected:!1}),viewProps:er.create()});e.add(i)}),e},api(r){return r.controller instanceof Ql?new Bc(r.controller,r.pool):r.controller instanceof ts?new Uc(r.controller,r.pool):null}});function Nx(r,e){let t=r.accept(e.params);if(!t)return null;let i=Ue(e.params,u=>({disabled:u.optional.boolean,hidden:u.optional.boolean}));return r.controller({blade:$o(),document:e.document,params:Object.assign(Object.assign({},t.params),{disabled:i==null?void 0:i.disabled,hidden:i==null?void 0:i.hidden}),viewProps:er.create({disabled:i==null?void 0:i.disabled,hidden:i==null?void 0:i.hidden})})}s(Nx,"createBladeController");var Xd=class Xd extends lo{get options(){return this.controller.valueController.props.get("options")}set options(e){this.controller.valueController.props.set("options",e)}};s(Xd,"ListInputBindingApi");var ns=Xd,Zd=class Zd{constructor(){this.disabled=!1,this.emitter=new We}dispose(){}tick(){this.disabled||this.emitter.emit("tick",{sender:this})}};s(Zd,"ManualTicker");var Wc=Zd,Jd=class Jd{constructor(e,t){this.disabled_=!1,this.timerId_=null,this.onTick_=this.onTick_.bind(this),this.doc_=e,this.emitter=new We,this.interval_=t,this.setTimer_()}get disabled(){return this.disabled_}set disabled(e){this.disabled_=e,this.disabled_?this.clearTimer_():this.setTimer_()}dispose(){this.clearTimer_()}clearTimer_(){if(this.timerId_===null)return;let e=this.doc_.defaultView;e&&e.clearInterval(this.timerId_),this.timerId_=null}setTimer_(){if(this.clearTimer_(),this.interval_<=0)return;let e=this.doc_.defaultView;e&&(this.timerId_=e.setInterval(this.onTick_,this.interval_))}onTick_(){this.disabled_||this.emitter.emit("tick",{sender:this})}};s(Jd,"IntervalTicker");var Yc=Jd,$d=class $d{constructor(e){this.constraints=e}constrain(e){return this.constraints.reduce((t,i)=>i.constrain(t),e)}};s($d,"CompositeConstraint");var ao=$d;function Xl(r,e){if(r instanceof e)return r;if(r instanceof ao){let t=r.constraints.reduce((i,u)=>i||(u instanceof e?u:null),null);if(t)return t}return null}s(Xl,"findConstraint");var eh=class eh{constructor(e){this.values=ce.fromObject({options:e})}constrain(e){let t=this.values.get("options");return t.length===0||t.filter(u=>u.value===e).length>0?e:t[0].value}};s(eh,"ListConstraint");var uo=eh;function ps(r){var e;let t=kc;if(Array.isArray(r))return(e=Ue({items:r},i=>({items:i.required.array(i.required.object({text:i.required.string,value:i.required.raw}))})))===null||e===void 0?void 0:e.items;if(typeof r=="object")return t.required.raw(r).value}s(ps,"parseListOptions");function qp(r){if(Array.isArray(r))return r;let e=[];return Object.keys(r).forEach(t=>{e.push({text:t,value:r[t]})}),e}s(qp,"normalizeListOptions");function Qp(r){return Oe(r)?null:new uo(qp(r))}s(Qp,"createListConstraint");var lc=ve("lst"),th=class th{constructor(e,t){this.onValueChange_=this.onValueChange_.bind(this),this.props_=t.props,this.element=e.createElement("div"),this.element.classList.add(lc()),t.viewProps.bindClassModifiers(this.element);let i=e.createElement("select");i.classList.add(lc("s")),t.viewProps.bindDisabled(i),this.element.appendChild(i),this.selectElement=i;let u=e.createElement("div");u.classList.add(lc("m")),u.appendChild(sa(e,"dropdown")),this.element.appendChild(u),t.value.emitter.on("change",this.onValueChange_),this.value_=t.value,An(this.props_,"options",p=>{Z0(this.selectElement),p.forEach(h=>{let f=e.createElement("option");f.textContent=h.text,this.selectElement.appendChild(f)}),this.update_()})}update_(){let e=this.props_.get("options").map(t=>t.value);this.selectElement.selectedIndex=e.indexOf(this.value_.rawValue)}onValueChange_(){this.update_()}};s(th,"ListView");var qc=th,nh=class nh{constructor(e,t){this.onSelectChange_=this.onSelectChange_.bind(this),this.props=t.props,this.value=t.value,this.viewProps=t.viewProps,this.view=new qc(e,{props:this.props,value:this.value,viewProps:this.viewProps}),this.view.selectElement.addEventListener("change",this.onSelectChange_)}onSelectChange_(e){let t=e.currentTarget;this.value.rawValue=this.props.get("options")[t.selectedIndex].value}importProps(e){return Wt(e,null,t=>({options:t.required.custom(ps)}),t=>(this.props.set("options",qp(t.options)),!0))}exportProps(){return Yt(null,{options:this.props.get("options")})}};s(nh,"ListController");var Dn=nh,P0=ve("pop"),rh=class rh{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(P0()),t.viewProps.bindClassModifiers(this.element),Xn(t.shows,Zo(this.element,P0(void 0,"v")))}};s(rh,"PopupView");var Qc=rh,oh=class oh{constructor(e,t){this.shows=Ve(!1),this.viewProps=t.viewProps,this.view=new Qc(e,{shows:this.shows,viewProps:this.viewProps})}};s(oh,"PopupController");var Zl=oh,E0=ve("txt"),ih=class ih{constructor(e,t){this.onChange_=this.onChange_.bind(this),this.element=e.createElement("div"),this.element.classList.add(E0()),t.viewProps.bindClassModifiers(this.element),this.props_=t.props,this.props_.emitter.on("change",this.onChange_);let i=e.createElement("input");i.classList.add(E0("i")),i.type="text",t.viewProps.bindDisabled(i),this.element.appendChild(i),this.inputElement=i,t.value.emitter.on("change",this.onChange_),this.value_=t.value,this.refresh()}refresh(){let e=this.props_.get("formatter");this.inputElement.value=e(this.value_.rawValue)}onChange_(){this.refresh()}};s(ih,"TextView");var Xc=ih,sh=class sh{constructor(e,t){this.onInputChange_=this.onInputChange_.bind(this),this.parser_=t.parser,this.props=t.props,this.value=t.value,this.viewProps=t.viewProps,this.view=new Xc(e,{props:t.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(e){let i=e.currentTarget.value,u=this.parser_(i);Oe(u)||(this.value.rawValue=u),this.view.refresh()}};s(sh,"TextController");var co=sh;function Vx(r){return String(r)}s(Vx,"boolToString");function nw(r){return r==="false"?!1:!!r}s(nw,"boolFromUnknown");function S0(r){return Vx(r)}s(S0,"BooleanFormatter");function Fx(r){return e=>r.reduce((t,i)=>t!==null?t:i(e),null)}s(Fx,"composeParsers");var Hx=Ft(0);function Jl(r){return Hx(r)+"%"}s(Jl,"formatPercentage");function rw(r){return String(r)}s(rw,"stringFromUnknown");function Zc(r){return r}s(Zc,"formatString");function ei({primary:r,secondary:e,forward:t,backward:i}){let u=!1;function p(h){u||(u=!0,h(),u=!1)}s(p,"preventFeedback"),r.emitter.on("change",h=>{p(()=>{e.setRawValue(t(r.rawValue,e.rawValue),h.options)})}),e.emitter.on("change",h=>{p(()=>{r.setRawValue(i(r.rawValue,e.rawValue),h.options)}),p(()=>{e.setRawValue(t(r.rawValue,e.rawValue),h.options)})}),p(()=>{e.setRawValue(t(r.rawValue,e.rawValue),{forceEmit:!1,last:!0})})}s(ei,"connectValues");function Vt(r,e){let t=r*(e.altKey?.1:1)*(e.shiftKey?10:1);return e.upKey?+t:e.downKey?-t:0}s(Vt,"getStepForKey");function rs(r){return{altKey:r.altKey,downKey:r.key==="ArrowDown",shiftKey:r.shiftKey,upKey:r.key==="ArrowUp"}}s(rs,"getVerticalStepKeys");function tr(r){return{altKey:r.altKey,downKey:r.key==="ArrowLeft",shiftKey:r.shiftKey,upKey:r.key==="ArrowRight"}}s(tr,"getHorizontalStepKeys");function Bx(r){return r==="ArrowUp"||r==="ArrowDown"}s(Bx,"isVerticalArrowKey");function ow(r){return Bx(r)||r==="ArrowLeft"||r==="ArrowRight"}s(ow,"isArrowKey");function ac(r,e){var t,i;let u=e.ownerDocument.defaultView,p=e.getBoundingClientRect();return{x:r.pageX-(((t=u&&u.scrollX)!==null&&t!==void 0?t:0)+p.left),y:r.pageY-(((i=u&&u.scrollY)!==null&&i!==void 0?i:0)+p.top)}}s(ac,"computeOffset$1");var lh=class lh{constructor(e){this.lastTouch_=null,this.onDocumentMouseMove_=this.onDocumentMouseMove_.bind(this),this.onDocumentMouseUp_=this.onDocumentMouseUp_.bind(this),this.onMouseDown_=this.onMouseDown_.bind(this),this.onTouchEnd_=this.onTouchEnd_.bind(this),this.onTouchMove_=this.onTouchMove_.bind(this),this.onTouchStart_=this.onTouchStart_.bind(this),this.elem_=e,this.emitter=new We,e.addEventListener("touchstart",this.onTouchStart_,{passive:!1}),e.addEventListener("touchmove",this.onTouchMove_,{passive:!0}),e.addEventListener("touchend",this.onTouchEnd_),e.addEventListener("mousedown",this.onMouseDown_)}computePosition_(e){let t=this.elem_.getBoundingClientRect();return{bounds:{width:t.width,height:t.height},point:e?{x:e.x,y:e.y}:null}}onMouseDown_(e){var t;e.preventDefault(),(t=e.currentTarget)===null||t===void 0||t.focus();let i=this.elem_.ownerDocument;i.addEventListener("mousemove",this.onDocumentMouseMove_),i.addEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("down",{altKey:e.altKey,data:this.computePosition_(ac(e,this.elem_)),sender:this,shiftKey:e.shiftKey})}onDocumentMouseMove_(e){this.emitter.emit("move",{altKey:e.altKey,data:this.computePosition_(ac(e,this.elem_)),sender:this,shiftKey:e.shiftKey})}onDocumentMouseUp_(e){let t=this.elem_.ownerDocument;t.removeEventListener("mousemove",this.onDocumentMouseMove_),t.removeEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("up",{altKey:e.altKey,data:this.computePosition_(ac(e,this.elem_)),sender:this,shiftKey:e.shiftKey})}onTouchStart_(e){e.preventDefault();let t=e.targetTouches.item(0),i=this.elem_.getBoundingClientRect();this.emitter.emit("down",{altKey:e.altKey,data:this.computePosition_(t?{x:t.clientX-i.left,y:t.clientY-i.top}:void 0),sender:this,shiftKey:e.shiftKey}),this.lastTouch_=t}onTouchMove_(e){let t=e.targetTouches.item(0),i=this.elem_.getBoundingClientRect();this.emitter.emit("move",{altKey:e.altKey,data:this.computePosition_(t?{x:t.clientX-i.left,y:t.clientY-i.top}:void 0),sender:this,shiftKey:e.shiftKey}),this.lastTouch_=t}onTouchEnd_(e){var t;let i=(t=e.targetTouches.item(0))!==null&&t!==void 0?t:this.lastTouch_,u=this.elem_.getBoundingClientRect();this.emitter.emit("up",{altKey:e.altKey,data:this.computePosition_(i?{x:i.clientX-u.left,y:i.clientY-u.top}:void 0),sender:this,shiftKey:e.shiftKey})}};s(lh,"PointerHandler");var nr=lh,ln=ve("txt"),ah=class ah{constructor(e,t){this.onChange_=this.onChange_.bind(this),this.props_=t.props,this.props_.emitter.on("change",this.onChange_),this.element=e.createElement("div"),this.element.classList.add(ln(),ln(void 0,"num")),t.arrayPosition&&this.element.classList.add(ln(void 0,t.arrayPosition)),t.viewProps.bindClassModifiers(this.element);let i=e.createElement("input");i.classList.add(ln("i")),i.type="text",t.viewProps.bindDisabled(i),this.element.appendChild(i),this.inputElement=i,this.onDraggingChange_=this.onDraggingChange_.bind(this),this.dragging_=t.dragging,this.dragging_.emitter.on("change",this.onDraggingChange_),this.element.classList.add(ln()),this.inputElement.classList.add(ln("i"));let u=e.createElement("div");u.classList.add(ln("k")),this.element.appendChild(u),this.knobElement=u;let p=e.createElementNS(Ln,"svg");p.classList.add(ln("g")),this.knobElement.appendChild(p);let h=e.createElementNS(Ln,"path");h.classList.add(ln("gb")),p.appendChild(h),this.guideBodyElem_=h;let f=e.createElementNS(Ln,"path");f.classList.add(ln("gh")),p.appendChild(f),this.guideHeadElem_=f;let w=e.createElement("div");w.classList.add(ve("tt")()),this.knobElement.appendChild(w),this.tooltipElem_=w,t.value.emitter.on("change",this.onChange_),this.value=t.value,this.refresh()}onDraggingChange_(e){if(e.rawValue===null){this.element.classList.remove(ln(void 0,"drg"));return}this.element.classList.add(ln(void 0,"drg"));let t=e.rawValue/this.props_.get("pointerScale"),i=t+(t>0?-1:t<0?1:0),u=it(-i,-4,4);this.guideHeadElem_.setAttributeNS(null,"d",["M ".concat(i+u,",0 L").concat(i,",4 L").concat(i+u,",8"),"M ".concat(t,",-1 L").concat(t,",9")].join(" ")),this.guideBodyElem_.setAttributeNS(null,"d","M 0,4 L".concat(t,",4"));let p=this.props_.get("formatter");this.tooltipElem_.textContent=p(this.value.rawValue),this.tooltipElem_.style.left="".concat(t,"px")}refresh(){let e=this.props_.get("formatter");this.inputElement.value=e(this.value.rawValue)}onChange_(){this.refresh()}};s(ah,"NumberTextView");var Jc=ah,uh=class uh{constructor(e,t){var i;this.originRawValue_=0,this.onInputChange_=this.onInputChange_.bind(this),this.onInputKeyDown_=this.onInputKeyDown_.bind(this),this.onInputKeyUp_=this.onInputKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.parser_=t.parser,this.props=t.props,this.sliderProps_=(i=t.sliderProps)!==null&&i!==void 0?i:null,this.value=t.value,this.viewProps=t.viewProps,this.dragging_=Ve(null),this.view=new Jc(e,{arrayPosition:t.arrayPosition,dragging:this.dragging_,props:this.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_),this.view.inputElement.addEventListener("keydown",this.onInputKeyDown_),this.view.inputElement.addEventListener("keyup",this.onInputKeyUp_);let u=new nr(this.view.knobElement);u.emitter.on("down",this.onPointerDown_),u.emitter.on("move",this.onPointerMove_),u.emitter.on("up",this.onPointerUp_)}constrainValue_(e){var t,i;let u=(t=this.sliderProps_)===null||t===void 0?void 0:t.get("min"),p=(i=this.sliderProps_)===null||i===void 0?void 0:i.get("max"),h=e;return u!==void 0&&(h=Math.max(h,u)),p!==void 0&&(h=Math.min(h,p)),h}onInputChange_(e){let i=e.currentTarget.value,u=this.parser_(i);Oe(u)||(this.value.rawValue=this.constrainValue_(u)),this.view.refresh()}onInputKeyDown_(e){let t=Vt(this.props.get("keyScale"),rs(e));t!==0&&this.value.setRawValue(this.constrainValue_(this.value.rawValue+t),{forceEmit:!1,last:!1})}onInputKeyUp_(e){Vt(this.props.get("keyScale"),rs(e))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}onPointerDown_(){this.originRawValue_=this.value.rawValue,this.dragging_.rawValue=0}computeDraggingValue_(e){if(!e.point)return null;let t=e.point.x-e.bounds.width/2;return this.constrainValue_(this.originRawValue_+t*this.props.get("pointerScale"))}onPointerMove_(e){let t=this.computeDraggingValue_(e.data);t!==null&&(this.value.setRawValue(t,{forceEmit:!1,last:!1}),this.dragging_.rawValue=this.value.rawValue-this.originRawValue_)}onPointerUp_(e){let t=this.computeDraggingValue_(e.data);t!==null&&(this.value.setRawValue(t,{forceEmit:!0,last:!0}),this.dragging_.rawValue=null)}};s(uh,"NumberTextController");var po=uh,uc=ve("sld"),ch=class ch{constructor(e,t){this.onChange_=this.onChange_.bind(this),this.props_=t.props,this.props_.emitter.on("change",this.onChange_),this.element=e.createElement("div"),this.element.classList.add(uc()),t.viewProps.bindClassModifiers(this.element);let i=e.createElement("div");i.classList.add(uc("t")),t.viewProps.bindTabIndex(i),this.element.appendChild(i),this.trackElement=i;let u=e.createElement("div");u.classList.add(uc("k")),this.trackElement.appendChild(u),this.knobElement=u,t.value.emitter.on("change",this.onChange_),this.value=t.value,this.update_()}update_(){let e=it(Ce(this.value.rawValue,this.props_.get("min"),this.props_.get("max"),0,100),0,100);this.knobElement.style.width="".concat(e,"%")}onChange_(){this.update_()}};s(ch,"SliderView");var $c=ch,ph=class ph{constructor(e,t){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDownOrMove_=this.onPointerDownOrMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=t.value,this.viewProps=t.viewProps,this.props=t.props,this.view=new $c(e,{props:this.props,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new nr(this.view.trackElement),this.ptHandler_.emitter.on("down",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("move",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.trackElement.addEventListener("keydown",this.onKeyDown_),this.view.trackElement.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,t){e.point&&this.value.setRawValue(Ce(it(e.point.x,0,e.bounds.width),0,e.bounds.width,this.props.get("min"),this.props.get("max")),t)}onPointerDownOrMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){let t=Vt(this.props.get("keyScale"),tr(e));t!==0&&this.value.setRawValue(this.value.rawValue+t,{forceEmit:!1,last:!1})}onKeyUp_(e){Vt(this.props.get("keyScale"),tr(e))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}};s(ph,"SliderController");var ep=ph,cc=ve("sldtxt"),dh=class dh{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(cc());let i=e.createElement("div");i.classList.add(cc("s")),this.sliderView_=t.sliderView,i.appendChild(this.sliderView_.element),this.element.appendChild(i);let u=e.createElement("div");u.classList.add(cc("t")),this.textView_=t.textView,u.appendChild(this.textView_.element),this.element.appendChild(u)}};s(dh,"SliderTextView");var tp=dh,hh=class hh{constructor(e,t){this.value=t.value,this.viewProps=t.viewProps,this.sliderC_=new ep(e,{props:t.sliderProps,value:t.value,viewProps:this.viewProps}),this.textC_=new po(e,{parser:t.parser,props:t.textProps,sliderProps:t.sliderProps,value:t.value,viewProps:t.viewProps}),this.view=new tp(e,{sliderView:this.sliderC_.view,textView:this.textC_.view})}get sliderController(){return this.sliderC_}get textController(){return this.textC_}importProps(e){return Wt(e,null,t=>({max:t.required.number,min:t.required.number}),t=>{let i=this.sliderC_.props;return i.set("max",t.max),i.set("min",t.min),!0})}exportProps(){let e=this.sliderC_.props;return Yt(null,{max:e.get("max"),min:e.get("min")})}};s(hh,"SliderTextController");var qo=hh;function iw(r){return{sliderProps:new ce({keyScale:r.keyScale,max:r.max,min:r.min}),textProps:new ce({formatter:Ve(r.formatter),keyScale:r.keyScale,pointerScale:Ve(r.pointerScale)})}}s(iw,"createSliderTextProps");var Ux={containerUnitSize:"cnt-usz"};function sw(r){return"--".concat(Ux[r])}s(sw,"getCssVar");function os(r){return q0(r)}s(os,"createPointDimensionParser");function Rr(r){if(fc(r))return Ue(r,os)}s(Rr,"parsePointDimensionParams");function Qn(r,e){if(!r)return;let t=[],i=K0(r,e);i&&t.push(i);let u=W0(r);return u&&t.push(u),new ao(t)}s(Qn,"createDimensionConstraint");function Gx(r){return r?r.major===Jo.major:!1}s(Gx,"isCompatible");function lw(r){if(r==="inline"||r==="popup")return r}s(lw,"parsePickerLayout");function ds(r,e){r.write(e)}s(ds,"writePrimitive");var Nl=ve("ckb"),fh=class fh{constructor(e,t){this.onValueChange_=this.onValueChange_.bind(this),this.element=e.createElement("div"),this.element.classList.add(Nl()),t.viewProps.bindClassModifiers(this.element);let i=e.createElement("label");i.classList.add(Nl("l")),this.element.appendChild(i),this.labelElement=i;let u=e.createElement("input");u.classList.add(Nl("i")),u.type="checkbox",this.labelElement.appendChild(u),this.inputElement=u,t.viewProps.bindDisabled(this.inputElement);let p=e.createElement("div");p.classList.add(Nl("w")),this.labelElement.appendChild(p);let h=sa(e,"check");p.appendChild(h),t.value.emitter.on("change",this.onValueChange_),this.value=t.value,this.update_()}update_(){this.inputElement.checked=this.value.rawValue}onValueChange_(){this.update_()}};s(fh,"CheckboxView");var np=fh,mh=class mh{constructor(e,t){this.onInputChange_=this.onInputChange_.bind(this),this.onLabelMouseDown_=this.onLabelMouseDown_.bind(this),this.value=t.value,this.viewProps=t.viewProps,this.view=new np(e,{value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_),this.view.labelElement.addEventListener("mousedown",this.onLabelMouseDown_)}onInputChange_(e){let t=e.currentTarget;this.value.rawValue=t.checked,e.preventDefault(),e.stopPropagation()}onLabelMouseDown_(e){e.preventDefault()}};s(mh,"CheckboxController");var rp=mh;function Kx(r){let e=[],t=Qp(r.options);return t&&e.push(t),new ao(e)}s(Kx,"createConstraint$6");var Wx=Rt({id:"input-bool",type:"input",accept:s((r,e)=>{if(typeof r!="boolean")return null;let t=Ue(e,i=>({options:i.optional.custom(ps),readonly:i.optional.constant(!1)}));return t?{initialValue:r,params:t}:null},"accept"),binding:{reader:s(r=>nw,"reader"),constraint:s(r=>Kx(r.params),"constraint"),writer:s(r=>ds,"writer")},controller:s(r=>{let e=r.document,t=r.value,i=r.constraint,u=i&&Xl(i,uo);return u?new Dn(e,{props:new ce({options:u.values.value("options")}),value:t,viewProps:r.viewProps}):new rp(e,{value:t,viewProps:r.viewProps})},"controller"),api(r){return typeof r.controller.value.rawValue!="boolean"?null:r.controller.valueController instanceof Dn?new ns(r.controller):null}}),no=ve("col"),vh=class vh{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(no()),t.foldable.bindExpandedClass(this.element,no(void 0,"expanded")),An(t.foldable,"completed",Zo(this.element,no(void 0,"cpl")));let i=e.createElement("div");i.classList.add(no("h")),this.element.appendChild(i);let u=e.createElement("div");u.classList.add(no("s")),i.appendChild(u),this.swatchElement=u;let p=e.createElement("div");if(p.classList.add(no("t")),i.appendChild(p),this.textElement=p,t.pickerLayout==="inline"){let h=e.createElement("div");h.classList.add(no("p")),this.element.appendChild(h),this.pickerElement=h}else this.pickerElement=null}};s(vh,"ColorView");var op=vh;function Yx(r,e,t){let i=it(r/255,0,1),u=it(e/255,0,1),p=it(t/255,0,1),h=Math.max(i,u,p),f=Math.min(i,u,p),w=h-f,b=0,m=0,v=(f+h)/2;return w!==0&&(m=w/(1-Math.abs(h+f-1)),i===h?b=(u-p)/w:u===h?b=2+(p-i)/w:b=4+(i-u)/w,b=b/6+(b<0?1:0)),[b*360,m*100,v*100]}s(Yx,"rgbToHslInt");function qx(r,e,t){let i=(r%360+360)%360,u=it(e/100,0,1),p=it(t/100,0,1),h=(1-Math.abs(2*p-1))*u,f=h*(1-Math.abs(i/60%2-1)),w=p-h/2,b,m,v;return i>=0&&i<60?[b,m,v]=[h,f,0]:i>=60&&i<120?[b,m,v]=[f,h,0]:i>=120&&i<180?[b,m,v]=[0,h,f]:i>=180&&i<240?[b,m,v]=[0,f,h]:i>=240&&i<300?[b,m,v]=[f,0,h]:[b,m,v]=[h,0,f],[(b+w)*255,(m+w)*255,(v+w)*255]}s(qx,"hslToRgbInt");function Qx(r,e,t){let i=it(r/255,0,1),u=it(e/255,0,1),p=it(t/255,0,1),h=Math.max(i,u,p),f=Math.min(i,u,p),w=h-f,b;w===0?b=0:h===i?b=60*(((u-p)/w%6+6)%6):h===u?b=60*((p-i)/w+2):b=60*((i-u)/w+4);let m=h===0?0:w/h,v=h;return[b,m*100,v*100]}s(Qx,"rgbToHsvInt");function aw(r,e,t){let i=B0(r,360),u=it(e/100,0,1),p=it(t/100,0,1),h=p*u,f=h*(1-Math.abs(i/60%2-1)),w=p-h,b,m,v;return i>=0&&i<60?[b,m,v]=[h,f,0]:i>=60&&i<120?[b,m,v]=[f,h,0]:i>=120&&i<180?[b,m,v]=[0,h,f]:i>=180&&i<240?[b,m,v]=[0,f,h]:i>=240&&i<300?[b,m,v]=[f,0,h]:[b,m,v]=[h,0,f],[(b+w)*255,(m+w)*255,(v+w)*255]}s(aw,"hsvToRgbInt");function Xx(r,e,t){let i=t+e*(100-Math.abs(2*t-100))/200;return[r,i!==0?e*(100-Math.abs(2*t-100))/i:0,t+e*(100-Math.abs(2*t-100))/(2*100)]}s(Xx,"hslToHsvInt");function Zx(r,e,t){let i=100-Math.abs(t*(200-e)/100-100);return[r,i!==0?e*t/i:0,t*(200-e)/(2*100)]}s(Zx,"hsvToHslInt");function zn(r){return[r[0],r[1],r[2]]}s(zn,"removeAlphaComponent");function la(r,e){return[r[0],r[1],r[2],e]}s(la,"appendAlphaComponent");var Jx={hsl:{hsl:s((r,e,t)=>[r,e,t],"hsl"),hsv:Xx,rgb:qx},hsv:{hsl:Zx,hsv:s((r,e,t)=>[r,e,t],"hsv"),rgb:aw},rgb:{hsl:Yx,hsv:Qx,rgb:s((r,e,t)=>[r,e,t],"rgb")}};function Qo(r,e){return[e==="float"?1:r==="rgb"?255:360,e==="float"?1:r==="rgb"?255:100,e==="float"?1:r==="rgb"?255:100]}s(Qo,"getColorMaxComponents");function $x(r,e){return r===e?e:B0(r,e)}s($x,"loopHueRange");function uw(r,e,t){var i;let u=Qo(e,t);return[e==="rgb"?it(r[0],0,u[0]):$x(r[0],u[0]),it(r[1],0,u[1]),it(r[2],0,u[2]),it((i=r[3])!==null&&i!==void 0?i:1,0,1)]}s(uw,"constrainColorComponents");function C0(r,e,t,i){let u=Qo(e,t),p=Qo(e,i);return r.map((h,f)=>h/u[f]*p[f])}s(C0,"convertColorType");function cw(r,e,t){let i=C0(r,e.mode,e.type,"int"),u=Jx[e.mode][t.mode](...i);return C0(u,t.mode,"int",t.type)}s(cw,"convertColor");var ia=class ia{static black(){return new ia([0,0,0],"rgb")}constructor(e,t){this.type="int",this.mode=t,this.comps_=uw(e,t,this.type)}getComponents(e){return la(cw(zn(this.comps_),{mode:this.mode,type:this.type},{mode:e!=null?e:this.mode,type:this.type}),this.comps_[3])}toRgbaObject(){let e=this.getComponents("rgb");return{r:e[0],g:e[1],b:e[2],a:e[3]}}};s(ia,"IntColor");var Ee=ia,Er=ve("colp"),gh=class gh{constructor(e,t){this.alphaViews_=null,this.element=e.createElement("div"),this.element.classList.add(Er()),t.viewProps.bindClassModifiers(this.element);let i=e.createElement("div");i.classList.add(Er("hsv"));let u=e.createElement("div");u.classList.add(Er("sv")),this.svPaletteView_=t.svPaletteView,u.appendChild(this.svPaletteView_.element),i.appendChild(u);let p=e.createElement("div");p.classList.add(Er("h")),this.hPaletteView_=t.hPaletteView,p.appendChild(this.hPaletteView_.element),i.appendChild(p),this.element.appendChild(i);let h=e.createElement("div");if(h.classList.add(Er("rgb")),this.textsView_=t.textsView,h.appendChild(this.textsView_.element),this.element.appendChild(h),t.alphaViews){this.alphaViews_={palette:t.alphaViews.palette,text:t.alphaViews.text};let f=e.createElement("div");f.classList.add(Er("a"));let w=e.createElement("div");w.classList.add(Er("ap")),w.appendChild(this.alphaViews_.palette.element),f.appendChild(w);let b=e.createElement("div");b.classList.add(Er("at")),b.appendChild(this.alphaViews_.text.element),f.appendChild(b),this.element.appendChild(f)}}get allFocusableElements(){let e=[this.svPaletteView_.element,this.hPaletteView_.element,this.textsView_.modeSelectElement,...this.textsView_.inputViews.map(t=>t.inputElement)];return this.alphaViews_&&e.push(this.alphaViews_.palette.element,this.alphaViews_.text.inputElement),e}};s(gh,"ColorPickerView");var ip=gh;function e1(r){return r==="int"?"int":r==="float"?"float":void 0}s(e1,"parseColorType");function Xp(r){return Ue(r,e=>({color:e.optional.object({alpha:e.optional.boolean,type:e.optional.custom(e1)}),expanded:e.optional.boolean,picker:e.optional.custom(lw),readonly:e.optional.constant(!1)}))}s(Xp,"parseColorInputParams");function ho(r){return r?.1:1}s(ho,"getKeyScaleForColor");function pw(r){var e;return(e=r.color)===null||e===void 0?void 0:e.type}s(pw,"extractColorType");var wh=class wh{constructor(e,t){this.type="float",this.mode=t,this.comps_=uw(e,t,this.type)}getComponents(e){return la(cw(zn(this.comps_),{mode:this.mode,type:this.type},{mode:e!=null?e:this.mode,type:this.type}),this.comps_[3])}toRgbaObject(){let e=this.getComponents("rgb");return{r:e[0],g:e[1],b:e[2],a:e[3]}}};s(wh,"FloatColor");var is=wh,t1={int:s((r,e)=>new Ee(r,e),"int"),float:s((r,e)=>new is(r,e),"float")};function Zp(r,e,t){return t1[t](r,e)}s(Zp,"createColor");function n1(r){return r.type==="float"}s(n1,"isFloatColor");function r1(r){return r.type==="int"}s(r1,"isIntColor");function o1(r){let e=r.getComponents(),t=Qo(r.mode,"int");return new Ee([Math.round(Ce(e[0],0,1,0,t[0])),Math.round(Ce(e[1],0,1,0,t[1])),Math.round(Ce(e[2],0,1,0,t[2])),e[3]],r.mode)}s(o1,"convertFloatToInt");function i1(r){let e=r.getComponents(),t=Qo(r.mode,"int");return new is([Ce(e[0],0,t[0],0,1),Ce(e[1],0,t[1],0,1),Ce(e[2],0,t[2],0,1),e[3]],r.mode)}s(i1,"convertIntToFloat");function kt(r,e){if(r.type===e)return r;if(r1(r)&&e==="float")return i1(r);if(n1(r)&&e==="int")return o1(r);throw pt.shouldNeverHappen()}s(kt,"mapColorType");function s1(r,e){return r.alpha===e.alpha&&r.mode===e.mode&&r.notation===e.notation&&r.type===e.type}s(s1,"equalsStringColorFormat");function an(r,e){let t=r.match(/^(.+)%$/);return Math.min(t?parseFloat(t[1])*.01*e:parseFloat(r),e)}s(an,"parseCssNumberOrPercentage");var l1={deg:s(r=>r,"deg"),grad:s(r=>r*360/400,"grad"),rad:s(r=>r*360/(2*Math.PI),"rad"),turn:s(r=>r*360,"turn")};function dw(r){let e=r.match(/^([0-9.]+?)(deg|grad|rad|turn)$/);if(!e)return parseFloat(r);let t=parseFloat(e[1]),i=e[2];return l1[i](t)}s(dw,"parseCssNumberOrAngle");function hw(r){let e=r.match(/^rgb\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;let t=[an(e[1],255),an(e[2],255),an(e[3],255)];return isNaN(t[0])||isNaN(t[1])||isNaN(t[2])?null:t}s(hw,"parseFunctionalRgbColorComponents");function a1(r){let e=hw(r);return e?new Ee(e,"rgb"):null}s(a1,"parseFunctionalRgbColor");function fw(r){let e=r.match(/^rgba\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;let t=[an(e[1],255),an(e[2],255),an(e[3],255),an(e[4],1)];return isNaN(t[0])||isNaN(t[1])||isNaN(t[2])||isNaN(t[3])?null:t}s(fw,"parseFunctionalRgbaColorComponents");function u1(r){let e=fw(r);return e?new Ee(e,"rgb"):null}s(u1,"parseFunctionalRgbaColor");function mw(r){let e=r.match(/^hsl\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;let t=[dw(e[1]),an(e[2],100),an(e[3],100)];return isNaN(t[0])||isNaN(t[1])||isNaN(t[2])?null:t}s(mw,"parseFunctionalHslColorComponents");function c1(r){let e=mw(r);return e?new Ee(e,"hsl"):null}s(c1,"parseFunctionalHslColor");function vw(r){let e=r.match(/^hsla\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;let t=[dw(e[1]),an(e[2],100),an(e[3],100),an(e[4],1)];return isNaN(t[0])||isNaN(t[1])||isNaN(t[2])||isNaN(t[3])?null:t}s(vw,"parseHslaColorComponents");function p1(r){let e=vw(r);return e?new Ee(e,"hsl"):null}s(p1,"parseFunctionalHslaColor");function gw(r){let e=r.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(e)return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)];let t=r.match(/^(?:#|0x)([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:null}s(gw,"parseHexRgbColorComponents");function d1(r){let e=gw(r);return e?new Ee(e,"rgb"):null}s(d1,"parseHexRgbColor");function ww(r){let e=r.match(/^#?([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(e)return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),Ce(parseInt(e[4]+e[4],16),0,255,0,1)];let t=r.match(/^(?:#|0x)?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),Ce(parseInt(t[4],16),0,255,0,1)]:null}s(ww,"parseHexRgbaColorComponents");function h1(r){let e=ww(r);return e?new Ee(e,"rgb"):null}s(h1,"parseHexRgbaColor");function bw(r){let e=r.match(/^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/);if(!e)return null;let t=[parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3])];return isNaN(t[0])||isNaN(t[1])||isNaN(t[2])?null:t}s(bw,"parseObjectRgbColorComponents");function k0(r){return e=>{let t=bw(e);return t?Zp(t,"rgb",r):null}}s(k0,"createObjectRgbColorParser");function yw(r){let e=r.match(/^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*a\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/);if(!e)return null;let t=[parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]),parseFloat(e[4])];return isNaN(t[0])||isNaN(t[1])||isNaN(t[2])||isNaN(t[3])?null:t}s(yw,"parseObjectRgbaColorComponents");function R0(r){return e=>{let t=yw(e);return t?Zp(t,"rgb",r):null}}s(R0,"createObjectRgbaColorParser");var f1=[{parser:gw,result:{alpha:!1,mode:"rgb",notation:"hex"}},{parser:ww,result:{alpha:!0,mode:"rgb",notation:"hex"}},{parser:hw,result:{alpha:!1,mode:"rgb",notation:"func"}},{parser:fw,result:{alpha:!0,mode:"rgb",notation:"func"}},{parser:mw,result:{alpha:!1,mode:"hsl",notation:"func"}},{parser:vw,result:{alpha:!0,mode:"hsl",notation:"func"}},{parser:bw,result:{alpha:!1,mode:"rgb",notation:"object"}},{parser:yw,result:{alpha:!0,mode:"rgb",notation:"object"}}];function m1(r){return f1.reduce((e,{parser:t,result:i})=>e||(t(r)?i:null),null)}s(m1,"detectStringColor");function v1(r,e="int"){let t=m1(r);return t?t.notation==="hex"&&e!=="float"?Object.assign(Object.assign({},t),{type:"int"}):t.notation==="func"?Object.assign(Object.assign({},t),{type:e}):null:null}s(v1,"detectStringColorFormat");function hs(r){let e=[d1,h1,a1,u1,c1,p1];r==="int"&&e.push(k0("int"),R0("int")),r==="float"&&e.push(k0("float"),R0("float"));let t=Fx(e);return i=>{let u=t(i);return u?kt(u,r):null}}s(hs,"createColorStringParser");function g1(r){let e=hs("int");if(typeof r!="string")return Ee.black();let t=e(r);return t!=null?t:Ee.black()}s(g1,"readIntColorString");function _w(r){let e=it(Math.floor(r),0,255).toString(16);return e.length===1?"0".concat(e):e}s(_w,"zerofill");function Jp(r,e="#"){let t=zn(r.getComponents("rgb")).map(_w).join("");return"".concat(e).concat(t)}s(Jp,"colorToHexRgbString");function $p(r,e="#"){let t=r.getComponents("rgb"),i=[t[0],t[1],t[2],t[3]*255].map(_w).join("");return"".concat(e).concat(i)}s($p,"colorToHexRgbaString");function xw(r){let e=Ft(0),t=kt(r,"int"),i=zn(t.getComponents("rgb")).map(u=>e(u));return"rgb(".concat(i.join(", "),")")}s(xw,"colorToFunctionalRgbString");function Vl(r){let e=Ft(2),t=Ft(0),u=kt(r,"int").getComponents("rgb").map((p,h)=>(h===3?e:t)(p));return"rgba(".concat(u.join(", "),")")}s(Vl,"colorToFunctionalRgbaString");function w1(r){let e=[Ft(0),Jl,Jl],t=kt(r,"int"),i=zn(t.getComponents("hsl")).map((u,p)=>e[p](u));return"hsl(".concat(i.join(", "),")")}s(w1,"colorToFunctionalHslString");function b1(r){let e=[Ft(0),Jl,Jl,Ft(2)],i=kt(r,"int").getComponents("hsl").map((u,p)=>e[p](u));return"hsla(".concat(i.join(", "),")")}s(b1,"colorToFunctionalHslaString");function Pw(r,e){let t=Ft(e==="float"?2:0),i=["r","g","b"],u=kt(r,e),p=zn(u.getComponents("rgb")).map((h,f)=>"".concat(i[f],": ").concat(t(h)));return"{".concat(p.join(", "),"}")}s(Pw,"colorToObjectRgbString");function y1(r){return e=>Pw(e,r)}s(y1,"createObjectRgbColorFormatter");function Ew(r,e){let t=Ft(2),i=Ft(e==="float"?2:0),u=["r","g","b","a"],h=kt(r,e).getComponents("rgb").map((f,w)=>{let b=w===3?t:i;return"".concat(u[w],": ").concat(b(f))});return"{".concat(h.join(", "),"}")}s(Ew,"colorToObjectRgbaString");function _1(r){return e=>Ew(e,r)}s(_1,"createObjectRgbaColorFormatter");var x1=[{format:{alpha:!1,mode:"rgb",notation:"hex",type:"int"},stringifier:Jp},{format:{alpha:!0,mode:"rgb",notation:"hex",type:"int"},stringifier:$p},{format:{alpha:!1,mode:"rgb",notation:"func",type:"int"},stringifier:xw},{format:{alpha:!0,mode:"rgb",notation:"func",type:"int"},stringifier:Vl},{format:{alpha:!1,mode:"hsl",notation:"func",type:"int"},stringifier:w1},{format:{alpha:!0,mode:"hsl",notation:"func",type:"int"},stringifier:b1},...["int","float"].reduce((r,e)=>[...r,{format:{alpha:!1,mode:"rgb",notation:"object",type:e},stringifier:y1(e)},{format:{alpha:!0,mode:"rgb",notation:"object",type:e},stringifier:_1(e)}],[])];function Sw(r){return x1.reduce((e,t)=>e||(s1(t.format,r)?t.stringifier:null),null)}s(Sw,"findColorStringifier");var Yi=ve("apl"),bh=class bh{constructor(e,t){this.onValueChange_=this.onValueChange_.bind(this),this.value=t.value,this.value.emitter.on("change",this.onValueChange_),this.element=e.createElement("div"),this.element.classList.add(Yi()),t.viewProps.bindClassModifiers(this.element),t.viewProps.bindTabIndex(this.element);let i=e.createElement("div");i.classList.add(Yi("b")),this.element.appendChild(i);let u=e.createElement("div");u.classList.add(Yi("c")),i.appendChild(u),this.colorElem_=u;let p=e.createElement("div");p.classList.add(Yi("m")),this.element.appendChild(p),this.markerElem_=p;let h=e.createElement("div");h.classList.add(Yi("p")),this.markerElem_.appendChild(h),this.previewElem_=h,this.update_()}update_(){let e=this.value.rawValue,t=e.getComponents("rgb"),i=new Ee([t[0],t[1],t[2],0],"rgb"),u=new Ee([t[0],t[1],t[2],255],"rgb"),p=["to right",Vl(i),Vl(u)];this.colorElem_.style.background="linear-gradient(".concat(p.join(","),")"),this.previewElem_.style.backgroundColor=Vl(e);let h=Ce(t[3],0,1,0,100);this.markerElem_.style.left="".concat(h,"%")}onValueChange_(){this.update_()}};s(bh,"APaletteView");var sp=bh,yh=class yh{constructor(e,t){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=t.value,this.viewProps=t.viewProps,this.view=new sp(e,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new nr(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,t){if(!e.point)return;let i=e.point.x/e.bounds.width,u=this.value.rawValue,[p,h,f]=u.getComponents("hsv");this.value.setRawValue(new Ee([p,h,f,i],"hsv"),t)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){let t=Vt(ho(!0),tr(e));if(t===0)return;let i=this.value.rawValue,[u,p,h,f]=i.getComponents("hsv");this.value.setRawValue(new Ee([u,p,h,f+t],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(e){Vt(ho(!0),tr(e))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}};s(yh,"APaletteController");var lp=yh,Go=ve("coltxt");function P1(r){let e=r.createElement("select"),t=[{text:"RGB",value:"rgb"},{text:"HSL",value:"hsl"},{text:"HSV",value:"hsv"},{text:"HEX",value:"hex"}];return e.appendChild(t.reduce((i,u)=>{let p=r.createElement("option");return p.textContent=u.text,p.value=u.value,i.appendChild(p),i},r.createDocumentFragment())),e}s(P1,"createModeSelectElement");var _h=class _h{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(Go()),t.viewProps.bindClassModifiers(this.element);let i=e.createElement("div");i.classList.add(Go("m")),this.modeElem_=P1(e),this.modeElem_.classList.add(Go("ms")),i.appendChild(this.modeSelectElement),t.viewProps.bindDisabled(this.modeElem_);let u=e.createElement("div");u.classList.add(Go("mm")),u.appendChild(sa(e,"dropdown")),i.appendChild(u),this.element.appendChild(i);let p=e.createElement("div");p.classList.add(Go("w")),this.element.appendChild(p),this.inputsElem_=p,this.inputViews_=t.inputViews,this.applyInputViews_(),Xn(t.mode,h=>{this.modeElem_.value=h})}get modeSelectElement(){return this.modeElem_}get inputViews(){return this.inputViews_}set inputViews(e){this.inputViews_=e,this.applyInputViews_()}applyInputViews_(){Z0(this.inputsElem_);let e=this.element.ownerDocument;this.inputViews_.forEach(t=>{let i=e.createElement("div");i.classList.add(Go("c")),i.appendChild(t.element),this.inputsElem_.appendChild(i)})}};s(_h,"ColorTextsView");var ap=_h;function E1(r){return Ft(r==="float"?2:0)}s(E1,"createFormatter$2");function S1(r,e,t){let i=Qo(r,e)[t];return new io({min:0,max:i})}s(S1,"createConstraint$5");function C1(r,e,t){return new po(r,{arrayPosition:t===0?"fst":t===2?"lst":"mid",parser:e.parser,props:ce.fromObject({formatter:E1(e.colorType),keyScale:ho(!1),pointerScale:e.colorType==="float"?.01:1}),value:Ve(0,{constraint:S1(e.colorMode,e.colorType,t)}),viewProps:e.viewProps})}s(C1,"createComponentController");function k1(r,e){let t={colorMode:e.colorMode,colorType:e.colorType,parser:Zn,viewProps:e.viewProps};return[0,1,2].map(i=>{let u=C1(r,t,i);return ei({primary:e.value,secondary:u.value,forward(p){return kt(p,e.colorType).getComponents(e.colorMode)[i]},backward(p,h){let f=e.colorMode,b=kt(p,e.colorType).getComponents(f);b[i]=h;let m=Zp(la(zn(b),b[3]),f,e.colorType);return kt(m,"int")}}),u})}s(k1,"createComponentControllers");function R1(r,e){let t=new co(r,{parser:hs("int"),props:ce.fromObject({formatter:Jp}),value:Ve(Ee.black()),viewProps:e.viewProps});return ei({primary:e.value,secondary:t.value,forward:s(i=>new Ee(zn(i.getComponents()),i.mode),"forward"),backward:s((i,u)=>new Ee(la(zn(u.getComponents(i.mode)),i.getComponents()[3]),i.mode),"backward")}),[t]}s(R1,"createHexController");function M1(r){return r!=="hex"}s(M1,"isColorMode");var xh=class xh{constructor(e,t){this.onModeSelectChange_=this.onModeSelectChange_.bind(this),this.colorType_=t.colorType,this.value=t.value,this.viewProps=t.viewProps,this.colorMode=Ve(this.value.rawValue.mode),this.ccs_=this.createComponentControllers_(e),this.view=new ap(e,{mode:this.colorMode,inputViews:[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view],viewProps:this.viewProps}),this.view.modeSelectElement.addEventListener("change",this.onModeSelectChange_)}createComponentControllers_(e){let t=this.colorMode.rawValue;return M1(t)?k1(e,{colorMode:t,colorType:this.colorType_,value:this.value,viewProps:this.viewProps}):R1(e,{value:this.value,viewProps:this.viewProps})}onModeSelectChange_(e){let t=e.currentTarget;this.colorMode.rawValue=t.value,this.ccs_=this.createComponentControllers_(this.view.element.ownerDocument),this.view.inputViews=this.ccs_.map(i=>i.view)}};s(xh,"ColorTextsController");var up=xh,pc=ve("hpl"),Ph=class Ph{constructor(e,t){this.onValueChange_=this.onValueChange_.bind(this),this.value=t.value,this.value.emitter.on("change",this.onValueChange_),this.element=e.createElement("div"),this.element.classList.add(pc()),t.viewProps.bindClassModifiers(this.element),t.viewProps.bindTabIndex(this.element);let i=e.createElement("div");i.classList.add(pc("c")),this.element.appendChild(i);let u=e.createElement("div");u.classList.add(pc("m")),this.element.appendChild(u),this.markerElem_=u,this.update_()}update_(){let e=this.value.rawValue,[t]=e.getComponents("hsv");this.markerElem_.style.backgroundColor=xw(new Ee([t,100,100],"hsv"));let i=Ce(t,0,360,0,100);this.markerElem_.style.left="".concat(i,"%")}onValueChange_(){this.update_()}};s(Ph,"HPaletteView");var cp=Ph,Eh=class Eh{constructor(e,t){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=t.value,this.viewProps=t.viewProps,this.view=new cp(e,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new nr(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,t){if(!e.point)return;let i=Ce(it(e.point.x,0,e.bounds.width),0,e.bounds.width,0,360),u=this.value.rawValue,[,p,h,f]=u.getComponents("hsv");this.value.setRawValue(new Ee([i,p,h,f],"hsv"),t)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){let t=Vt(ho(!1),tr(e));if(t===0)return;let i=this.value.rawValue,[u,p,h,f]=i.getComponents("hsv");this.value.setRawValue(new Ee([u+t,p,h,f],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(e){Vt(ho(!1),tr(e))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}};s(Eh,"HPaletteController");var pp=Eh,dc=ve("svp"),M0=64,Sh=class Sh{constructor(e,t){this.onValueChange_=this.onValueChange_.bind(this),this.value=t.value,this.value.emitter.on("change",this.onValueChange_),this.element=e.createElement("div"),this.element.classList.add(dc()),t.viewProps.bindClassModifiers(this.element),t.viewProps.bindTabIndex(this.element);let i=e.createElement("canvas");i.height=M0,i.width=M0,i.classList.add(dc("c")),this.element.appendChild(i),this.canvasElement=i;let u=e.createElement("div");u.classList.add(dc("m")),this.element.appendChild(u),this.markerElem_=u,this.update_()}update_(){let e=hx(this.canvasElement);if(!e)return;let i=this.value.rawValue.getComponents("hsv"),u=this.canvasElement.width,p=this.canvasElement.height,h=e.getImageData(0,0,u,p),f=h.data;for(let m=0;m<p;m++)for(let v=0;v<u;v++){let _=Ce(v,0,u,0,100),k=Ce(m,0,p,100,0),L=aw(i[0],_,k),A=(m*u+v)*4;f[A]=L[0],f[A+1]=L[1],f[A+2]=L[2],f[A+3]=255}e.putImageData(h,0,0);let w=Ce(i[1],0,100,0,100);this.markerElem_.style.left="".concat(w,"%");let b=Ce(i[2],0,100,100,0);this.markerElem_.style.top="".concat(b,"%")}onValueChange_(){this.update_()}};s(Sh,"SvPaletteView");var dp=Sh,Ch=class Ch{constructor(e,t){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=t.value,this.viewProps=t.viewProps,this.view=new dp(e,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new nr(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,t){if(!e.point)return;let i=Ce(e.point.x,0,e.bounds.width,0,100),u=Ce(e.point.y,0,e.bounds.height,100,0),[p,,,h]=this.value.rawValue.getComponents("hsv");this.value.setRawValue(new Ee([p,i,u,h],"hsv"),t)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){ow(e.key)&&e.preventDefault();let[t,i,u,p]=this.value.rawValue.getComponents("hsv"),h=ho(!1),f=Vt(h,tr(e)),w=Vt(h,rs(e));f===0&&w===0||this.value.setRawValue(new Ee([t,i+f,u+w,p],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(e){let t=ho(!1),i=Vt(t,tr(e)),u=Vt(t,rs(e));i===0&&u===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}};s(Ch,"SvPaletteController");var hp=Ch,kh=class kh{constructor(e,t){this.value=t.value,this.viewProps=t.viewProps,this.hPaletteC_=new pp(e,{value:this.value,viewProps:this.viewProps}),this.svPaletteC_=new hp(e,{value:this.value,viewProps:this.viewProps}),this.alphaIcs_=t.supportsAlpha?{palette:new lp(e,{value:this.value,viewProps:this.viewProps}),text:new po(e,{parser:Zn,props:ce.fromObject({pointerScale:.01,keyScale:.1,formatter:Ft(2)}),value:Ve(0,{constraint:new io({min:0,max:1})}),viewProps:this.viewProps})}:null,this.alphaIcs_&&ei({primary:this.value,secondary:this.alphaIcs_.text.value,forward:s(i=>i.getComponents()[3],"forward"),backward:s((i,u)=>{let p=i.getComponents();return p[3]=u,new Ee(p,i.mode)},"backward")}),this.textsC_=new up(e,{colorType:t.colorType,value:this.value,viewProps:this.viewProps}),this.view=new ip(e,{alphaViews:this.alphaIcs_?{palette:this.alphaIcs_.palette.view,text:this.alphaIcs_.text.view}:null,hPaletteView:this.hPaletteC_.view,supportsAlpha:t.supportsAlpha,svPaletteView:this.svPaletteC_.view,textsView:this.textsC_.view,viewProps:this.viewProps})}get textsController(){return this.textsC_}};s(kh,"ColorPickerController");var fp=kh,hc=ve("colsw"),Rh=class Rh{constructor(e,t){this.onValueChange_=this.onValueChange_.bind(this),t.value.emitter.on("change",this.onValueChange_),this.value=t.value,this.element=e.createElement("div"),this.element.classList.add(hc()),t.viewProps.bindClassModifiers(this.element);let i=e.createElement("div");i.classList.add(hc("sw")),this.element.appendChild(i),this.swatchElem_=i;let u=e.createElement("button");u.classList.add(hc("b")),t.viewProps.bindDisabled(u),this.element.appendChild(u),this.buttonElement=u,this.update_()}update_(){let e=this.value.rawValue;this.swatchElem_.style.backgroundColor=$p(e)}onValueChange_(){this.update_()}};s(Rh,"ColorSwatchView");var mp=Rh,Mh=class Mh{constructor(e,t){this.value=t.value,this.viewProps=t.viewProps,this.view=new mp(e,{value:this.value,viewProps:this.viewProps})}};s(Mh,"ColorSwatchController");var vp=Mh,Th=class Th{constructor(e,t){this.onButtonBlur_=this.onButtonBlur_.bind(this),this.onButtonClick_=this.onButtonClick_.bind(this),this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.value=t.value,this.viewProps=t.viewProps,this.foldable_=$i.create(t.expanded),this.swatchC_=new vp(e,{value:this.value,viewProps:this.viewProps});let i=this.swatchC_.view.buttonElement;i.addEventListener("blur",this.onButtonBlur_),i.addEventListener("click",this.onButtonClick_),this.textC_=new co(e,{parser:t.parser,props:ce.fromObject({formatter:t.formatter}),value:this.value,viewProps:this.viewProps}),this.view=new op(e,{foldable:this.foldable_,pickerLayout:t.pickerLayout}),this.view.swatchElement.appendChild(this.swatchC_.view.element),this.view.textElement.appendChild(this.textC_.view.element),this.popC_=t.pickerLayout==="popup"?new Zl(e,{viewProps:this.viewProps}):null;let u=new fp(e,{colorType:t.colorType,supportsAlpha:t.supportsAlpha,value:this.value,viewProps:this.viewProps});u.view.allFocusableElements.forEach(p=>{p.addEventListener("blur",this.onPopupChildBlur_),p.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=u,this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(u.view.element),ei({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:s(p=>p,"forward"),backward:s((p,h)=>h,"backward")})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),Yp(this.foldable_,this.view.pickerElement))}get textController(){return this.textC_}onButtonBlur_(e){if(!this.popC_)return;let t=this.view.element,i=e.relatedTarget;(!i||!t.contains(i))&&(this.popC_.shows.rawValue=!1)}onButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(e){if(!this.popC_)return;let t=this.popC_.view.element,i=J0(e);i&&t.contains(i)||i&&i===this.swatchC_.view.buttonElement&&!Gp(t.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(e){this.popC_?e.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&e.key==="Escape"&&this.swatchC_.view.buttonElement.focus()}};s(Th,"ColorController");var ss=Th;function T1(r){return zn(r.getComponents("rgb")).reduce((e,t)=>e<<8|Math.floor(t)&255,0)}s(T1,"colorToRgbNumber");function L1(r){return r.getComponents("rgb").reduce((e,t,i)=>{let u=Math.floor(i===3?t*255:t)&255;return e<<8|u},0)>>>0}s(L1,"colorToRgbaNumber");function O1(r){return new Ee([r>>16&255,r>>8&255,r&255],"rgb")}s(O1,"numberToRgbColor");function A1(r){return new Ee([r>>24&255,r>>16&255,r>>8&255,Ce(r&255,0,255,0,1)],"rgb")}s(A1,"numberToRgbaColor");function D1(r){return typeof r!="number"?Ee.black():O1(r)}s(D1,"colorFromRgbNumber");function z1(r){return typeof r!="number"?Ee.black():A1(r)}s(z1,"colorFromRgbaNumber");function Fl(r,e){return typeof r!="object"||Oe(r)?!1:e in r&&typeof r[e]=="number"}s(Fl,"isRgbColorComponent");function Cw(r){return Fl(r,"r")&&Fl(r,"g")&&Fl(r,"b")}s(Cw,"isRgbColorObject");function kw(r){return Cw(r)&&Fl(r,"a")}s(kw,"isRgbaColorObject");function Rw(r){return Cw(r)}s(Rw,"isColorObject");function ed(r,e){if(r.mode!==e.mode||r.type!==e.type)return!1;let t=r.getComponents(),i=e.getComponents();for(let u=0;u<t.length;u++)if(t[u]!==i[u])return!1;return!0}s(ed,"equalsColor");function T0(r){return"a"in r?[r.r,r.g,r.b,r.a]:[r.r,r.g,r.b]}s(T0,"createColorComponentsFromRgbObject");function j1(r){let e=Sw(r);return e?(t,i)=>{ds(t,e(i))}:null}s(j1,"createColorStringWriter");function I1(r){let e=r?L1:T1;return(t,i)=>{ds(t,e(i))}}s(I1,"createColorNumberWriter");function N1(r,e,t){let u=kt(e,t).toRgbaObject();r.writeProperty("r",u.r),r.writeProperty("g",u.g),r.writeProperty("b",u.b),r.writeProperty("a",u.a)}s(N1,"writeRgbaColorObject");function V1(r,e,t){let u=kt(e,t).toRgbaObject();r.writeProperty("r",u.r),r.writeProperty("g",u.g),r.writeProperty("b",u.b)}s(V1,"writeRgbColorObject");function F1(r,e){return(t,i)=>{r?N1(t,i,e):V1(t,i,e)}}s(F1,"createColorObjectWriter");function H1(r){var e;return!!(!((e=r==null?void 0:r.color)===null||e===void 0)&&e.alpha)}s(H1,"shouldSupportAlpha$1");function B1(r){return r?e=>$p(e,"0x"):e=>Jp(e,"0x")}s(B1,"createFormatter$1");function U1(r){return"color"in r||r.view==="color"}s(U1,"isForColor");var G1=Rt({id:"input-color-number",type:"input",accept:s((r,e)=>{if(typeof r!="number"||!U1(e))return null;let t=Xp(e);return t?{initialValue:r,params:Object.assign(Object.assign({},t),{supportsAlpha:H1(e)})}:null},"accept"),binding:{reader:s(r=>r.params.supportsAlpha?z1:D1,"reader"),equals:ed,writer:s(r=>I1(r.params.supportsAlpha),"writer")},controller:s(r=>{var e,t;return new ss(r.document,{colorType:"int",expanded:(e=r.params.expanded)!==null&&e!==void 0?e:!1,formatter:B1(r.params.supportsAlpha),parser:hs("int"),pickerLayout:(t=r.params.picker)!==null&&t!==void 0?t:"popup",supportsAlpha:r.params.supportsAlpha,value:r.value,viewProps:r.viewProps})},"controller")});function K1(r,e){if(!Rw(r))return kt(Ee.black(),e);if(e==="int"){let t=T0(r);return new Ee(t,"rgb")}if(e==="float"){let t=T0(r);return new is(t,"rgb")}return kt(Ee.black(),"int")}s(K1,"colorFromObject");function W1(r){return kw(r)}s(W1,"shouldSupportAlpha");function Y1(r){return e=>{let t=K1(e,r);return kt(t,"int")}}s(Y1,"createColorObjectBindingReader");function q1(r,e){return t=>r?Ew(t,e):Pw(t,e)}s(q1,"createColorObjectFormatter");var Q1=Rt({id:"input-color-object",type:"input",accept:s((r,e)=>{var t;if(!Rw(r))return null;let i=Xp(e);return i?{initialValue:r,params:Object.assign(Object.assign({},i),{colorType:(t=pw(e))!==null&&t!==void 0?t:"int"})}:null},"accept"),binding:{reader:s(r=>Y1(r.params.colorType),"reader"),equals:ed,writer:s(r=>F1(W1(r.initialValue),r.params.colorType),"writer")},controller:s(r=>{var e,t;let i=kw(r.initialValue);return new ss(r.document,{colorType:r.params.colorType,expanded:(e=r.params.expanded)!==null&&e!==void 0?e:!1,formatter:q1(i,r.params.colorType),parser:hs("int"),pickerLayout:(t=r.params.picker)!==null&&t!==void 0?t:"popup",supportsAlpha:i,value:r.value,viewProps:r.viewProps})},"controller")}),X1=Rt({id:"input-color-string",type:"input",accept:s((r,e)=>{if(typeof r!="string"||e.view==="text")return null;let t=v1(r,pw(e));if(!t)return null;let i=Sw(t);if(!i)return null;let u=Xp(e);return u?{initialValue:r,params:Object.assign(Object.assign({},u),{format:t,stringifier:i})}:null},"accept"),binding:{reader:s(()=>g1,"reader"),equals:ed,writer:s(r=>{let e=j1(r.params.format);if(!e)throw pt.notBindable();return e},"writer")},controller:s(r=>{var e,t;return new ss(r.document,{colorType:r.params.format.type,expanded:(e=r.params.expanded)!==null&&e!==void 0?e:!1,formatter:r.params.stringifier,parser:hs("int"),pickerLayout:(t=r.params.picker)!==null&&t!==void 0?t:"popup",supportsAlpha:r.params.format.alpha,value:r.value,viewProps:r.viewProps})},"controller")}),Lh=class Lh{constructor(e){this.components=e.components,this.asm_=e.assembly}constrain(e){let t=this.asm_.toComponents(e).map((i,u)=>{var p,h;return(h=(p=this.components[u])===null||p===void 0?void 0:p.constrain(i))!==null&&h!==void 0?h:i});return this.asm_.fromComponents(t)}};s(Lh,"PointNdConstraint");var ls=Lh,L0=ve("pndtxt"),Oh=class Oh{constructor(e,t){this.textViews=t.textViews,this.element=e.createElement("div"),this.element.classList.add(L0()),this.textViews.forEach(i=>{let u=e.createElement("div");u.classList.add(L0("a")),u.appendChild(i.element),this.element.appendChild(u)})}};s(Oh,"PointNdTextView");var gp=Oh;function Z1(r,e,t){return new po(r,{arrayPosition:t===0?"fst":t===e.axes.length-1?"lst":"mid",parser:e.parser,props:e.axes[t].textProps,value:Ve(0,{constraint:e.axes[t].constraint}),viewProps:e.viewProps})}s(Z1,"createAxisController");var Ah=class Ah{constructor(e,t){this.value=t.value,this.viewProps=t.viewProps,this.acs_=t.axes.map((i,u)=>Z1(e,t,u)),this.acs_.forEach((i,u)=>{ei({primary:this.value,secondary:i.value,forward:s(p=>t.assembly.toComponents(p)[u],"forward"),backward:s((p,h)=>{let f=t.assembly.toComponents(p);return f[u]=h,t.assembly.fromComponents(f)},"backward")})}),this.view=new gp(e,{textViews:this.acs_.map(i=>i.view)})}get textControllers(){return this.acs_}};s(Ah,"PointNdTextController");var as=Ah,Dh=class Dh extends lo{get max(){return this.controller.valueController.sliderController.props.get("max")}set max(e){this.controller.valueController.sliderController.props.set("max",e)}get min(){return this.controller.valueController.sliderController.props.get("min")}set min(e){this.controller.valueController.sliderController.props.set("min",e)}};s(Dh,"SliderInputBindingApi");var wp=Dh;function J1(r,e){let t=[],i=K0(r,e);i&&t.push(i);let u=W0(r);u&&t.push(u);let p=Qp(r.options);return p&&t.push(p),new ao(t)}s(J1,"createConstraint$4");var $1=Rt({id:"input-number",type:"input",accept:s((r,e)=>{if(typeof r!="number")return null;let t=Ue(e,i=>Object.assign(Object.assign({},q0(i)),{options:i.optional.custom(ps),readonly:i.optional.constant(!1)}));return t?{initialValue:r,params:t}:null},"accept"),binding:{reader:s(r=>H0,"reader"),constraint:s(r=>J1(r.params,r.initialValue),"constraint"),writer:s(r=>ds,"writer")},controller:s(r=>{let e=r.value,t=r.constraint,i=t&&Xl(t,uo);if(i)return new Dn(r.document,{props:new ce({options:i.values.value("options")}),value:e,viewProps:r.viewProps});let u=Y0(r.params,e.rawValue),p=t&&Xl(t,io);return p?new qo(r.document,Object.assign(Object.assign({},iw(Object.assign(Object.assign({},u),{keyScale:Ve(u.keyScale),max:p.values.value("max"),min:p.values.value("min")}))),{parser:Zn,value:e,viewProps:r.viewProps})):new po(r.document,{parser:Zn,props:ce.fromObject(u),value:e,viewProps:r.viewProps})},"controller"),api(r){return typeof r.controller.value.rawValue!="number"?null:r.controller.valueController instanceof qo?new wp(r.controller):r.controller.valueController instanceof Dn?new ns(r.controller):null}}),zh=class zh{constructor(e=0,t=0){this.x=e,this.y=t}getComponents(){return[this.x,this.y]}static isObject(e){if(Oe(e))return!1;let t=e.x,i=e.y;return!(typeof t!="number"||typeof i!="number")}static equals(e,t){return e.x===t.x&&e.y===t.y}toObject(){return{x:this.x,y:this.y}}};s(zh,"Point2d");var On=zh,Mw={toComponents:s(r=>r.getComponents(),"toComponents"),fromComponents:s(r=>new On(...r),"fromComponents")},Ko=ve("p2d"),jh=class jh{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(Ko()),t.viewProps.bindClassModifiers(this.element),Xn(t.expanded,Zo(this.element,Ko(void 0,"expanded")));let i=e.createElement("div");i.classList.add(Ko("h")),this.element.appendChild(i);let u=e.createElement("button");u.classList.add(Ko("b")),u.appendChild(sa(e,"p2dpad")),t.viewProps.bindDisabled(u),i.appendChild(u),this.buttonElement=u;let p=e.createElement("div");if(p.classList.add(Ko("t")),i.appendChild(p),this.textElement=p,t.pickerLayout==="inline"){let h=e.createElement("div");h.classList.add(Ko("p")),this.element.appendChild(h),this.pickerElement=h}else this.pickerElement=null}};s(jh,"Point2dView");var bp=jh,Sr=ve("p2dp"),Ih=class Ih{constructor(e,t){this.onFoldableChange_=this.onFoldableChange_.bind(this),this.onPropsChange_=this.onPropsChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.props_=t.props,this.props_.emitter.on("change",this.onPropsChange_),this.element=e.createElement("div"),this.element.classList.add(Sr()),t.layout==="popup"&&this.element.classList.add(Sr(void 0,"p")),t.viewProps.bindClassModifiers(this.element);let i=e.createElement("div");i.classList.add(Sr("p")),t.viewProps.bindTabIndex(i),this.element.appendChild(i),this.padElement=i;let u=e.createElementNS(Ln,"svg");u.classList.add(Sr("g")),this.padElement.appendChild(u),this.svgElem_=u;let p=e.createElementNS(Ln,"line");p.classList.add(Sr("ax")),p.setAttributeNS(null,"x1","0"),p.setAttributeNS(null,"y1","50%"),p.setAttributeNS(null,"x2","100%"),p.setAttributeNS(null,"y2","50%"),this.svgElem_.appendChild(p);let h=e.createElementNS(Ln,"line");h.classList.add(Sr("ax")),h.setAttributeNS(null,"x1","50%"),h.setAttributeNS(null,"y1","0"),h.setAttributeNS(null,"x2","50%"),h.setAttributeNS(null,"y2","100%"),this.svgElem_.appendChild(h);let f=e.createElementNS(Ln,"line");f.classList.add(Sr("l")),f.setAttributeNS(null,"x1","50%"),f.setAttributeNS(null,"y1","50%"),this.svgElem_.appendChild(f),this.lineElem_=f;let w=e.createElement("div");w.classList.add(Sr("m")),this.padElement.appendChild(w),this.markerElem_=w,t.value.emitter.on("change",this.onValueChange_),this.value=t.value,this.update_()}get allFocusableElements(){return[this.padElement]}update_(){let[e,t]=this.value.rawValue.getComponents(),i=this.props_.get("max"),u=Ce(e,-i,+i,0,100),p=Ce(t,-i,+i,0,100),h=this.props_.get("invertsY")?100-p:p;this.lineElem_.setAttributeNS(null,"x2","".concat(u,"%")),this.lineElem_.setAttributeNS(null,"y2","".concat(h,"%")),this.markerElem_.style.left="".concat(u,"%"),this.markerElem_.style.top="".concat(h,"%")}onValueChange_(){this.update_()}onPropsChange_(){this.update_()}onFoldableChange_(){this.update_()}};s(Ih,"Point2dPickerView");var yp=Ih;function O0(r,e,t){return[Vt(e[0],tr(r)),Vt(e[1],rs(r))*(t?1:-1)]}s(O0,"computeOffset");var Nh=class Nh{constructor(e,t){this.onPadKeyDown_=this.onPadKeyDown_.bind(this),this.onPadKeyUp_=this.onPadKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.props=t.props,this.value=t.value,this.viewProps=t.viewProps,this.view=new yp(e,{layout:t.layout,props:this.props,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new nr(this.view.padElement),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.padElement.addEventListener("keydown",this.onPadKeyDown_),this.view.padElement.addEventListener("keyup",this.onPadKeyUp_)}handlePointerEvent_(e,t){if(!e.point)return;let i=this.props.get("max"),u=Ce(e.point.x,0,e.bounds.width,-i,+i),p=Ce(this.props.get("invertsY")?e.bounds.height-e.point.y:e.point.y,0,e.bounds.height,-i,+i);this.value.setRawValue(new On(u,p),t)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onPadKeyDown_(e){ow(e.key)&&e.preventDefault();let[t,i]=O0(e,[this.props.get("xKeyScale"),this.props.get("yKeyScale")],this.props.get("invertsY"));t===0&&i===0||this.value.setRawValue(new On(this.value.rawValue.x+t,this.value.rawValue.y+i),{forceEmit:!1,last:!1})}onPadKeyUp_(e){let[t,i]=O0(e,[this.props.get("xKeyScale"),this.props.get("yKeyScale")],this.props.get("invertsY"));t===0&&i===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}};s(Nh,"Point2dPickerController");var _p=Nh,Vh=class Vh{constructor(e,t){var i,u;this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.onPadButtonBlur_=this.onPadButtonBlur_.bind(this),this.onPadButtonClick_=this.onPadButtonClick_.bind(this),this.value=t.value,this.viewProps=t.viewProps,this.foldable_=$i.create(t.expanded),this.popC_=t.pickerLayout==="popup"?new Zl(e,{viewProps:this.viewProps}):null;let p=new _p(e,{layout:t.pickerLayout,props:new ce({invertsY:Ve(t.invertsY),max:Ve(t.max),xKeyScale:t.axes[0].textProps.value("keyScale"),yKeyScale:t.axes[1].textProps.value("keyScale")}),value:this.value,viewProps:this.viewProps});p.view.allFocusableElements.forEach(h=>{h.addEventListener("blur",this.onPopupChildBlur_),h.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=p,this.textC_=new as(e,{assembly:Mw,axes:t.axes,parser:t.parser,value:this.value,viewProps:this.viewProps}),this.view=new bp(e,{expanded:this.foldable_.value("expanded"),pickerLayout:t.pickerLayout,viewProps:this.viewProps}),this.view.textElement.appendChild(this.textC_.view.element),(i=this.view.buttonElement)===null||i===void 0||i.addEventListener("blur",this.onPadButtonBlur_),(u=this.view.buttonElement)===null||u===void 0||u.addEventListener("click",this.onPadButtonClick_),this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(this.pickerC_.view.element),ei({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:s(h=>h,"forward"),backward:s((h,f)=>f,"backward")})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),Yp(this.foldable_,this.view.pickerElement))}get textController(){return this.textC_}onPadButtonBlur_(e){if(!this.popC_)return;let t=this.view.element,i=e.relatedTarget;(!i||!t.contains(i))&&(this.popC_.shows.rawValue=!1)}onPadButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(e){if(!this.popC_)return;let t=this.popC_.view.element,i=J0(e);i&&t.contains(i)||i&&i===this.view.buttonElement&&!Gp(t.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(e){this.popC_?e.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&e.key==="Escape"&&this.view.buttonElement.focus()}};s(Vh,"Point2dController");var xp=Vh;function eP(r){return On.isObject(r)?new On(r.x,r.y):new On}s(eP,"point2dFromUnknown");function tP(r,e){r.writeProperty("x",e.x),r.writeProperty("y",e.y)}s(tP,"writePoint2d");function nP(r,e){return new ls({assembly:Mw,components:[Qn(Object.assign(Object.assign({},r),r.x),e.x),Qn(Object.assign(Object.assign({},r),r.y),e.y)]})}s(nP,"createConstraint$3");function A0(r,e){var t,i;if(!Oe(r.min)||!Oe(r.max))return Math.max(Math.abs((t=r.min)!==null&&t!==void 0?t:0),Math.abs((i=r.max)!==null&&i!==void 0?i:0));let u=U0(r);return Math.max(Math.abs(u)*10,Math.abs(e)*10)}s(A0,"getSuitableMaxDimensionValue");function rP(r,e){var t,i;let u=A0(oo(r,(t=r.x)!==null&&t!==void 0?t:{}),e.x),p=A0(oo(r,(i=r.y)!==null&&i!==void 0?i:{}),e.y);return Math.max(u,p)}s(rP,"getSuitableMax");function oP(r){if(!("y"in r))return!1;let e=r.y;return e&&"inverted"in e?!!e.inverted:!1}s(oP,"shouldInvertY");var iP=Rt({id:"input-point2d",type:"input",accept:s((r,e)=>{if(!On.isObject(r))return null;let t=Ue(e,i=>Object.assign(Object.assign({},os(i)),{expanded:i.optional.boolean,picker:i.optional.custom(lw),readonly:i.optional.constant(!1),x:i.optional.custom(Rr),y:i.optional.object(Object.assign(Object.assign({},os(i)),{inverted:i.optional.boolean}))}));return t?{initialValue:r,params:t}:null},"accept"),binding:{reader:s(()=>eP,"reader"),constraint:s(r=>nP(r.params,r.initialValue),"constraint"),equals:On.equals,writer:s(()=>tP,"writer")},controller:s(r=>{var e,t;let i=r.document,u=r.value,p=r.constraint,h=[r.params.x,r.params.y];return new xp(i,{axes:u.rawValue.getComponents().map((f,w)=>{var b;return Up({constraint:p.components[w],initialValue:f,params:oo(r.params,(b=h[w])!==null&&b!==void 0?b:{})})}),expanded:(e=r.params.expanded)!==null&&e!==void 0?e:!1,invertsY:oP(r.params),max:rP(r.params,u.rawValue),parser:Zn,pickerLayout:(t=r.params.picker)!==null&&t!==void 0?t:"popup",value:u,viewProps:r.viewProps})},"controller")}),Fh=class Fh{constructor(e=0,t=0,i=0){this.x=e,this.y=t,this.z=i}getComponents(){return[this.x,this.y,this.z]}static isObject(e){if(Oe(e))return!1;let t=e.x,i=e.y,u=e.z;return!(typeof t!="number"||typeof i!="number"||typeof u!="number")}static equals(e,t){return e.x===t.x&&e.y===t.y&&e.z===t.z}toObject(){return{x:this.x,y:this.y,z:this.z}}};s(Fh,"Point3d");var Mr=Fh,Tw={toComponents:s(r=>r.getComponents(),"toComponents"),fromComponents:s(r=>new Mr(...r),"fromComponents")};function sP(r){return Mr.isObject(r)?new Mr(r.x,r.y,r.z):new Mr}s(sP,"point3dFromUnknown");function lP(r,e){r.writeProperty("x",e.x),r.writeProperty("y",e.y),r.writeProperty("z",e.z)}s(lP,"writePoint3d");function aP(r,e){return new ls({assembly:Tw,components:[Qn(Object.assign(Object.assign({},r),r.x),e.x),Qn(Object.assign(Object.assign({},r),r.y),e.y),Qn(Object.assign(Object.assign({},r),r.z),e.z)]})}s(aP,"createConstraint$2");var uP=Rt({id:"input-point3d",type:"input",accept:s((r,e)=>{if(!Mr.isObject(r))return null;let t=Ue(e,i=>Object.assign(Object.assign({},os(i)),{readonly:i.optional.constant(!1),x:i.optional.custom(Rr),y:i.optional.custom(Rr),z:i.optional.custom(Rr)}));return t?{initialValue:r,params:t}:null},"accept"),binding:{reader:s(r=>sP,"reader"),constraint:s(r=>aP(r.params,r.initialValue),"constraint"),equals:Mr.equals,writer:s(r=>lP,"writer")},controller:s(r=>{let e=r.value,t=r.constraint,i=[r.params.x,r.params.y,r.params.z];return new as(r.document,{assembly:Tw,axes:e.rawValue.getComponents().map((u,p)=>{var h;return Up({constraint:t.components[p],initialValue:u,params:oo(r.params,(h=i[p])!==null&&h!==void 0?h:{})})}),parser:Zn,value:e,viewProps:r.viewProps})},"controller")}),Hh=class Hh{constructor(e=0,t=0,i=0,u=0){this.x=e,this.y=t,this.z=i,this.w=u}getComponents(){return[this.x,this.y,this.z,this.w]}static isObject(e){if(Oe(e))return!1;let t=e.x,i=e.y,u=e.z,p=e.w;return!(typeof t!="number"||typeof i!="number"||typeof u!="number"||typeof p!="number")}static equals(e,t){return e.x===t.x&&e.y===t.y&&e.z===t.z&&e.w===t.w}toObject(){return{x:this.x,y:this.y,z:this.z,w:this.w}}};s(Hh,"Point4d");var Tr=Hh,Lw={toComponents:s(r=>r.getComponents(),"toComponents"),fromComponents:s(r=>new Tr(...r),"fromComponents")};function cP(r){return Tr.isObject(r)?new Tr(r.x,r.y,r.z,r.w):new Tr}s(cP,"point4dFromUnknown");function pP(r,e){r.writeProperty("x",e.x),r.writeProperty("y",e.y),r.writeProperty("z",e.z),r.writeProperty("w",e.w)}s(pP,"writePoint4d");function dP(r,e){return new ls({assembly:Lw,components:[Qn(Object.assign(Object.assign({},r),r.x),e.x),Qn(Object.assign(Object.assign({},r),r.y),e.y),Qn(Object.assign(Object.assign({},r),r.z),e.z),Qn(Object.assign(Object.assign({},r),r.w),e.w)]})}s(dP,"createConstraint$1");var hP=Rt({id:"input-point4d",type:"input",accept:s((r,e)=>{if(!Tr.isObject(r))return null;let t=Ue(e,i=>Object.assign(Object.assign({},os(i)),{readonly:i.optional.constant(!1),w:i.optional.custom(Rr),x:i.optional.custom(Rr),y:i.optional.custom(Rr),z:i.optional.custom(Rr)}));return t?{initialValue:r,params:t}:null},"accept"),binding:{reader:s(r=>cP,"reader"),constraint:s(r=>dP(r.params,r.initialValue),"constraint"),equals:Tr.equals,writer:s(r=>pP,"writer")},controller:s(r=>{let e=r.value,t=r.constraint,i=[r.params.x,r.params.y,r.params.z,r.params.w];return new as(r.document,{assembly:Lw,axes:e.rawValue.getComponents().map((u,p)=>{var h;return Up({constraint:t.components[p],initialValue:u,params:oo(r.params,(h=i[p])!==null&&h!==void 0?h:{})})}),parser:Zn,value:e,viewProps:r.viewProps})},"controller")});function fP(r){let e=[],t=Qp(r.options);return t&&e.push(t),new ao(e)}s(fP,"createConstraint");var mP=Rt({id:"input-string",type:"input",accept:s((r,e)=>{if(typeof r!="string")return null;let t=Ue(e,i=>({readonly:i.optional.constant(!1),options:i.optional.custom(ps)}));return t?{initialValue:r,params:t}:null},"accept"),binding:{reader:s(r=>rw,"reader"),constraint:s(r=>fP(r.params),"constraint"),writer:s(r=>ds,"writer")},controller:s(r=>{let e=r.document,t=r.value,i=r.constraint,u=i&&Xl(i,uo);return u?new Dn(e,{props:new ce({options:u.values.value("options")}),value:t,viewProps:r.viewProps}):new co(e,{parser:s(p=>p,"parser"),props:ce.fromObject({formatter:Zc}),value:t,viewProps:r.viewProps})},"controller"),api(r){return typeof r.controller.value.rawValue!="string"?null:r.controller.valueController instanceof Dn?new ns(r.controller):null}}),fs={monitor:{defaultInterval:200,defaultRows:3}},D0=ve("mll"),Bh=class Bh{constructor(e,t){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=t.formatter,this.element=e.createElement("div"),this.element.classList.add(D0()),t.viewProps.bindClassModifiers(this.element);let i=e.createElement("textarea");i.classList.add(D0("i")),i.style.height="calc(var(".concat(sw("containerUnitSize"),") * ").concat(t.rows,")"),i.readOnly=!0,t.viewProps.bindDisabled(i),this.element.appendChild(i),this.textareaElem_=i,t.value.emitter.on("change",this.onValueUpdate_),this.value=t.value,this.update_()}update_(){let e=this.textareaElem_,t=e.scrollTop===e.scrollHeight-e.clientHeight,i=[];this.value.rawValue.forEach(u=>{u!==void 0&&i.push(this.formatter_(u))}),e.textContent=i.join("\n"),t&&(e.scrollTop=e.scrollHeight)}onValueUpdate_(){this.update_()}};s(Bh,"MultiLogView");var Pp=Bh,Uh=class Uh{constructor(e,t){this.value=t.value,this.viewProps=t.viewProps,this.view=new Pp(e,{formatter:t.formatter,rows:t.rows,value:this.value,viewProps:this.viewProps})}};s(Uh,"MultiLogController");var us=Uh,z0=ve("sgl"),Gh=class Gh{constructor(e,t){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=t.formatter,this.element=e.createElement("div"),this.element.classList.add(z0()),t.viewProps.bindClassModifiers(this.element);let i=e.createElement("input");i.classList.add(z0("i")),i.readOnly=!0,i.type="text",t.viewProps.bindDisabled(i),this.element.appendChild(i),this.inputElement=i,t.value.emitter.on("change",this.onValueUpdate_),this.value=t.value,this.update_()}update_(){let e=this.value.rawValue,t=e[e.length-1];this.inputElement.value=t!==void 0?this.formatter_(t):""}onValueUpdate_(){this.update_()}};s(Gh,"SingleLogView");var Ep=Gh,Kh=class Kh{constructor(e,t){this.value=t.value,this.viewProps=t.viewProps,this.view=new Ep(e,{formatter:t.formatter,value:this.value,viewProps:this.viewProps})}};s(Kh,"SingleLogController");var cs=Kh,vP=Rt({id:"monitor-bool",type:"monitor",accept:s((r,e)=>{if(typeof r!="boolean")return null;let t=Ue(e,i=>({readonly:i.required.constant(!0),rows:i.optional.number}));return t?{initialValue:r,params:t}:null},"accept"),binding:{reader:s(r=>nw,"reader")},controller:s(r=>{var e;return r.value.rawValue.length===1?new cs(r.document,{formatter:S0,value:r.value,viewProps:r.viewProps}):new us(r.document,{formatter:S0,rows:(e=r.params.rows)!==null&&e!==void 0?e:fs.monitor.defaultRows,value:r.value,viewProps:r.viewProps})},"controller")}),Wh=class Wh extends lo{get max(){return this.controller.valueController.props.get("max")}set max(e){this.controller.valueController.props.set("max",e)}get min(){return this.controller.valueController.props.get("min")}set min(e){this.controller.valueController.props.set("min",e)}};s(Wh,"GraphLogMonitorBindingApi");var Sp=Wh,Cr=ve("grl"),Yh=class Yh{constructor(e,t){this.onCursorChange_=this.onCursorChange_.bind(this),this.onValueUpdate_=this.onValueUpdate_.bind(this),this.element=e.createElement("div"),this.element.classList.add(Cr()),t.viewProps.bindClassModifiers(this.element),this.formatter_=t.formatter,this.props_=t.props,this.cursor_=t.cursor,this.cursor_.emitter.on("change",this.onCursorChange_);let i=e.createElementNS(Ln,"svg");i.classList.add(Cr("g")),i.style.height="calc(var(".concat(sw("containerUnitSize"),") * ").concat(t.rows,")"),this.element.appendChild(i),this.svgElem_=i;let u=e.createElementNS(Ln,"polyline");this.svgElem_.appendChild(u),this.lineElem_=u;let p=e.createElement("div");p.classList.add(Cr("t"),ve("tt")()),this.element.appendChild(p),this.tooltipElem_=p,t.value.emitter.on("change",this.onValueUpdate_),this.value=t.value,this.update_()}get graphElement(){return this.svgElem_}update_(){let{clientWidth:e,clientHeight:t}=this.element,i=this.value.rawValue.length-1,u=this.props_.get("min"),p=this.props_.get("max"),h=[];this.value.rawValue.forEach((v,_)=>{if(v===void 0)return;let k=Ce(_,0,i,0,e),L=Ce(v,u,p,t,0);h.push([k,L].join(","))}),this.lineElem_.setAttributeNS(null,"points",h.join(" "));let f=this.tooltipElem_,w=this.value.rawValue[this.cursor_.rawValue];if(w===void 0){f.classList.remove(Cr("t","a"));return}let b=Ce(this.cursor_.rawValue,0,i,0,e),m=Ce(w,u,p,t,0);f.style.left="".concat(b,"px"),f.style.top="".concat(m,"px"),f.textContent="".concat(this.formatter_(w)),f.classList.contains(Cr("t","a"))||(f.classList.add(Cr("t","a"),Cr("t","in")),Bl(f),f.classList.remove(Cr("t","in")))}onValueUpdate_(){this.update_()}onCursorChange_(){this.update_()}};s(Yh,"GraphLogView");var Cp=Yh,qh=class qh{constructor(e,t){if(this.onGraphMouseMove_=this.onGraphMouseMove_.bind(this),this.onGraphMouseLeave_=this.onGraphMouseLeave_.bind(this),this.onGraphPointerDown_=this.onGraphPointerDown_.bind(this),this.onGraphPointerMove_=this.onGraphPointerMove_.bind(this),this.onGraphPointerUp_=this.onGraphPointerUp_.bind(this),this.props=t.props,this.value=t.value,this.viewProps=t.viewProps,this.cursor_=Ve(-1),this.view=new Cp(e,{cursor:this.cursor_,formatter:t.formatter,rows:t.rows,props:this.props,value:this.value,viewProps:this.viewProps}),!Gp(e))this.view.element.addEventListener("mousemove",this.onGraphMouseMove_),this.view.element.addEventListener("mouseleave",this.onGraphMouseLeave_);else{let i=new nr(this.view.element);i.emitter.on("down",this.onGraphPointerDown_),i.emitter.on("move",this.onGraphPointerMove_),i.emitter.on("up",this.onGraphPointerUp_)}}importProps(e){return Wt(e,null,t=>({max:t.required.number,min:t.required.number}),t=>(this.props.set("max",t.max),this.props.set("min",t.min),!0))}exportProps(){return Yt(null,{max:this.props.get("max"),min:this.props.get("min")})}onGraphMouseLeave_(){this.cursor_.rawValue=-1}onGraphMouseMove_(e){let{clientWidth:t}=this.view.element;this.cursor_.rawValue=Math.floor(Ce(e.offsetX,0,t,0,this.value.rawValue.length))}onGraphPointerDown_(e){this.onGraphPointerMove_(e)}onGraphPointerMove_(e){if(!e.data.point){this.cursor_.rawValue=-1;return}this.cursor_.rawValue=Math.floor(Ce(e.data.point.x,0,e.data.bounds.width,0,this.value.rawValue.length))}onGraphPointerUp_(){this.cursor_.rawValue=-1}};s(qh,"GraphLogController");var $l=qh;function kp(r){return Oe(r.format)?Ft(2):r.format}s(kp,"createFormatter");function gP(r){var e;return r.value.rawValue.length===1?new cs(r.document,{formatter:kp(r.params),value:r.value,viewProps:r.viewProps}):new us(r.document,{formatter:kp(r.params),rows:(e=r.params.rows)!==null&&e!==void 0?e:fs.monitor.defaultRows,value:r.value,viewProps:r.viewProps})}s(gP,"createTextMonitor");function wP(r){var e,t,i;return new $l(r.document,{formatter:kp(r.params),rows:(e=r.params.rows)!==null&&e!==void 0?e:fs.monitor.defaultRows,props:ce.fromObject({max:(t=r.params.max)!==null&&t!==void 0?t:100,min:(i=r.params.min)!==null&&i!==void 0?i:0}),value:r.value,viewProps:r.viewProps})}s(wP,"createGraphMonitor");function j0(r){return r.view==="graph"}s(j0,"shouldShowGraph");var bP=Rt({id:"monitor-number",type:"monitor",accept:s((r,e)=>{if(typeof r!="number")return null;let t=Ue(e,i=>({format:i.optional.function,max:i.optional.number,min:i.optional.number,readonly:i.required.constant(!0),rows:i.optional.number,view:i.optional.string}));return t?{initialValue:r,params:t}:null},"accept"),binding:{defaultBufferSize:s(r=>j0(r)?64:1,"defaultBufferSize"),reader:s(r=>H0,"reader")},controller:s(r=>j0(r.params)?wP(r):gP(r),"controller"),api:s(r=>r.controller.valueController instanceof $l?new Sp(r.controller):null,"api")}),yP=Rt({id:"monitor-string",type:"monitor",accept:s((r,e)=>{if(typeof r!="string")return null;let t=Ue(e,i=>({multiline:i.optional.boolean,readonly:i.required.constant(!0),rows:i.optional.number}));return t?{initialValue:r,params:t}:null},"accept"),binding:{reader:s(r=>rw,"reader")},controller:s(r=>{var e;let t=r.value;return t.rawValue.length>1||r.params.multiline?new us(r.document,{formatter:Zc,rows:(e=r.params.rows)!==null&&e!==void 0?e:fs.monitor.defaultRows,value:t,viewProps:r.viewProps}):new cs(r.document,{formatter:Zc,value:t,viewProps:r.viewProps})},"controller")}),Qh=class Qh{constructor(){this.map_=new Map}get(e){var t;return(t=this.map_.get(e))!==null&&t!==void 0?t:null}has(e){return this.map_.has(e)}add(e,t){return this.map_.set(e,t),e.viewProps.handleDispose(()=>{this.map_.delete(e)}),t}};s(Qh,"BladeApiCache");var Rp=Qh,Xh=class Xh{constructor(e){this.target=e.target,this.reader_=e.reader,this.writer_=e.writer}read(){return this.reader_(this.target.read())}write(e){this.writer_(this.target,e)}inject(e){this.write(this.reader_(e))}};s(Xh,"ReadWriteBinding");var Mp=Xh;function _P(r,e){var t;let i=r.accept(e.target.read(),e.params);if(Oe(i))return null;let u={target:e.target,initialValue:i.initialValue,params:i.params},p=Ue(e.params,v=>({disabled:v.optional.boolean,hidden:v.optional.boolean,label:v.optional.string,tag:v.optional.string})),h=r.binding.reader(u),f=r.binding.constraint?r.binding.constraint(u):void 0,w=new Mp({reader:h,target:e.target,writer:r.binding.writer(u)}),b=new Cc(Ve(h(i.initialValue),{constraint:f,equals:r.binding.equals}),w),m=r.controller({constraint:f,document:e.document,initialValue:i.initialValue,params:i.params,value:b,viewProps:er.create({disabled:p==null?void 0:p.disabled,hidden:p==null?void 0:p.hidden})});return new Rc(e.document,{blade:$o(),props:ce.fromObject({label:"label"in e.params?(t=p==null?void 0:p.label)!==null&&t!==void 0?t:null:e.target.key}),tag:p==null?void 0:p.tag,value:b,valueController:m})}s(_P,"createInputBindingController");var Zh=class Zh{constructor(e){this.target=e.target,this.reader_=e.reader}read(){return this.reader_(this.target.read())}};s(Zh,"ReadonlyBinding");var Tp=Zh;function xP(r,e){return e===0?new Wc:new Yc(r,e!=null?e:fs.monitor.defaultInterval)}s(xP,"createTicker");function PP(r,e){var t,i,u;let p=r.accept(e.target.read(),e.params);if(Oe(p))return null;let h={target:e.target,initialValue:p.initialValue,params:p.params},f=Ue(e.params,_=>({bufferSize:_.optional.number,disabled:_.optional.boolean,hidden:_.optional.boolean,interval:_.optional.number,label:_.optional.string})),w=r.binding.reader(h),b=(i=(t=f==null?void 0:f.bufferSize)!==null&&t!==void 0?t:r.binding.defaultBufferSize&&r.binding.defaultBufferSize(p.params))!==null&&i!==void 0?i:1,m=new Mc({binding:new Tp({reader:w,target:e.target}),bufferSize:b,ticker:xP(e.document,f==null?void 0:f.interval)}),v=r.controller({document:e.document,params:p.params,value:m,viewProps:er.create({disabled:f==null?void 0:f.disabled,hidden:f==null?void 0:f.hidden})});return v.viewProps.bindDisabled(m.ticker),v.viewProps.handleDispose(()=>{m.ticker.dispose()}),new Tc(e.document,{blade:$o(),props:ce.fromObject({label:"label"in e.params?(u=f==null?void 0:f.label)!==null&&u!==void 0?u:null:e.target.key}),value:m,valueController:v})}s(PP,"createMonitorBindingController");var Jh=class Jh{constructor(e){this.pluginsMap_={blades:[],inputs:[],monitors:[]},this.apiCache_=e}getAll(){return[...this.pluginsMap_.blades,...this.pluginsMap_.inputs,...this.pluginsMap_.monitors]}register(e,t){if(!Gx(t.core))throw pt.notCompatible(e,t.id);t.type==="blade"?this.pluginsMap_.blades.unshift(t):t.type==="input"?this.pluginsMap_.inputs.unshift(t):t.type==="monitor"&&this.pluginsMap_.monitors.unshift(t)}createInput_(e,t,i){return this.pluginsMap_.inputs.reduce((u,p)=>u!=null?u:_P(p,{document:e,target:t,params:i}),null)}createMonitor_(e,t,i){return this.pluginsMap_.monitors.reduce((u,p)=>u!=null?u:PP(p,{document:e,params:i,target:t}),null)}createBinding(e,t,i){let u=t.read();if(Oe(u))throw new pt({context:{key:t.key},type:"nomatchingcontroller"});let p=this.createInput_(e,t,i);if(p)return p;let h=this.createMonitor_(e,t,i);if(h)return h;throw new pt({context:{key:t.key},type:"nomatchingcontroller"})}createBlade(e,t){let i=this.pluginsMap_.blades.reduce((u,p)=>u!=null?u:Nx(p,{document:e,params:t}),null);if(!i)throw new pt({type:"nomatchingview",context:{params:t}});return i}createInputBindingApi_(e){let t=this.pluginsMap_.inputs.reduce((i,u)=>{var p,h;return i||((h=(p=u.api)===null||p===void 0?void 0:p.call(u,{controller:e}))!==null&&h!==void 0?h:null)},null);return this.apiCache_.add(e,t!=null?t:new lo(e))}createMonitorBindingApi_(e){let t=this.pluginsMap_.monitors.reduce((i,u)=>{var p,h;return i||((h=(p=u.api)===null||p===void 0?void 0:p.call(u,{controller:e}))!==null&&h!==void 0?h:null)},null);return this.apiCache_.add(e,t!=null?t:new lo(e))}createBindingApi(e){if(this.apiCache_.has(e))return this.apiCache_.get(e);if(yx(e))return this.createInputBindingApi_(e);if(Sx(e))return this.createMonitorBindingApi_(e);throw pt.shouldNeverHappen()}createApi(e){if(this.apiCache_.has(e))return this.apiCache_.get(e);if(bx(e))return this.createBindingApi(e);let t=this.pluginsMap_.blades.reduce((i,u)=>i!=null?i:u.api({controller:e,pool:this}),null);if(!t)throw pt.shouldNeverHappen();return this.apiCache_.add(e,t)}};s(Jh,"PluginPool");var Lp=Jh,EP=new Rp;function SP(){let r=new Lp(EP);return[iP,uP,hP,mP,$1,X1,Q1,G1,Wx,vP,yP,bP,kx,jx,tw].forEach(e=>{r.register("core",e)}),r}s(SP,"createDefaultPluginPool");var $h=class $h extends Jn{constructor(e){super(e),this.emitter_=new We,this.controller.value.emitter.on("change",t=>{this.emitter_.emit("change",new so(this,t.rawValue))})}get label(){return this.controller.labelController.props.get("label")}set label(e){this.controller.labelController.props.set("label",e)}get options(){return this.controller.valueController.props.get("options")}set options(e){this.controller.valueController.props.set("options",e)}get value(){return this.controller.value.rawValue}set value(e){this.controller.value.rawValue=e}on(e,t){let i=t.bind(this);return this.emitter_.on(e,u=>{i(u)},{key:t}),this}off(e,t){return this.emitter_.off(e,t),this}};s($h,"ListBladeApi");var Op=$h,ef=class ef extends Jn{};s(ef,"SeparatorBladeApi");var Ap=ef,tf=class tf extends Jn{constructor(e){super(e),this.emitter_=new We,this.controller.value.emitter.on("change",t=>{this.emitter_.emit("change",new so(this,t.rawValue))})}get label(){return this.controller.labelController.props.get("label")}set label(e){this.controller.labelController.props.set("label",e)}get max(){return this.controller.valueController.sliderController.props.get("max")}set max(e){this.controller.valueController.sliderController.props.set("max",e)}get min(){return this.controller.valueController.sliderController.props.get("min")}set min(e){this.controller.valueController.sliderController.props.set("min",e)}get value(){return this.controller.value.rawValue}set value(e){this.controller.value.rawValue=e}on(e,t){let i=t.bind(this);return this.emitter_.on(e,u=>{i(u)},{key:t}),this}off(e,t){return this.emitter_.off(e,t),this}};s(tf,"SliderBladeApi");var Dp=tf,nf=class nf extends Jn{constructor(e){super(e),this.emitter_=new We,this.controller.value.emitter.on("change",t=>{this.emitter_.emit("change",new so(this,t.rawValue))})}get label(){return this.controller.labelController.props.get("label")}set label(e){this.controller.labelController.props.set("label",e)}get formatter(){return this.controller.valueController.props.get("formatter")}set formatter(e){this.controller.valueController.props.set("formatter",e)}get value(){return this.controller.value.rawValue}set value(e){this.controller.value.rawValue=e}on(e,t){let i=t.bind(this);return this.emitter_.on(e,u=>{i(u)},{key:t}),this}off(e,t){return this.emitter_.off(e,t),this}};s(nf,"TextBladeApi");var zp=nf,CP=function(){return{id:"list",type:"blade",core:Jo,accept(r){let e=Ue(r,t=>({options:t.required.custom(ps),value:t.required.raw,view:t.required.constant("list"),label:t.optional.string}));return e?{params:e}:null},controller(r){let e=new uo(qp(r.params.options)),t=Ve(r.params.value,{constraint:e}),i=new Dn(r.document,{props:new ce({options:e.values.value("options")}),value:t,viewProps:r.viewProps});return new $n(r.document,{blade:r.blade,props:ce.fromObject({label:r.params.label}),value:t,valueController:i})},api(r){return!(r.controller instanceof $n)||!(r.controller.valueController instanceof Dn)?null:new Op(r.controller)}}}(),rf=class rf extends ql{constructor(e,t){super(e,t)}get element(){return this.controller.view.element}};s(rf,"RootApi");var jp=rf,of=class of extends es{constructor(e,t){super(e,{expanded:t.expanded,blade:t.blade,props:t.props,root:!0,viewProps:t.viewProps})}};s(of,"RootController");var Ip=of,I0=ve("spr"),sf=class sf{constructor(e,t){this.element=e.createElement("div"),this.element.classList.add(I0()),t.viewProps.bindClassModifiers(this.element);let i=e.createElement("hr");i.classList.add(I0("r")),this.element.appendChild(i)}};s(sf,"SeparatorView");var Np=sf,lf=class lf extends Yo{constructor(e,t){super(Object.assign(Object.assign({},t),{view:new Np(e,{viewProps:t.viewProps})}))}};s(lf,"SeparatorController");var ea=lf,kP={id:"separator",type:"blade",core:Jo,accept(r){let e=Ue(r,t=>({view:t.required.constant("separator")}));return e?{params:e}:null},controller(r){return new ea(r.document,{blade:r.blade,viewProps:r.viewProps})},api(r){return r.controller instanceof ea?new Ap(r.controller):null}},RP={id:"slider",type:"blade",core:Jo,accept(r){let e=Ue(r,t=>({max:t.required.number,min:t.required.number,view:t.required.constant("slider"),format:t.optional.function,label:t.optional.string,value:t.optional.number}));return e?{params:e}:null},controller(r){var e,t;let i=(e=r.params.value)!==null&&e!==void 0?e:0,u=new io({max:r.params.max,min:r.params.min}),p=Ve(i,{constraint:u}),h=new qo(r.document,Object.assign(Object.assign({},iw({formatter:(t=r.params.format)!==null&&t!==void 0?t:ox,keyScale:Ve(1),max:u.values.value("max"),min:u.values.value("min"),pointerScale:G0(r.params,i)})),{parser:Zn,value:p,viewProps:r.viewProps}));return new $n(r.document,{blade:r.blade,props:ce.fromObject({label:r.params.label}),value:p,valueController:h})},api(r){return!(r.controller instanceof $n)||!(r.controller.valueController instanceof qo)?null:new Dp(r.controller)}},MP=function(){return{id:"text",type:"blade",core:Jo,accept(r){let e=Ue(r,t=>({parse:t.required.function,value:t.required.raw,view:t.required.constant("text"),format:t.optional.function,label:t.optional.string}));return e?{params:e}:null},controller(r){var e;let t=Ve(r.params.value),i=new co(r.document,{parser:r.params.parse,props:ce.fromObject({formatter:(e=r.params.format)!==null&&e!==void 0?e:u=>String(u)}),value:t,viewProps:r.viewProps});return new $n(r.document,{blade:r.blade,props:ce.fromObject({label:r.params.label}),value:t,valueController:i})},api(r){return!(r.controller instanceof $n)||!(r.controller.valueController instanceof co)?null:new zp(r.controller)}}}();function TP(r){let e=r.createElement("div");return e.classList.add(ve("dfw")()),r.body&&r.body.appendChild(e),e}s(TP,"createDefaultWrapperElement");function LP(r,e,t){if(r.querySelector("style[data-tp-style=".concat(e,"]")))return;let i=r.createElement("style");i.dataset.tpStyle=e,i.textContent=t,r.head.appendChild(i)}s(LP,"embedStyle");var af=class af extends jp{constructor(e){var t,i;let u=e!=null?e:{},p=(t=u.document)!==null&&t!==void 0?t:dx(),h=SP(),f=new Ip(p,{expanded:u.expanded,blade:$o(),props:ce.fromObject({title:u.title}),viewProps:er.create()});super(f,h),this.pool_=h,this.containerElem_=(i=u.container)!==null&&i!==void 0?i:TP(p),this.containerElem_.appendChild(this.element),this.doc_=p,this.usesDefaultWrapper_=!u.container,this.setUpDefaultPlugins_()}get document(){if(!this.doc_)throw pt.alreadyDisposed();return this.doc_}dispose(){let e=this.containerElem_;if(!e)throw pt.alreadyDisposed();if(this.usesDefaultWrapper_){let t=e.parentElement;t&&t.removeChild(e)}this.containerElem_=null,this.doc_=null,super.dispose()}registerPlugin(e){e.css&&LP(this.document,"plugin-".concat(e.id),e.css),("plugin"in e?[e.plugin]:"plugins"in e?e.plugins:[]).forEach(i=>{this.pool_.register(e.id,i)})}setUpDefaultPlugins_(){this.registerPlugin({id:"default",css:'.tp-tbiv_b,.tp-coltxtv_ms,.tp-colswv_b,.tp-ckbv_i,.tp-sglv_i,.tp-mllv_i,.tp-grlv_g,.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw,.tp-rotv_b,.tp-fldv_b,.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:rgba(0,0,0,0);border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{background-color:var(--btn-bg);border-radius:var(--bld-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--cnt-usz);line-height:var(--cnt-usz);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-p2dv_b:hover,.tp-btnv_b:hover,.tp-lstv_s:hover{background-color:var(--btn-bg-h)}.tp-p2dv_b:focus,.tp-btnv_b:focus,.tp-lstv_s:focus{background-color:var(--btn-bg-f)}.tp-p2dv_b:active,.tp-btnv_b:active,.tp-lstv_s:active{background-color:var(--btn-bg-a)}.tp-p2dv_b:disabled,.tp-btnv_b:disabled,.tp-lstv_s:disabled{opacity:.5}.tp-rotv_c>.tp-cntv.tp-v-lst,.tp-tbpv_c>.tp-cntv.tp-v-lst,.tp-fldv_c>.tp-cntv.tp-v-lst{margin-bottom:calc(-1*var(--cnt-vp))}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-tbpv_c>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_c{border-bottom-left-radius:0}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-tbpv_c>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_b{border-bottom-left-radius:0}.tp-rotv_c>*:not(.tp-v-fst),.tp-tbpv_c>*:not(.tp-v-fst),.tp-fldv_c>*:not(.tp-v-fst){margin-top:var(--cnt-usp)}.tp-rotv_c>.tp-sprv:not(.tp-v-fst),.tp-tbpv_c>.tp-sprv:not(.tp-v-fst),.tp-fldv_c>.tp-sprv:not(.tp-v-fst),.tp-rotv_c>.tp-cntv:not(.tp-v-fst),.tp-tbpv_c>.tp-cntv:not(.tp-v-fst),.tp-fldv_c>.tp-cntv:not(.tp-v-fst){margin-top:var(--cnt-vp)}.tp-rotv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-tbpv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-rotv_c>.tp-cntv+*:not(.tp-v-hidden),.tp-tbpv_c>.tp-cntv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-cntv+*:not(.tp-v-hidden){margin-top:var(--cnt-vp)}.tp-rotv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-tbpv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-fldv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-rotv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-tbpv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-fldv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv{margin-top:0}.tp-tbpv_c>.tp-cntv,.tp-fldv_c>.tp-cntv{margin-left:4px}.tp-tbpv_c>.tp-fldv>.tp-fldv_b,.tp-fldv_c>.tp-fldv>.tp-fldv_b{border-top-left-radius:var(--bld-br);border-bottom-left-radius:var(--bld-br)}.tp-tbpv_c>.tp-fldv.tp-fldv-expanded>.tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-fldv-expanded>.tp-fldv_b{border-bottom-left-radius:0}.tp-tbpv_c .tp-fldv>.tp-fldv_c,.tp-fldv_c .tp-fldv>.tp-fldv_c{border-bottom-left-radius:var(--bld-br)}.tp-tbpv_c>.tp-cntv+.tp-fldv>.tp-fldv_b,.tp-fldv_c>.tp-cntv+.tp-fldv>.tp-fldv_b{border-top-left-radius:0}.tp-tbpv_c>.tp-cntv+.tp-tabv>.tp-tabv_t,.tp-fldv_c>.tp-cntv+.tp-tabv>.tp-tabv_t{border-top-left-radius:0}.tp-tbpv_c>.tp-tabv>.tp-tabv_t,.tp-fldv_c>.tp-tabv>.tp-tabv_t{border-top-left-radius:var(--bld-br)}.tp-tbpv_c .tp-tabv>.tp-tabv_c,.tp-fldv_c .tp-tabv>.tp-tabv_c{border-bottom-left-radius:var(--bld-br)}.tp-rotv_b,.tp-fldv_b{background-color:var(--cnt-bg);color:var(--cnt-fg);cursor:pointer;display:block;height:calc(var(--cnt-usz) + 4px);line-height:calc(var(--cnt-usz) + 4px);overflow:hidden;padding-left:var(--cnt-hp);padding-right:calc(4px + var(--cnt-usz) + var(--cnt-hp));position:relative;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:100%;transition:border-radius .2s ease-in-out .2s}.tp-rotv_b:hover,.tp-fldv_b:hover{background-color:var(--cnt-bg-h)}.tp-rotv_b:focus,.tp-fldv_b:focus{background-color:var(--cnt-bg-f)}.tp-rotv_b:active,.tp-fldv_b:active{background-color:var(--cnt-bg-a)}.tp-rotv_b:disabled,.tp-fldv_b:disabled{opacity:.5}.tp-rotv_m,.tp-fldv_m{background:linear-gradient(to left, var(--cnt-fg), var(--cnt-fg) 2px, transparent 2px, transparent 4px, var(--cnt-fg) 4px);border-radius:2px;bottom:0;content:"";display:block;height:6px;right:calc(var(--cnt-hp) + (var(--cnt-usz) + 4px - 6px)/2 - 2px);margin:auto;opacity:.5;position:absolute;top:0;transform:rotate(90deg);transition:transform .2s ease-in-out;width:6px}.tp-rotv.tp-rotv-expanded .tp-rotv_m,.tp-fldv.tp-fldv-expanded>.tp-fldv_b>.tp-fldv_m{transform:none}.tp-rotv_c,.tp-fldv_c{box-sizing:border-box;height:0;opacity:0;overflow:hidden;padding-bottom:0;padding-top:0;position:relative;transition:height .2s ease-in-out,opacity .2s linear,padding .2s ease-in-out}.tp-rotv.tp-rotv-cpl:not(.tp-rotv-expanded) .tp-rotv_c,.tp-fldv.tp-fldv-cpl:not(.tp-fldv-expanded)>.tp-fldv_c{display:none}.tp-rotv.tp-rotv-expanded .tp-rotv_c,.tp-fldv.tp-fldv-expanded>.tp-fldv_c{opacity:1;padding-bottom:var(--cnt-vp);padding-top:var(--cnt-vp);transform:none;overflow:visible;transition:height .2s ease-in-out,opacity .2s linear .2s,padding .2s ease-in-out}.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw{background-color:var(--in-bg);border-radius:var(--bld-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--cnt-usz);line-height:var(--cnt-usz);min-width:0;width:100%}.tp-txtv_i:hover,.tp-p2dpv_p:hover,.tp-colswv_sw:hover{background-color:var(--in-bg-h)}.tp-txtv_i:focus,.tp-p2dpv_p:focus,.tp-colswv_sw:focus{background-color:var(--in-bg-f)}.tp-txtv_i:active,.tp-p2dpv_p:active,.tp-colswv_sw:active{background-color:var(--in-bg-a)}.tp-txtv_i:disabled,.tp-p2dpv_p:disabled,.tp-colswv_sw:disabled{opacity:.5}.tp-lstv,.tp-coltxtv_m{position:relative}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m,.tp-coltxtv_mm{bottom:0;margin:auto;pointer-events:none;position:absolute;right:2px;top:0}.tp-lstv_m svg,.tp-coltxtv_mm svg{bottom:0;height:16px;margin:auto;position:absolute;right:0;top:0;width:16px}.tp-lstv_m svg path,.tp-coltxtv_mm svg path{fill:currentColor}.tp-sglv_i,.tp-mllv_i,.tp-grlv_g{background-color:var(--mo-bg);border-radius:var(--bld-br);box-sizing:border-box;color:var(--mo-fg);height:var(--cnt-usz);scrollbar-color:currentColor rgba(0,0,0,0);scrollbar-width:thin;width:100%}.tp-sglv_i::-webkit-scrollbar,.tp-mllv_i::-webkit-scrollbar,.tp-grlv_g::-webkit-scrollbar{height:8px;width:8px}.tp-sglv_i::-webkit-scrollbar-corner,.tp-mllv_i::-webkit-scrollbar-corner,.tp-grlv_g::-webkit-scrollbar-corner{background-color:rgba(0,0,0,0)}.tp-sglv_i::-webkit-scrollbar-thumb,.tp-mllv_i::-webkit-scrollbar-thumb,.tp-grlv_g::-webkit-scrollbar-thumb{background-clip:padding-box;background-color:currentColor;border:rgba(0,0,0,0) solid 2px;border-radius:4px}.tp-pndtxtv,.tp-coltxtv_w{display:flex}.tp-pndtxtv_a,.tp-coltxtv_c{width:100%}.tp-pndtxtv_a+.tp-pndtxtv_a,.tp-coltxtv_c+.tp-pndtxtv_a,.tp-pndtxtv_a+.tp-coltxtv_c,.tp-coltxtv_c+.tp-coltxtv_c{margin-left:2px}.tp-rotv{--bs-bg: var(--tp-base-background-color, hsl(230, 7%, 17%));--bs-br: var(--tp-base-border-radius, 6px);--bs-ff: var(--tp-base-font-family, Roboto Mono, Source Code Pro, Menlo, Courier, monospace);--bs-sh: var(--tp-base-shadow-color, rgba(0, 0, 0, 0.2));--bld-br: var(--tp-blade-border-radius, 2px);--bld-hp: var(--tp-blade-horizontal-padding, 4px);--bld-vw: var(--tp-blade-value-width, 160px);--btn-bg: var(--tp-button-background-color, hsl(230, 7%, 70%));--btn-bg-a: var(--tp-button-background-color-active, #d6d7db);--btn-bg-f: var(--tp-button-background-color-focus, #c8cad0);--btn-bg-h: var(--tp-button-background-color-hover, #bbbcc4);--btn-fg: var(--tp-button-foreground-color, hsl(230, 7%, 17%));--cnt-bg: var(--tp-container-background-color, rgba(187, 188, 196, 0.1));--cnt-bg-a: var(--tp-container-background-color-active, rgba(187, 188, 196, 0.25));--cnt-bg-f: var(--tp-container-background-color-focus, rgba(187, 188, 196, 0.2));--cnt-bg-h: var(--tp-container-background-color-hover, rgba(187, 188, 196, 0.15));--cnt-fg: var(--tp-container-foreground-color, hsl(230, 7%, 75%));--cnt-hp: var(--tp-container-horizontal-padding, 4px);--cnt-vp: var(--tp-container-vertical-padding, 4px);--cnt-usp: var(--tp-container-unit-spacing, 4px);--cnt-usz: var(--tp-container-unit-size, 20px);--in-bg: var(--tp-input-background-color, rgba(187, 188, 196, 0.1));--in-bg-a: var(--tp-input-background-color-active, rgba(187, 188, 196, 0.25));--in-bg-f: var(--tp-input-background-color-focus, rgba(187, 188, 196, 0.2));--in-bg-h: var(--tp-input-background-color-hover, rgba(187, 188, 196, 0.15));--in-fg: var(--tp-input-foreground-color, hsl(230, 7%, 75%));--lbl-fg: var(--tp-label-foreground-color, rgba(187, 188, 196, 0.7));--mo-bg: var(--tp-monitor-background-color, rgba(0, 0, 0, 0.2));--mo-fg: var(--tp-monitor-foreground-color, rgba(187, 188, 196, 0.7));--grv-fg: var(--tp-groove-foreground-color, rgba(187, 188, 196, 0.1))}.tp-btnv_b{width:100%}.tp-btnv_t{text-align:center}.tp-ckbv_l{display:block;position:relative}.tp-ckbv_i{left:0;opacity:0;position:absolute;top:0}.tp-ckbv_w{background-color:var(--in-bg);border-radius:var(--bld-br);cursor:pointer;display:block;height:var(--cnt-usz);position:relative;width:var(--cnt-usz)}.tp-ckbv_w svg{bottom:0;display:block;height:16px;left:0;margin:auto;opacity:0;position:absolute;right:0;top:0;width:16px}.tp-ckbv_w svg path{fill:none;stroke:var(--in-fg);stroke-width:2}.tp-ckbv_i:hover+.tp-ckbv_w{background-color:var(--in-bg-h)}.tp-ckbv_i:focus+.tp-ckbv_w{background-color:var(--in-bg-f)}.tp-ckbv_i:active+.tp-ckbv_w{background-color:var(--in-bg-a)}.tp-ckbv_i:checked+.tp-ckbv_w svg{opacity:1}.tp-ckbv.tp-v-disabled .tp-ckbv_w{opacity:.5}.tp-colv{position:relative}.tp-colv_h{display:flex}.tp-colv_s{flex-grow:0;flex-shrink:0;width:var(--cnt-usz)}.tp-colv_t{flex:1;margin-left:4px}.tp-colv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-colv.tp-colv-expanded.tp-colv-cpl .tp-colv_p{overflow:visible}.tp-colv.tp-colv-expanded .tp-colv_p{margin-top:var(--cnt-usp);opacity:1}.tp-colv .tp-popv{left:calc(-1*var(--cnt-hp));right:calc(-1*var(--cnt-hp));top:var(--cnt-usz)}.tp-colpv_h,.tp-colpv_ap{margin-left:6px;margin-right:6px}.tp-colpv_h{margin-top:var(--cnt-usp)}.tp-colpv_rgb{display:flex;margin-top:var(--cnt-usp);width:100%}.tp-colpv_a{display:flex;margin-top:var(--cnt-vp);padding-top:calc(var(--cnt-vp) + 2px);position:relative}.tp-colpv_a::before{background-color:var(--grv-fg);content:"";height:2px;left:calc(-1*var(--cnt-hp));position:absolute;right:calc(-1*var(--cnt-hp));top:0}.tp-colpv.tp-v-disabled .tp-colpv_a::before{opacity:.5}.tp-colpv_ap{align-items:center;display:flex;flex:3}.tp-colpv_at{flex:1;margin-left:4px}.tp-svpv{border-radius:var(--bld-br);outline:none;overflow:hidden;position:relative}.tp-svpv.tp-v-disabled{opacity:.5}.tp-svpv_c{cursor:crosshair;display:block;height:calc(var(--cnt-usz)*4);width:100%}.tp-svpv_m{border-radius:100%;border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;filter:drop-shadow(0 0 1px rgba(0, 0, 0, 0.3));height:12px;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;width:12px}.tp-svpv:focus .tp-svpv_m{border-color:#fff}.tp-hplv{cursor:pointer;height:var(--cnt-usz);outline:none;position:relative}.tp-hplv.tp-v-disabled{opacity:.5}.tp-hplv_c{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAABCAYAAABubagXAAAAQ0lEQVQoU2P8z8Dwn0GCgQEDi2OK/RBgYHjBgIpfovFh8j8YBIgzFGQxuqEgPhaDOT5gOhPkdCxOZeBg+IDFZZiGAgCaSSMYtcRHLgAAAABJRU5ErkJggg==);background-position:left top;background-repeat:no-repeat;background-size:100% 100%;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;position:absolute;top:50%;width:100%}.tp-hplv_m{border-radius:var(--bld-br);border:rgba(255,255,255,.75) solid 2px;box-shadow:0 0 2px rgba(0,0,0,.1);box-sizing:border-box;height:12px;left:50%;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;top:50%;width:12px}.tp-hplv:focus .tp-hplv_m{border-color:#fff}.tp-aplv{cursor:pointer;height:var(--cnt-usz);outline:none;position:relative;width:100%}.tp-aplv.tp-v-disabled{opacity:.5}.tp-aplv_b{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:4px 4px;background-position:0 0,2px 2px;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;overflow:hidden;position:absolute;top:50%;width:100%}.tp-aplv_c{bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv_m{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:12px 12px;background-position:0 0,6px 6px;border-radius:var(--bld-br);box-shadow:0 0 2px rgba(0,0,0,.1);height:12px;left:50%;margin-left:-6px;margin-top:-6px;overflow:hidden;pointer-events:none;position:absolute;top:50%;width:12px}.tp-aplv_p{border-radius:var(--bld-br);border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv:focus .tp-aplv_p{border-color:#fff}.tp-colswv{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:10px 10px;background-position:0 0,5px 5px;border-radius:var(--bld-br);overflow:hidden}.tp-colswv.tp-v-disabled{opacity:.5}.tp-colswv_sw{border-radius:0}.tp-colswv_b{cursor:pointer;display:block;height:var(--cnt-usz);left:0;position:absolute;top:0;width:var(--cnt-usz)}.tp-colswv_b:focus::after{border:rgba(255,255,255,.75) solid 2px;border-radius:var(--bld-br);bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}.tp-coltxtv{display:flex;width:100%}.tp-coltxtv_m{margin-right:4px}.tp-coltxtv_ms{border-radius:var(--bld-br);color:var(--lbl-fg);cursor:pointer;height:var(--cnt-usz);line-height:var(--cnt-usz);padding:0 18px 0 4px}.tp-coltxtv_ms:hover{background-color:var(--in-bg-h)}.tp-coltxtv_ms:focus{background-color:var(--in-bg-f)}.tp-coltxtv_ms:active{background-color:var(--in-bg-a)}.tp-coltxtv_mm{color:var(--lbl-fg)}.tp-coltxtv.tp-v-disabled .tp-coltxtv_mm{opacity:.5}.tp-coltxtv_w{flex:1}.tp-dfwv{position:absolute;top:8px;right:8px;width:256px}.tp-fldv{position:relative}.tp-fldv_t{padding-left:4px}.tp-fldv_b:disabled .tp-fldv_m{display:none}.tp-fldv_c{padding-left:4px}.tp-fldv_i{bottom:0;color:var(--cnt-bg);left:0;overflow:hidden;position:absolute;top:calc(var(--cnt-usz) + 4px);width:max(var(--bs-br),4px)}.tp-fldv_i::before{background-color:currentColor;bottom:0;content:"";left:0;position:absolute;top:0;width:4px}.tp-fldv_b:hover+.tp-fldv_i{color:var(--cnt-bg-h)}.tp-fldv_b:focus+.tp-fldv_i{color:var(--cnt-bg-f)}.tp-fldv_b:active+.tp-fldv_i{color:var(--cnt-bg-a)}.tp-fldv.tp-v-disabled>.tp-fldv_i{opacity:.5}.tp-grlv{position:relative}.tp-grlv_g{display:block;height:calc(var(--cnt-usz)*3)}.tp-grlv_g polyline{fill:none;stroke:var(--mo-fg);stroke-linejoin:round}.tp-grlv_t{margin-top:-4px;transition:left .05s,top .05s;visibility:hidden}.tp-grlv_t.tp-grlv_t-a{visibility:visible}.tp-grlv_t.tp-grlv_t-in{transition:none}.tp-grlv.tp-v-disabled .tp-grlv_g{opacity:.5}.tp-grlv .tp-ttv{background-color:var(--mo-fg)}.tp-grlv .tp-ttv::before{border-top-color:var(--mo-fg)}.tp-lblv{align-items:center;display:flex;line-height:1.3;padding-left:var(--cnt-hp);padding-right:var(--cnt-hp)}.tp-lblv.tp-lblv-nol{display:block}.tp-lblv_l{color:var(--lbl-fg);flex:1;-webkit-hyphens:auto;hyphens:auto;overflow:hidden;padding-left:4px;padding-right:16px}.tp-lblv.tp-v-disabled .tp-lblv_l{opacity:.5}.tp-lblv.tp-lblv-nol .tp-lblv_l{display:none}.tp-lblv_v{align-self:flex-start;flex-grow:0;flex-shrink:0;width:var(--bld-vw)}.tp-lblv.tp-lblv-nol .tp-lblv_v{width:100%}.tp-lstv_s{padding:0 20px 0 var(--bld-hp);width:100%}.tp-lstv_m{color:var(--btn-fg)}.tp-sglv_i{padding-left:var(--bld-hp);padding-right:var(--bld-hp)}.tp-sglv.tp-v-disabled .tp-sglv_i{opacity:.5}.tp-mllv_i{display:block;height:calc(var(--cnt-usz)*3);line-height:var(--cnt-usz);padding-left:var(--bld-hp);padding-right:var(--bld-hp);resize:none;white-space:pre}.tp-mllv.tp-v-disabled .tp-mllv_i{opacity:.5}.tp-p2dv{position:relative}.tp-p2dv_h{display:flex}.tp-p2dv_b{height:var(--cnt-usz);margin-right:4px;position:relative;width:var(--cnt-usz)}.tp-p2dv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-p2dv_b svg path{stroke:currentColor;stroke-width:2}.tp-p2dv_b svg circle{fill:currentColor}.tp-p2dv_t{flex:1}.tp-p2dv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-p2dv.tp-p2dv-expanded .tp-p2dv_p{margin-top:var(--cnt-usp);opacity:1}.tp-p2dv .tp-popv{left:calc(-1*var(--cnt-hp));right:calc(-1*var(--cnt-hp));top:var(--cnt-usz)}.tp-p2dpv{padding-left:calc(var(--cnt-usz) + 4px)}.tp-p2dpv_p{cursor:crosshair;height:0;overflow:hidden;padding-bottom:100%;position:relative}.tp-p2dpv.tp-v-disabled .tp-p2dpv_p{opacity:.5}.tp-p2dpv_g{display:block;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.tp-p2dpv_ax{opacity:.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_l{opacity:.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_m{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;position:absolute;width:4px}.tp-p2dpv_p:focus .tp-p2dpv_m{background-color:var(--in-fg);border-width:0}.tp-popv{background-color:var(--bs-bg);border-radius:var(--bs-br);box-shadow:0 2px 4px var(--bs-sh);display:none;max-width:var(--bld-vw);padding:var(--cnt-vp) var(--cnt-hp);position:absolute;visibility:hidden;z-index:1000}.tp-popv.tp-popv-v{display:block;visibility:visible}.tp-sldv.tp-v-disabled{opacity:.5}.tp-sldv_t{box-sizing:border-box;cursor:pointer;height:var(--cnt-usz);margin:0 6px;outline:none;position:relative}.tp-sldv_t::before{background-color:var(--in-bg);border-radius:1px;bottom:0;content:"";display:block;height:2px;left:0;margin:auto;position:absolute;right:0;top:0}.tp-sldv_k{height:100%;left:0;position:absolute;top:0}.tp-sldv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:"";display:block;height:2px;left:0;margin-bottom:auto;margin-top:auto;position:absolute;right:0;top:0}.tp-sldv_k::after{background-color:var(--btn-bg);border-radius:var(--bld-br);bottom:0;content:"";display:block;height:12px;margin-bottom:auto;margin-top:auto;position:absolute;right:-6px;top:0;width:12px}.tp-sldv_t:hover .tp-sldv_k::after{background-color:var(--btn-bg-h)}.tp-sldv_t:focus .tp-sldv_k::after{background-color:var(--btn-bg-f)}.tp-sldv_t:active .tp-sldv_k::after{background-color:var(--btn-bg-a)}.tp-sldtxtv{display:flex}.tp-sldtxtv_s{flex:2}.tp-sldtxtv_t{flex:1;margin-left:4px}.tp-tabv{position:relative}.tp-tabv_t{align-items:flex-end;color:var(--cnt-bg);display:flex;overflow:hidden;position:relative}.tp-tabv_t:hover{color:var(--cnt-bg-h)}.tp-tabv_t:has(*:focus){color:var(--cnt-bg-f)}.tp-tabv_t:has(*:active){color:var(--cnt-bg-a)}.tp-tabv_t::before{background-color:currentColor;bottom:0;content:"";height:2px;left:0;pointer-events:none;position:absolute;right:0}.tp-tabv.tp-v-disabled .tp-tabv_t::before{opacity:.5}.tp-tabv.tp-tabv-nop .tp-tabv_t{height:calc(var(--cnt-usz) + 4px);position:relative}.tp-tabv.tp-tabv-nop .tp-tabv_t::before{background-color:var(--cnt-bg);bottom:0;content:"";height:2px;left:0;position:absolute;right:0}.tp-tabv_i{bottom:0;color:var(--cnt-bg);left:0;overflow:hidden;position:absolute;top:calc(var(--cnt-usz) + 4px);width:max(var(--bs-br),4px)}.tp-tabv_i::before{background-color:currentColor;bottom:0;content:"";left:0;position:absolute;top:0;width:4px}.tp-tabv_t:hover+.tp-tabv_i{color:var(--cnt-bg-h)}.tp-tabv_t:has(*:focus)+.tp-tabv_i{color:var(--cnt-bg-f)}.tp-tabv_t:has(*:active)+.tp-tabv_i{color:var(--cnt-bg-a)}.tp-tabv.tp-v-disabled>.tp-tabv_i{opacity:.5}.tp-tbiv{flex:1;min-width:0;position:relative}.tp-tbiv+.tp-tbiv{margin-left:2px}.tp-tbiv+.tp-tbiv.tp-v-disabled::before{opacity:.5}.tp-tbiv_b{display:block;padding-left:calc(var(--cnt-hp) + 4px);padding-right:calc(var(--cnt-hp) + 4px);position:relative;width:100%}.tp-tbiv_b:disabled{opacity:.5}.tp-tbiv_b::before{background-color:var(--cnt-bg);bottom:2px;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.tp-tbiv_b:hover::before{background-color:var(--cnt-bg-h)}.tp-tbiv_b:focus::before{background-color:var(--cnt-bg-f)}.tp-tbiv_b:active::before{background-color:var(--cnt-bg-a)}.tp-tbiv_t{color:var(--cnt-fg);height:calc(var(--cnt-usz) + 4px);line-height:calc(var(--cnt-usz) + 4px);opacity:.5;overflow:hidden;position:relative;text-overflow:ellipsis}.tp-tbiv.tp-tbiv-sel .tp-tbiv_t{opacity:1}.tp-tbpv_c{padding-bottom:var(--cnt-vp);padding-left:4px;padding-top:var(--cnt-vp)}.tp-txtv{position:relative}.tp-txtv_i{padding-left:var(--bld-hp);padding-right:var(--bld-hp)}.tp-txtv.tp-txtv-fst .tp-txtv_i{border-bottom-right-radius:0;border-top-right-radius:0}.tp-txtv.tp-txtv-mid .tp-txtv_i{border-radius:0}.tp-txtv.tp-txtv-lst .tp-txtv_i{border-bottom-left-radius:0;border-top-left-radius:0}.tp-txtv.tp-txtv-num .tp-txtv_i{text-align:right}.tp-txtv.tp-txtv-drg .tp-txtv_i{opacity:.3}.tp-txtv_k{cursor:pointer;height:100%;left:calc(var(--bld-hp) - 5px);position:absolute;top:0;width:12px}.tp-txtv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:"";height:calc(var(--cnt-usz) - 4px);left:50%;margin-bottom:auto;margin-left:-1px;margin-top:auto;opacity:.1;position:absolute;top:0;transition:border-radius .1s,height .1s,transform .1s,width .1s;width:2px}.tp-txtv_k:hover::before,.tp-txtv.tp-txtv-drg .tp-txtv_k::before{opacity:1}.tp-txtv.tp-txtv-drg .tp-txtv_k::before{border-radius:50%;height:4px;transform:translateX(-1px);width:4px}.tp-txtv_g{bottom:0;display:block;height:8px;left:50%;margin:auto;overflow:visible;pointer-events:none;position:absolute;top:0;visibility:hidden;width:100%}.tp-txtv.tp-txtv-drg .tp-txtv_g{visibility:visible}.tp-txtv_gb{fill:none;stroke:var(--in-fg);stroke-dasharray:1}.tp-txtv_gh{fill:none;stroke:var(--in-fg)}.tp-txtv .tp-ttv{margin-left:6px;visibility:hidden}.tp-txtv.tp-txtv-drg .tp-ttv{visibility:visible}.tp-ttv{background-color:var(--in-fg);border-radius:var(--bld-br);color:var(--bs-bg);padding:2px 4px;pointer-events:none;position:absolute;transform:translate(-50%, -100%)}.tp-ttv::before{border-color:var(--in-fg) rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0);border-style:solid;border-width:2px;box-sizing:border-box;content:"";font-size:.9em;height:4px;left:50%;margin-left:-2px;position:absolute;top:100%;width:4px}.tp-rotv{background-color:var(--bs-bg);border-radius:var(--bs-br);box-shadow:0 2px 4px var(--bs-sh);font-family:var(--bs-ff);font-size:11px;font-weight:500;line-height:1;text-align:left}.tp-rotv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br);border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br);padding-left:calc(4px + var(--cnt-usz) + var(--cnt-hp));text-align:center}.tp-rotv.tp-rotv-expanded .tp-rotv_b{border-bottom-left-radius:0;border-bottom-right-radius:0;transition-delay:0s;transition-duration:0s}.tp-rotv.tp-rotv-not>.tp-rotv_b{display:none}.tp-rotv_b:disabled .tp-rotv_m{display:none}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_i{border-bottom-left-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst.tp-fldv-expanded>.tp-fldv_b{transition-delay:0s;transition-duration:0s}.tp-rotv_c .tp-fldv.tp-v-vlst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst{margin-top:calc(-1*var(--cnt-vp))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst>.tp-fldv_b{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_i{border-bottom-left-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst{margin-top:calc(-1*var(--cnt-vp))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst>.tp-tabv_t{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-v-disabled,.tp-rotv .tp-v-disabled{pointer-events:none}.tp-rotv.tp-v-hidden,.tp-rotv .tp-v-hidden{display:none}.tp-sprv_r{background-color:var(--grv-fg);border-width:0;display:block;height:2px;margin:0;width:100%}.tp-sprv.tp-v-disabled .tp-sprv_r{opacity:.5}',plugins:[CP,kP,RP,tw,MP]})}};s(af,"Pane");var Xo=af,iC=new Yl("4.0.3");var uf=class uf extends Xo{constructor(e,t){super({container:e,expanded:!0,title:"Controls"}),this.addBinding(t,"SunY",{label:"Sun Y",min:-1,max:5}),this.addBinding(t,"SunIntensity",{label:"Sun Intensity",min:0,max:t.SunIntensity*10}),this.addBinding(t,"GroundElevation",{label:"Ground elevation (meters)",min:1,max:t.GroundElevation}),this.addBinding(t,"AtmosphereHeight",{label:"Atmos. height (m)",min:1,max:t.AtmosphereHeight*2});let i=this.addFolder({title:"Rayleigh Scattering"});i.addBinding(t,"RayleighRed",{label:"Red",min:1e-6,max:1e-4}),i.addBinding(t,"RayleighGreen",{label:"Green",min:1e-6,max:1e-4}),i.addBinding(t,"RayleighBlue",{label:"Blue",min:1e-6,max:1e-4}),i.addBinding(t,"RayleighScaleHeight",{label:"Scale height (m)",min:1,max:t.AtmosphereHeight});let u=this.addFolder({title:"Mie Scattering"});u.addBinding(t,"MieScatteringCoeff",{label:"Scattering",min:1e-6,max:1e-4}),u.addBinding(t,"MieScaleHeight",{label:"Scale height (m)",min:1,max:t.AtmosphereHeight}),u.addBinding(t,"MiePolarity",{label:"Polarity",min:-.999,max:.999})}};s(uf,"AtmosphereControls");var ms=uf;var cf=class cf extends wg{constructor(e){super(OP(),AP(e)),this.atmosphere=e}onBeforeRender(){let e=this.material.uniforms,t=this.atmosphere;e.uEyePos.value.y=t.EyeHeight,e.uSunPos.value.y=t.SunY,e.uSunIntensity.value=t.SunIntensity,e.uGroundElevation.value=t.GroundElevation,e.uAtmosphereHeight.value=t.AtmosphereHeight,e.uRayleighScatteringCoeff.value.set(t.RayleighRed,t.RayleighGreen,t.RayleighBlue),e.uRayleighScaleHeight.value=t.RayleighScaleHeight,e.uMieScatteringCoeff.value=t.MieScatteringCoeff,e.uMieScaleHeight.value=t.MieScaleHeight,e.uMiePolarity.value=t.MiePolarity}};s(cf,"AtmosphereObject3D");var vs=cf;function OP(){let r=new No;return r.setAttribute("position",new $r([-1,-1,-1,1,-1,-1,1,1,-1,-1,-1,-1,1,1,-1,-1,1,-1],3)),r}s(OP,"makeGeometry");function AP(r){let p=Math.PI/4,h=Math.tan(p/2),f=1,w=new Float32Array(16),b=new Float32Array(16);w.set([h*f,0,0,0,0,h,0,0,0,0,0,-1,0,0,1,1]);let m=Math.cos(1.47),v=Math.sin(1.47),_=Math.cos(-.1),k=Math.sin(-.1),L=9e3/1e3;return b.set([-k,-m*_,v*_,v*_*L,_,-m*k,v*k,v*k*L,0,v,m,m*L,0,0,0,1]),new Ol({uniforms:{model_from_view:{value:b},view_from_clip:{value:w},uEyePos:{value:new he(0,r.EyeHeight,0)},uSunPos:{value:new he(0,r.SunY,-1)},earth_center:{value:new he(0,0,r.EyeHeight)},sun_direction:{value:new he(0,r.SunY,0)},sun_size:{value:new ct(1,1)},camera:{value:new he(0,r.SunY,-1)},uSunIntensity:{value:r.SunIntensity},uGroundElevation:{value:r.GroundElevation},uAtmosphereHeight:{value:r.AtmosphereHeight},uRayleighScatteringCoeff:{value:new he(r.RayleighRed,r.RayleighGreen,r.RayleighBlue)},uRayleighScaleHeight:{value:r.RayleighScaleHeight},uMieScatteringCoeff:{value:r.MieScatteringCoeff},uMieScaleHeight:{value:r.MieScaleHeight},uMiePolarity:{value:r.MiePolarity}},vertexShader:DP,fragmentShader:zP,blending:Tl})}s(AP,"makeMaterial");var DP="varying vec3 vPosition;\n\nuniform mat4 model_from_view;\nuniform mat4 view_from_clip;\nlayout(location = 0) in vec4 vertex;\n//out vec3 view_ray;\nvoid main() {\n  //view_ray = (model_from_view * vec4((view_from_clip * vertex).xyz, 0.0)).xyz;\n  vec4 mvPosition = modelViewMatrix * vec4(position, 0.0);\n  vPosition = position;\n  gl_Position = projectionMatrix * mvPosition;\n  //gl_Position = vec4(position, 1.0);\n}\n",zP="precision highp float;\n\nvarying vec3 vPosition;\n\nuniform vec3 uSunPos;\nuniform vec3 uEyePos;\nuniform float uSunIntensity;\nuniform float uGroundElevation;\nuniform float uAtmosphereHeight;\nuniform vec3 uRayleighScatteringCoeff;\nuniform float uMieScatteringCoeff;\nuniform float uRayleighScaleHeight;\nuniform float uMieScaleHeight;\nuniform float uMiePolarity;\n\nuniform vec3 camera;\nuniform vec3 earth_center;\nuniform vec3 sun_direction;\nuniform vec2 sun_size;\n\nin vec3 view_ray;\n\n#define PI 3.141592\n#define iSteps 16\n#define jSteps 8\n\n\nvec2 rsi(vec3 r0, vec3 rd, float sr) {\n    // ray-sphere intersection that assumes\n    // the sphere is centered at the origin.\n    // No intersection when result.x > result.y\n    float a = dot(rd, rd);\n    float b = 2.0 * dot(rd, r0);\n    float c = dot(r0, r0) - (sr * sr);\n    float d = (b*b) - 4.0*a*c;\n    if (d < 0.0) return vec2(1e5,-1e5);\n    return vec2(\n        (-b - sqrt(d))/(2.0*a),\n        (-b + sqrt(d))/(2.0*a)\n    );\n}\n\n\nvec3 atmosphere(vec3 pVrt, vec3 pEye,\n                vec3 pSun, float iSun,\n                float rPlanet, float rAtmos,\n                vec3 kRlh, float shRlh,\n                float kMie, float shMie, float polarity) {\n    // Normalize the sun and view directions.\n    pVrt = normalize(pVrt);\n    pSun = normalize(pSun);\n\n    // Calculate the step size of the primary ray.\n    vec2 p = rsi(pEye, pVrt, rAtmos);\n    if (p.x > p.y) return vec3(0,0,0);\n    p.y = min(p.y, rsi(pEye, pVrt, rPlanet).x);\n    float iStepSize = (p.y - p.x) / float(iSteps);\n\n    // Initialize the primary ray time.\n    float iTime = 0.0;\n\n    // Initialize accumulators for Rayleigh and Mie scattering.\n    vec3 totalRlh = vec3(0,0,0);\n    vec3 totalMie = vec3(0,0,0);\n\n    // Initialize optical depth accumulators for the primary ray.\n    float iOdRlh = 0.0;\n    float iOdMie = 0.0;\n\n    // Calculate the Rayleigh and Mie phases.\n    // These look like some variant on:\n    //   16.2.2 The Phase Function\n    //   https://developer.nvidia.com/gpugems/gpugems2/part-ii-shading-lighting-and-shadows/chapter-16-accurate-atmospheric-scattering\n    float mu = dot(pVrt, pSun);\n    float mumu = mu * mu;\n    float pol2 = polarity * polarity;\n    // https://www.scratchapixel.com/lessons/procedural-generation-virtual-worlds/simulating-sky/simulating-colors-of-the-sky\n    // Solid angle 0.1:\n    float pRlh = 3.0 / (16.0 * PI) * (1.0 + mumu);\n    // TODO: add sr term to (8.0 * PI * sr), maybe steradian (solid angle) of sun?\n    // https://github.com/ebruneton/precomputed_atmospheric_scattering/blob/master/atmosphere/definitions.glsl#L209\n    // TODO: test addition of abs inside base of pow (seen in Unity port)\n    // TODO: Terrell and scratchpixel put (2.0 + pol2) in demoninator, Bruneton in numerator.\n    // https://github.com/ebruneton/precomputed_atmospheric_scattering/blob/master/atmosphere/functions.glsl#L746\n    float InverseSolidAngle = 3.0 / (8.0 * PI) * ((1.0 - pol2) * (1.0 + mumu));\n    float pMie = InverseSolidAngle * (2.0 + pol2)\n      / pow(1.0 + pol2 - 2.0 * polarity * mu, 1.5);\n\n    // Sample the primary ray.\n    for (int i = 0; i < iSteps; i++) {\n\n        // Calculate the primary ray sample position.\n        vec3 iPos = pEye + pVrt * (iTime + iStepSize * 0.5);\n\n        // Calculate the height of the sample.\n        float iHeight = length(iPos) - rPlanet;\n\n        // Calculate the optical depth of the Rayleigh and Mie scattering for this step.\n        float odStepRlh = exp(-iHeight / shRlh) * iStepSize;\n        float odStepMie = exp(-iHeight / shMie) * iStepSize;\n\n        // Accumulate optical depth.\n        iOdRlh += odStepRlh;\n        iOdMie += odStepMie;\n\n        // Calculate the step size of the secondary ray.\n        float jStepSize = rsi(iPos, pSun, rAtmos).y / float(jSteps);\n\n        // Initialize the secondary ray time.\n        float jTime = 0.0;\n\n        // Initialize optical depth accumulators for the secondary ray.\n        float jOdRlh = 0.0;\n        float jOdMie = 0.0;\n\n        // Sample the secondary ray.\n        for (int j = 0; j < jSteps; j++) {\n\n            // Calculate the secondary ray sample position.\n            vec3 jPos = iPos + pSun * (jTime + jStepSize * 0.5);\n\n            // Calculate the height of the sample.\n            float jHeight = length(jPos) - rPlanet;\n\n            // Accumulate the optical depth.\n            jOdRlh += exp(-jHeight / shRlh) * jStepSize;\n            jOdMie += exp(-jHeight / shMie) * jStepSize;\n\n            // Increment the secondary ray time.\n            jTime += jStepSize;\n        }\n\n        // Calculate attenuation.\n        vec3 attn = exp(-(kMie * (iOdMie + jOdMie) + kRlh * (iOdRlh + jOdRlh)));\n\n        // Accumulate scattering.\n        totalRlh += odStepRlh * attn;\n        totalMie += odStepMie * attn;\n\n        // Increment the primary ray time.\n        iTime += iStepSize;\n\n    }\n\n    // Calculate and return the final color.\n    return iSun * (pRlh * kRlh * totalRlh + pMie * kMie * totalMie);\n}\n\nconst float kLengthUnitInMeters = 1.;\nconst vec3 kSphereCenter = vec3(0.0, 0.0, 0) / kLengthUnitInMeters;\n\nvoid main() {\n  vec3 color = atmosphere(\n      vPosition, uEyePos,\n      uSunPos, uSunIntensity,\n      uGroundElevation, uGroundElevation + uAtmosphereHeight,\n      uRayleighScatteringCoeff, uRayleighScaleHeight,\n      uMieScatteringCoeff, uMieScaleHeight, uMiePolarity);\n  // Apply exposure.\n  color = 1.0 - exp(-1.0 * color);\n  gl_FragColor = vec4(color, 1);\n}\n";var Mt=j(te());function pf(){return Ow.default.useEffect(()=>{jP()}),(0,Mt.jsxs)(Mt.Fragment,{children:[(0,Mt.jsx)("h1",{children:"Atmosphere"}),(0,Mt.jsx)("div",{id:ie}),(0,Mt.jsx)("p",{children:(0,Mt.jsx)("em",{children:"Work in progress."})}),(0,Mt.jsxs)("p",{children:["Using ",(0,Mt.jsx)("a",{target:"_new",href:"https://github.com/wwwtyro/glsl-atmosphere",children:"Rye Terrell's atmosphere shaders"})," with some physical constants and equation corrections adopted from ",(0,Mt.jsx)("a",{href:"bruneton-atmos/index.html",children:"my attempt to integrate Eric Bruneton's shaders"}),". See ",(0,Mt.jsx)("a",{href:"https://github.com/celestiary/web/blob/master/howto/atmosphere.html",children:"source"})," for extended notes on physical parameters."]}),(0,Mt.jsx)("p",{children:"Try zooming out (mouse scroll or pad push) to see the change in eye height.  Currently working on parameterizing the sun position and camera look direction."}),(0,Mt.jsx)("div",{id:"control",style:{width:400,height:400}})]})}s(pf,"Atmosphere");function jP(){let r=new Ui(2,22,6371e3,6e4,58e-7,135e-7,331e-7,8e3,21e-6,1200,.8),e=new ms(Nt("control"),r),t=new Me(ie);t.camera.position.z=10;let i=new It,u=1e7;i.position.set(u,0,u),t.scene.add(i),t.scene.add(new gn(1.1)),t.scene.add(new vs(r));let p=s(()=>{let h=t.camera.position.clone();h.applyMatrix4(t.camera.matrixWorld),r.EyeHeight=r.GroundElevation+h.z},"animation");t.setAnimation(p)}s(jP,"setup");var Aw=j(Se());var Lr=j(te());function df(){return(0,Aw.useEffect)(()=>IP(),[]),(0,Lr.jsxs)(Lr.Fragment,{children:[(0,Lr.jsx)("h1",{children:"A Simple Cube"}),(0,Lr.jsx)("div",{id:ie}),(0,Lr.jsx)("p",{children:"To start with, a simple scene is defined with an object and controls.  Try rotating the cube with your mouse.  A scroll up or down gesture or mouse-wheel will zoom.  Double-button drag will pan."})]})}s(df,"Cube");function IP(){let r=new Me(ie);r.camera.position.set(1,2,3);let e=new It(16777215,10,0);e.position.set(3,4,5),r.scene.add(e),r.scene.add(new gn),r.scene.add(Ig(1,1,1,{color:16777215,toneMapped:!1}))}s(IP,"setup");var Dw=j(Se());var Or=j(te());function hf(){return(0,Dw.useEffect)(()=>NP(),[]),(0,Or.jsxs)(Or.Fragment,{children:[(0,Or.jsx)("h1",{children:"A Sphere"}),(0,Or.jsx)("div",{id:ie}),(0,Or.jsx)("p",{children:"Or is it a fully operational battlestation?!"})]})}s(hf,"Sphere");function NP(){let r=new Me(ie);r.camera.position.set(1,2,3);let e=new It(16777215,1,0);e.position.set(3,4,5),r.scene.add(e);let t=1,i=50,u=new gg({color:16711680,wireframe:!0,toneMapped:!1});r.scene.add(Vo({radius:t,resolution:i,matr:u}))}s(NP,"setup");var aa=j(Se());var ff=class ff extends No{constructor(e){super();let t=new Float32Array(e*3),i=new Float32Array(e*3),u=new Float32Array(e*3),p=new Float32Array(e);this.setAttribute("position",new $r(t,3)),this.setAttribute("mass",new $r(p,1)),this.setAttribute("velocity",new $r(u,3)),this.setAttribute("color",new $r(i,3)),this.computeBoundingSphere()}};s(ff,"GalaxyBufferGeometry");var gs=ff;function zw(r,e,t,i,u=1){let p=u*.5,h=u*u*.5,f=new Array(i.length),w=new Array(i.length);for(let b=0;b<r.length;b+=3){let m=b,v=b+1,_=b+2;r[m]+=e[m]*u+t[m]*h,r[v]+=e[v]*u+t[v]*h,r[_]+=e[_]*u+t[_]*h;let k=Math.floor(m/3);f[k]=e[m]}VP(r,e,t,i);for(let b=0;b<r.length;b+=3){let m=b,v=b+1,_=b+2;e[m]+=t[m]*p,e[v]+=t[v]*p,e[_]+=t[_]*p;let k=Math.floor(m/3);w[k]=e[m]}}s(zw,"step");function VP(r,e,t,i){let u,p,h;for(let f=0;f<r.length;f+=3){let w=f,b=f+1,m=f+2,v=r[w],_=r[b],k=r[m],A=1e-10*i[f/3];u=0,p=0,h=0;for(let M=0;M<f;M+=3){let E=M,T=M+1,D=M+2,K=r[E],B=r[T],I=r[D],Q=i[M/3],$=K-v,U=B-_,V=I-k,O=Math.max(Math.sqrt($*$+U*U+V*V),.1);$=$/O,U=U/O,V=V/O;let se=A*Q/(O*O),we=se*$,rt=se*U,be=se*V;u+=we,p+=rt,h+=be,t[E]-=we,t[T]-=rt,t[D]-=be}t[w]+=u,t[b]+=p,t[m]+=h}}s(VP,"updateAccelerations");var BP=2*Math.PI,mf=class mf extends xg{constructor({numStars:e=2,radius:t=10}={}){super(new gs(e),new Ol({uniforms:{texSampler:{value:zg("star_glow",".png")}},vertexShader:UP,fragmentShader:GP,blending:Tl,depthTest:!0,depthWrite:!1,transparent:!0})),this.numStars=e,this.radius=t,this.pos=this.geometry.attributes.position.array,this.vel=this.geometry.attributes.velocity.array,this.mass=this.geometry.attributes.mass.array,this.colors=this.geometry.attributes.color.array,this.acc=new Float32Array(this.vel.length),this.first=!0,e===2?this.initSimple():(this.initSpirals(),this.initOrbits())}animate(e=1,t=!1){zw(this.pos,this.vel,this.acc,this.mass),this.geometry.attributes.position.needsUpdate=!0}initSimple(){let e=1e-10*1e7;console.log("SPEED: ",e),this.mass[0]=100,this.colors[0]=this.colors[1]=this.colors[2]=1,this.vel[2]=e,this.pos[3]=1,this.mass[1]=100,this.colors[3]=1,this.vel[5]=-e;let t=new gn;t.position.set(1,0,0),this.add(t)}initSpirals(){this.mass[0]=1e3;let e=5,t=.7,i=.5;for(let u=0;u<this.numStars;u++){let p=3*u,h=p,f=p+1,w=p+2,b=Math.random()*BP,m=Math.random()*this.radius;this.pos[h]=m*Math.cos(b),this.pos[f]=this.radius/100*(Math.random()-.5),this.pos[w]=m*Math.sin(b),this.colors[h]=1-i+i*Math.random(),this.colors[f]=1-i+i*Math.random(),this.colors[w]=1-i+i*Math.random(),this.mass[u]=10*(1-t+t*Math.cos(b*e))}}initOrbits(){for(let e=1;e<this.numStars;e++){let t=3*e,i=t,u=t+2,p=this.pos[i],h=this.pos[u],f=0;this.vel[i]=-h*f,this.vel[u]=p*f}}};s(mf,"Galaxy");var ws=mf,UP="\n  attribute float mass;\n  attribute vec3 color;\n  varying vec3 vColor;\n  void main() {\n    vColor = color;\n    vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n    gl_PointSize = mass * 80. / -mvPosition.z;\n    gl_Position = projectionMatrix * mvPosition;\n  }\n",GP="\n// https://gamedev.stackexchange.com/questions/138384/how-do-i-avoid-using-the-wrong-texture2d-function-in-glsl\n#if __VERSION__ < 130\n#define TEXTURE2D texture2D\n#else\n#define TEXTURE2D texture\n#endif\n  uniform sampler2D texSampler;\n  varying vec3 vColor;\n  void main() {\n    gl_FragColor = vec4(vColor, 1.) * TEXTURE2D(texSampler, gl_PointCoord);\n  }\n";var bt=j(te());function vf(){let[r,e]=(0,aa.useState)(null);return(0,aa.useEffect)(()=>KP({setKeys:e}),[]),(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)("h1",{children:"Galaxy"}),(0,bt.jsx)("div",{id:ie}),(0,bt.jsx)("div",{id:"info"}),"Gravity particle system.  Work in progress.",(0,bt.jsxs)("div",{style:{width:"50%",margin:"1em auto",align:"center"},children:[(0,bt.jsx)("button",{id:"step",children:"Step"}),(0,bt.jsx)("button",{id:"play",children:"Play"})]}),r&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(Ie,{href:"/settings",children:"Help"}),(0,bt.jsx)(Xe,{path:"/settings",children:(0,bt.jsx)(Zg,{keys:r,href:""})})]})]})}s(vf,"Galaxy");function KP({setKeys:r}){let e=Nt(ie),t=new Me(e);t.camera.position.z=10,t.camera.position.y=3;let i=new ws({numStars:500});t.scene.add(i),t.scene.add(new gn);let u;{let _=new eo(i.numStars,"".concat(i.numStars),"13px arial",[0,.1]);for(let k=0;k<_.maxLabels;k++)_.add(0,0,0,"".concat(k));u=_.compile(i.geometry.getAttribute("position")),u.visible=!1,t.scene.add(u)}let p=new Xo({container:e,expanded:!0,title:"Performance"}),h={time:0,fps:0};p.addBinding(h,"time",{label:"render (ms)",min:0,max:100}),p.addBinding(h,"fps",{label:"fps",min:0,max:100}),p.addBinding(h,"fps",{label:"",view:"graph",min:0,max:1e3});let f=!1,w=s(()=>{h.time=new Date().getTime(),i.animate(f),h.time=new Date().getTime()-h.time,h.fps=1e3/h.time},"anim"),b=Nt("play");function m(){t.animationCb?(t.animationCb=null,b.innerText="Play",f=!0):(t.animationCb=w,b.innerText="Pause",f=!1)}s(m,"togglePlay"),Nt("step").onclick=w,b.onclick=m;let v=new jl;v.map(" ",()=>{m()},"Toggle play/pause"),u&&v.map("l",()=>{u.visible=!u.visible},"Toggle label display"),r(v)}s(KP,"setup");var jw=j(Se());var Ar=j(te());function gf(){return(0,jw.useEffect)(()=>WP(),[]),(0,Ar.jsxs)(Ar.Fragment,{children:[(0,Ar.jsx)("h1",{children:"A Grid"}),(0,Ar.jsx)("div",{id:ie}),(0,Ar.jsx)("p",{children:"Try zooming out and rotating."})]})}s(gf,"Grid");function WP(){let r=new Me(ie);r.camera.position.z=10;let e=Fg();e.material.color.setRGB(0,0,1),e.material.transparent=!0,r.scene.add(e)}s(WP,"setup");var Iw=j(Se());var Dr=j(te());function wf(){return(0,Iw.useEffect)(()=>YP(),[]),(0,Dr.jsxs)(Dr.Fragment,{children:[(0,Dr.jsx)("h1",{children:"Sprite Sheet Labels"}),(0,Dr.jsx)("div",{id:ie}),(0,Dr.jsx)("p",{children:"To allow for more labels in the scene, a single sprite sheet is used, with a GL shader configured with custom offsets into the sheet for each object."})]})}s(wf,"Labels");function YP(){let r=new Me(ie),e=jg();e.position.z=-3,r.scene.add(e);let t=new It;t.position.set(10,10,10),r.scene.add(t);let i="item-",u=1e4;r.camera.position.set(0,0,10);let p=new eo(u,i+u,"medium arial"),h=Math.ceil(Math.sqrt(u)),f=h/-2+.5,w=h/-2+.5;e:for(let b=0;b<h;b++)for(let m=0;m<h;m++){let v=b*h+m;if(v>=u)break e;p.add(f+b,w+m,0,i+v)}r.scene.add(p.compile())}s(YP,"setup");var Nw=j(Se());var rr=j(te());function bf(){let[r]=Io();return(0,Nw.useEffect)(()=>{qP(r.substr(1)||"sun/earth/moon")},[r]),(0,rr.jsxs)(rr.Fragment,{children:[(0,rr.jsx)("h1",{children:"Loader"}),(0,rr.jsx)("p",{children:"The loader fetches a json object at a path, e.g. 'sun/earth/moon'. Each path part is passed to an onLoad callback, and an onDone callback is called after the final object is loaded."}),(0,rr.jsx)("p",{children:"Here is the loaded Moon object, displayed with the collapsor.js utility:"}),(0,rr.jsx)("div",{id:"done-id"})]})}s(bf,"Loader");function qP(r){let e=s((i,u)=>{},"onLoadCb"),t=s((i,u)=>{let p=Nt("done-id");p.innerHTML=JSON.stringify(u).replace(/{/g,"<ul><li>").replace(/}/g,"</li></ul>").replace(/\[/g,"<ol><li>").replace(/\]/g,"</li></ol>").replace(/,/g,"</li><li>").replace(/<li><\/li>/g,""),window.collapse=Lg,Tg(p)},"onDoneCb");new Fi().loadPath(r,e,t)}s(qP,"setup");var Vw=j(Se());var tt=j(te());function yf(){return(0,Vw.useEffect)(()=>{QP()},[]),(0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsx)("h1",{children:"Measure"}),(0,tt.jsxs)("p",{children:["Working with astronomical data will quickly break ur brain if you don't have an easy way to work with units and mangitudes. I wrote the ",(0,tt.jsx)("a",{href:"https://github.com/pablo-mayrgundter/measure.js",children:"measure.js"})," library to help with this."]}),(0,tt.jsx)("table",{cellPadding:"5em",cellSpacing:"5",children:(0,tt.jsxs)("tbody",{children:[(0,tt.jsxs)("tr",{children:[(0,tt.jsx)("th",{children:"Data string"}),(0,tt.jsx)("th",{children:"Parsed Measure toString"}),(0,tt.jsx)("th",{children:"toKilo"})]}),(0,tt.jsx)("tr",{children:(0,tt.jsx)("td",{id:"mass1",children:"1.9891E33 g"})}),(0,tt.jsx)("tr",{children:(0,tt.jsx)("td",{id:"mass2",children:"1.9891E33 kg"})}),(0,tt.jsx)("tr",{children:(0,tt.jsx)("td",{id:"radius",children:"6.9424895E8 m"})})]})})]})}s(yf,"Measure");function QP(){let r=s(e=>{let t=e.innerHTML,i=Qu.parse(e.innerHTML),u=i.convertTo(Qu.Magnitude.KILO),p=e.parentNode;p.appendChild(Yu("td",i)),p.appendChild(Yu("td",u))},"parse");r(Nt("mass1")),r(Nt("mass2")),r(Nt("radius"))}s(QP,"setup");var Fw=j(Se());var _f=class _f extends Jr{constructor(e,t){super(),this.opts={font:t&&t.font?t.font:eo.defaultFont,fillStyle:t&&t.fillStyle?t.fillStyle:"white"};let i=new eo(1,e,this.opts.font,[0,0]);i.add(0,0,0,e,this.opts.fillStyle),this.add(i.compile())}};s(_f,"Label");var bs=_f;var xf=class xf extends Jr{constructor(e){super(),this.props=e,this.propsReified={siderealOrbitPeriod:e.siderealOrbitPeriod.scalar,ecc:e.eccentricity,inc:e.inclination*Pr,loan:e.longitudeOfAscendingNode*Pr,lop:e.longitudeOfPericenter*Pr,meanLon:e.meanLongitude*Pr,radius:e.semiMajorAxis.scalar},this.init(this.propsReified)}init(e){let t=ua(this,"referencePlane");t.rotation.x=-Math.PI/2;let i=ua(t,"eclipticPlane");i.rotation.z=e.loan;let u=ua(i,"orbitalPlane");u.rotation.x=e.inc;let p=ua(u,"periPlane");p.rotation.z=e.lop,this.orbiterCenter=p}addOrbiter(e){this.orbiterCenter.add(e)}};s(xf,"Orbit");var ys=xf;function ua(r,e){let t=Rg(new Jr,e);return r.add(t),t}s(ua,"addFrame");function ca(r,e){let t=s(h=>{let f=new Jr;return f.name=h,f},"createNamedObject"),i={newObject:t,newGroup:t,orbitShapes:[]},u=s((h,f)=>{},"onLoadCb"),p=s((h,f)=>{Ju(f),e(new Zu(i,f,!1,!0))},"onDoneCb");new Fi().loadPath(r,u,p)}s(ca,"planetHelper");var Ye=j(te());function Pf(){return(0,Fw.useEffect)(()=>XP(),[]),(0,Ye.jsxs)(Ye.Fragment,{children:[(0,Ye.jsx)("h1",{children:"Orbit"}),(0,Ye.jsx)("div",{id:ie}),(0,Ye.jsxs)("p",{children:["An example orbit.",(0,Ye.jsx)("br",{}),(0,Ye.jsx)("a",{href:"https://en.wikipedia.org/wiki/Orbital_elements",children:"https://en.wikipedia.org/wiki/Orbital_elements"}),(0,Ye.jsx)("br",{}),(0,Ye.jsx)("img",{src:"/images/Orbit1.png",style:{width:"400px"},alt:"By Lasunncty at the English Wikipedia, CC BY-SA 3.0, https://commons.wikimedia.org/w/index.php?curid=8971052"})]}),(0,Ye.jsx)("table",{style:{width:"20%",verticalAlign:"top"},children:(0,Ye.jsx)("tbody",{children:(0,Ye.jsxs)("tr",{children:[(0,Ye.jsx)("td",{children:(0,Ye.jsx)("table",{id:"faves"})}),(0,Ye.jsx)("td",{style:{width:"80%"},children:(0,Ye.jsx)("form",{name:"elts",children:(0,Ye.jsx)("table",{id:"propsTable"})})})]})})}),(0,Ye.jsxs)("em",{style:{fontSize:"small"},children:["(",(0,Ye.jsx)("a",{href:"#test",children:"emulate image above"})," and refresh)"]})]})}s(Pf,"Orbit");function XP(){let r=new Me(ie);r.camera.position.set(1,1,3),r.scene.add(new It(16777215,1e6,0));function e(h){let f=Math.PI*2,w=360,b={siderealOrbitPeriod:78184256184e-1,eccentricity:1,inclination:w,longitudeOfAscendingNode:w,longitudeOfPericenter:w,meanLongitude:w,semiMajorAxis:586966e7};document.onSlider=(m,v,_)=>{let k=m.value/100*b[v];h[v]=document.forms.elts[v].value=k,u(h)},document.onInput=(m,v,_)=>{h[v]=m.value,document.forms.elts[v+"-slider"].value=m.value/b[v]*100,u(h)},propsTable.innerHTML="";for(let m in b){let v=b[m],_=document.getElementById("propsTable"),k=h[m],L=k/v*100;_.innerHTML+="<tr>\n           <td>".concat(m,':\n           <td><input type="range" min="0" max="100" name="').concat(m,'-slider" value="').concat(L,'"\n                  oninput="document.onSlider(this, \'').concat(m,'\')"/>\n           <td><input name="').concat(m,'" value="').concat(k,'" oninput="document.onInput(this, \'').concat(m,"')\"/>\n         </tr>")}}s(e,"setupProps");let t,i;function u(h){let f=new ys(h);Wu(f,"name","referencePlane",w=>{let b={text:"\u03A9 Longitude of ascending node",color:"green",padding:[-.5,-.5]};w.add(Vg(new he(1.1,0,0),new he,16711680,"\u2648\uFE0EReference direction")),w.add(Fo(f.propsReified.loan,null,b,b))}),Wu(f,"name","orbitalPlane",w=>{let b={text:"\u03C9 Argument of periapsis",color:"blue",padding:[-.5,-.5]},m=f.propsReified.lop,v=Ng(1,0,0,{color:"blue"});v.rotation.z=m,w.add(v),w.add(Fo(m,null,b,b));let _=new bs("\u260A Ascending node",{fillStyle:"green"});_.position.set(1,0,0),_.rotation.z=f.propsReified.loan,w.add(_)}),t&&r.scene.remove(t),t=f,r.scene.add(t),i&&t.addOrbiter(i)}if(s(u,"show"),location.hash=="#test"){let h={siderealOrbitPeriod:0,eccentricity:1,inclination:30,longitudeOfAscendingNode:300,longitudeOfPericenter:110,meanLongitude:0,semiMajorAxis:{scalar:1}};e(h),u(h),document.orbit=h}else ca("earth",h=>{e(h.props.orbit),u(h.props.orbit),i=h,i.orbit=t,i.scale.setScalar(1e-8),t.addOrbiter(i),console.log("planet setup done",i)});let p=s(()=>{let h=Date.now()*1e3;if(i!=null){if(i.siderealRotationPeriod){let f=1.5*Math.PI+h/86400*qu;i.setRotationFromAxisAngle(this.Y_AXIS,f)}if(i.orbit){let f=i.orbit.props,w=1,b=w*Math.sqrt(1-Math.pow(f.eccentricity,2)),m=1*h/f.siderealOrbitPeriod.scalar*qu,v=w*Math.cos(m),_=b*Math.sin(m);i.position.set(v,_,0)}}},"anim");r.animationCb=p}s(XP,"setup");var aR=j(Se());var q=j(te());function Ef(){return(0,q.jsxs)(Vi,{sx:{m:"1em"},children:[(0,q.jsx)(Kg,{variant:"h4",children:"Guide"}),(0,q.jsx)("p",{children:(0,q.jsx)(Ie,{to:"~/",children:"\u2190 Back"})}),(0,q.jsxs)("ol",{children:[(0,q.jsx)("li",{children:(0,q.jsx)(Ie,{to:"/",children:"Welcome"})}),(0,q.jsxs)("li",{children:["Data",(0,q.jsxs)("ol",{children:[(0,q.jsx)("li",{children:(0,q.jsx)(Ie,{to:"/loader",children:"Loader"})}),(0,q.jsx)("li",{children:(0,q.jsx)(Ie,{to:"/measure",children:"Measure"})})]})]}),(0,q.jsxs)("li",{children:["Scene Objects",(0,q.jsx)("ol",{children:(0,q.jsxs)("li",{children:["Basic Shapes",(0,q.jsxs)("ul",{children:[(0,q.jsx)("li",{children:(0,q.jsx)(Ie,{to:"/sphere",children:"Sphere"})}),(0,q.jsx)("li",{children:(0,q.jsx)(Ie,{to:"/cube",children:"Lit Cube"})})]})]})})]}),(0,q.jsxs)("li",{children:["Decorators",(0,q.jsxs)("ul",{children:[(0,q.jsx)("li",{children:(0,q.jsx)(Ie,{to:"/grid",children:"Grid"})}),(0,q.jsx)("li",{children:(0,q.jsx)(Ie,{to:"/labels",children:"Labels"})}),(0,q.jsx)("li",{children:(0,q.jsx)(Ie,{to:"/angles",children:"Angles"})})]})]}),(0,q.jsxs)("li",{children:["Interaction",(0,q.jsx)("ul",{children:(0,q.jsx)("li",{children:(0,q.jsx)(Ie,{to:"/picking",children:"Picking"})})})]}),(0,q.jsxs)("li",{children:["Celestial Bodies",(0,q.jsxs)("ul",{children:[(0,q.jsx)("li",{children:(0,q.jsx)(Ie,{to:"/stars",children:"Stars"})}),(0,q.jsx)("li",{children:(0,q.jsx)(Ie,{to:"/star",children:"Star"})}),(0,q.jsx)("li",{children:(0,q.jsx)(Ie,{to:"/asterisms",children:"Asterisms"})}),(0,q.jsx)("li",{children:(0,q.jsx)(Ie,{to:"/planet",children:"Planet"})})]})]}),(0,q.jsx)("li",{children:(0,q.jsx)(Ie,{to:"/atmosphere",children:"Atmosphere"})}),(0,q.jsxs)("li",{children:["Celestial Mechanics",(0,q.jsxs)("ul",{children:[(0,q.jsx)("li",{children:(0,q.jsx)(Ie,{to:"/orbit",children:"Orbit"})}),(0,q.jsx)("li",{children:(0,q.jsx)(Ie,{to:"/vsop",children:"VSOP"})}),(0,q.jsx)("li",{children:(0,q.jsx)(Ie,{to:"/galaxy",children:"Gravity (galaxy)"})})]})]})]})]})}s(Ef,"TOC");var Hw=j(Se());var zr=j(te());function Sf(){return(0,Hw.useEffect)(()=>ZP(),[]),(0,zr.jsxs)(zr.Fragment,{children:[(0,zr.jsx)("h1",{children:"Picking"}),(0,zr.jsx)("div",{id:ie}),(0,zr.jsx)("p",{children:"Click on the sphere to change its colors."})]})}s(Sf,"Picking");function ZP(){let r=new Me(ie),e=new It;e.position.set(10,10,10),r.scene.add(e),r.scene.add(new Pg(8947848));let t=Vo(),i=Vo(),u=Vo();t.position.set(5,3,2),i.position.set(2,5,3),u.position.set(2,3,5),r.scene.add(t),r.scene.add(i),r.scene.add(u),r.camera.platform.position.z=10,r.camera.position.z=1,r.scene.updateMatrixWorld();let p=new he;p.setFromMatrixPosition(t.matrixWorld),r.camera.lookAt(p),r.controls.update(),r.controls.target=p;let h=new Al,f=[16711680,65280],w=0;document.body.addEventListener("dblclick",b=>{let m={};m.x=b.clientX/window.innerWidth*2-1,m.y=b.clientY/window.innerHeight*-2+1,h.setFromCamera(m,r.camera);let v=h.intersectObjects(r.scene.children,!0);console.log("click intersects: ",v);for(let _=0;_<v.length;_++)v[_].object.material.color.set(f[w]),w=(w+1)%2})}s(ZP,"setup");var ti=j(Se());var un=j(te());function Cf(){let[r,e]=(0,ti.useState)(null),[t,i]=(0,ti.useState)(null),[u]=Io();return(0,ti.useEffect)(()=>e(JP()),[]),(0,ti.useEffect)(()=>{if(r){console.log("hashLocation:",u);let p=(u==="/"?"#earth":u).substring(1);console.log("planetName:",p,u),$P(r,p,t,i)}},[u,r]),(0,un.jsxs)(un.Fragment,{children:[(0,un.jsx)("h1",{children:"Planet"}),(0,un.jsx)("div",{id:ie}),(0,un.jsx)("p",{children:"Use LOD to lazy-load texture.  Open your browser network trace and watch it as you zoom in."}),(0,un.jsx)("table",{id:"faves",children:(0,un.jsx)("tbody",{children:(0,un.jsx)("tr",{children:(0,un.jsx)("th",{children:"Name"})})})})]})}s(Cf,"Planet");function JP(){let r=["Mercury","Venus","Earth","Mars","Jupiter","Saturn","Uranus","Neptune","Pluto"],e=document.getElementById("faves");e.innerHTML="<tr><th>Planet</th></tr>",r.map(h=>{e.innerHTML+='<tr>\n            <td><a href="#'.concat(h.toLowerCase(),'">').concat(h,"</a></td>\n          </tr>")});let t=new Me(ie);t.configLargeScene();let i=37e27,u=new It(16777215,i,0),p=Dl;return u.position.set(-p,p,p),t.scene.add(u),t}s(JP,"setup");function $P(r,e,t,i){ca(e,u=>{t&&r.scene.remove(t);let p=u.props.radius.scalar;r.camera.position.z=u.initialCameraDistance,r.scene.add(u),i(u),r.animationCb=()=>{u.rotation.y+=.001}})}s($P,"showPlanet");var eE=j(Se());var kf=j(te());var fo=j(Se());var Ge=j(te());function Rf(){let[r,e]=(0,fo.useState)(null),[t,i]=(0,fo.useState)(null),[u,p]=(0,fo.useState)(null),[h]=Io();return(0,fo.useEffect)(()=>e(tE(p)),[]),(0,fo.useEffect)(()=>{if(r&&u){let f=h.substr(1),w=new Ug;nE(r,f,t,i,u,w)}},[u,h,r,i]),(0,Ge.jsxs)(Ge.Fragment,{children:[(0,Ge.jsx)("h1",{children:"Star"}),(0,Ge.jsx)("div",{id:ie}),(0,Ge.jsxs)("p",{children:["See ",(0,Ge.jsx)("a",{href:"https://www.seedofandromeda.com/blogs/51-procedural-star-rendering",children:"Seed of Andromeda"})," for a nice overall approach."]}),(0,Ge.jsxs)("p",{children:["Borrowed heavily from code ",(0,Ge.jsx)("a",{href:"https://bpodgursky.com/2017/02/01/procedural-star-rendering-with-three-js-and-webgl-shaders/",children:"here"}),"."]}),(0,Ge.jsx)("p",{children:"Added differential color range based on distance.  This makes the star appear white from far away and reveal surface structure as false-color on closer approach."}),(0,Ge.jsx)("table",{id:"faves",children:(0,Ge.jsxs)("tbody",{children:[(0,Ge.jsxs)("tr",{children:[(0,Ge.jsx)("th",{children:"Star"}),(0,Ge.jsx)("th",{children:"Spectral Type"}),(0,Ge.jsx)("th",{children:"Hip ID"})]}),u&&Array.from(Xu.keys()).map(f=>{let w=Xu.get(f),b=u.starByHip.get(f),m=Ag[b.spectralType][3];return(0,Ge.jsxs)("tr",{children:[(0,Ge.jsx)("td",{children:(0,Ge.jsx)("a",{href:"#".concat(w),children:w})}),(0,Ge.jsx)("td",{children:m}),(0,Ge.jsx)("td",{children:f})]},"".concat(f))})]})})]})}s(Rf,"Star");function tE(r){let e=new Me(ie);e.configLargeScene();let t=new zl;return t.load(()=>r(t)),e}s(tE,"setup");function nE(r,e,t,i,u,p){e=e.replaceAll(/%20/g," ");let h=u.hipByName.get(e);if(h===void 0){console.error("Cannot find star(".concat(e,") in "),u);return}let f=rE(r,u,parseInt(h),t,i);r.camera.position.z=f.initialCameraDistance,r.animationCb=()=>{p.updateTime();try{f.preAnimCb(p)}catch(w){throw console.error(w),new Error("preanim star: ".concat(f))}}}s(nE,"showStar");function rE(r,e,t,i,u){i&&r.scene.remove(i);let p=e.starByHip.get(t);p.x=p.y=p.z=0,p.radius={scalar:p.radius};let h=new Bg(p,{},r);return r.scene.add(h),u(h),h}s(rE,"addStarToScene");var Bw=j(Se());var jr=j(te());function Mf(){return(0,Bw.useEffect)(()=>oE(),[]),(0,jr.jsxs)(jr.Fragment,{children:[(0,jr.jsx)("h1",{children:"Stars"}),(0,jr.jsx)("div",{id:ie}),(0,jr.jsx)("p",{children:"The star catalog uses Celestia's star.dat database"})]})}s(Mf,"Stars");function oE(){let r=new Me(ie);r.configLargeScene(),r.camera.position.z=Dl,r.useStore={setState:s(()=>{},"setState"),subscribe:s(()=>{},"subscribe")};let e={radius:{scalar:Og().radius}},t=new Hi(e,r,!0);r.scene.add(t)}s(oE,"setup");var or=j(Se());function ni(){return ni=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},ni.apply(null,arguments)}s(ni,"_extends");var ge=j(Se()),Wb=j(l_());var nt=j(Se()),In=j(Tf());var Tt=j(Se());function iE(r){let e,t=new Set,i=s((b,m)=>{let v=typeof b=="function"?b(e):b;if(v!==e){let _=e;e=m?v:Object.assign({},e,v),t.forEach(k=>k(e,_))}},"setState"),u=s(()=>e,"getState"),p=s((b,m=u,v=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let _=m(e);function k(){let L=m(e);if(!v(_,L)){let A=_;b(_=L,A)}}return s(k,"listenerToAdd"),t.add(k),()=>t.delete(k)},"subscribeWithSelector"),w={setState:i,getState:u,subscribe:s((b,m,v)=>m||v?p(b,m,v):(t.add(b),()=>t.delete(b)),"subscribe"),destroy:s(()=>t.clear(),"destroy")};return e=r(i,u,w),w}s(iE,"createStore");var sE=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Kw=sE?Tt.useEffect:Tt.useLayoutEffect;function Ww(r){let e=typeof r=="function"?iE(r):r,t=s((i=e.getState,u=Object.is)=>{let[,p]=(0,Tt.useReducer)(M=>M+1,0),h=e.getState(),f=(0,Tt.useRef)(h),w=(0,Tt.useRef)(i),b=(0,Tt.useRef)(u),m=(0,Tt.useRef)(!1),v=(0,Tt.useRef)();v.current===void 0&&(v.current=i(h));let _,k=!1;(f.current!==h||w.current!==i||b.current!==u||m.current)&&(_=i(h),k=!u(v.current,_)),Kw(()=>{k&&(v.current=_),f.current=h,w.current=i,b.current=u,m.current=!1});let L=(0,Tt.useRef)(h);Kw(()=>{let M=s(()=>{try{let T=e.getState(),D=w.current(T);b.current(v.current,D)||(f.current=T,v.current=D,p())}catch(T){m.current=!0,p()}},"listener"),E=e.subscribe(M);return e.getState()!==L.current&&M(),E},[]);let A=k?_:v.current;return(0,Tt.useDebugValue)(A),A},"useStore");return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");let i=[t,e];return{next(){let u=i.length<=0;return{value:i.shift(),done:u}}}},t}s(Ww,"create");var lE=s(r=>typeof r=="object"&&typeof r.then=="function","isPromise"),vo=[];function Yw(r,e,t=(i,u)=>i===u){if(r===e)return!0;if(!r||!e)return!1;let i=r.length;if(e.length!==i)return!1;for(let u=0;u<i;u++)if(!t(r[u],e[u]))return!1;return!0}s(Yw,"shallowEqualArrays");function qw(r,e=null,t=!1,i={}){e===null&&(e=[r]);for(let p of vo)if(Yw(e,p.keys,p.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(p,"error"))throw p.error;if(Object.prototype.hasOwnProperty.call(p,"response"))return i.lifespan&&i.lifespan>0&&(p.timeout&&clearTimeout(p.timeout),p.timeout=setTimeout(p.remove,i.lifespan)),p.response;if(!t)throw p.promise}let u={keys:e,equal:i.equal,remove:s(()=>{let p=vo.indexOf(u);p!==-1&&vo.splice(p,1)},"remove"),promise:(lE(r)?r:r(...e)).then(p=>{u.response=p,i.lifespan&&i.lifespan>0&&(u.timeout=setTimeout(u.remove,i.lifespan))}).catch(p=>u.error=p)};if(vo.push(u),!t)throw u.promise}s(qw,"query");var Qw=s((r,e,t)=>qw(r,e,!1,t),"suspend"),Xw=s((r,e,t)=>void qw(r,e,!0,t),"preload");var Zw=s(r=>{if(r===void 0||r.length===0)vo.splice(0,vo.length);else{let e=vo.find(t=>Yw(r,t.keys,t.equal));e&&e.remove()}},"clear");var ya=j(te()),wb=j(Ff()),_a=j(va());var $f={},em=s(r=>void Object.assign($f,r),"extend");function uE(r,e){function t(m,{args:v=[],attach:_,...k},L){let A="".concat(m[0].toUpperCase()).concat(m.slice(1)),M;if(m==="primitive"){if(k.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");let E=k.object;M=ii(E,{type:m,root:L,attach:_,primitive:!0})}else{let E=$f[A];if(!E)throw new Error("R3F: ".concat(A," is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively"));if(!Array.isArray(v))throw new Error("R3F: The args prop must be an array!");M=ii(new E(...v),{type:m,root:L,attach:_,memoizedProps:{args:v}})}return M.__r3f.attach===void 0&&(M instanceof No?M.__r3f.attach="geometry":M instanceof vg&&(M.__r3f.attach="material")),A!=="inject"&&Uf(M,k),M}s(t,"createInstance");function i(m,v){let _=!1;if(v){var k,L;(k=v.__r3f)!=null&&k.attach?Bf(m,v,v.__r3f.attach):v.isObject3D&&m.isObject3D&&(m.add(v),_=!0),_||(L=m.__r3f)==null||L.objects.push(v),v.__r3f||ii(v,{}),v.__r3f.parent=m,Xf(v),si(v)}}s(i,"appendChild");function u(m,v,_){let k=!1;if(v){var L,A;if((L=v.__r3f)!=null&&L.attach)Bf(m,v,v.__r3f.attach);else if(v.isObject3D&&m.isObject3D){v.parent=m,v.dispatchEvent({type:"added"}),m.dispatchEvent({type:"childadded",child:v});let M=m.children.filter(T=>T!==v),E=M.indexOf(_);m.children=[...M.slice(0,E),v,...M.slice(E)],k=!0}k||(A=m.__r3f)==null||A.objects.push(v),v.__r3f||ii(v,{}),v.__r3f.parent=m,Xf(v),si(v)}}s(u,"insertBefore");function p(m,v,_=!1){m&&[...m].forEach(k=>h(v,k,_))}s(p,"removeRecursive");function h(m,v,_){if(v){var k,L,A;if(v.__r3f&&(v.__r3f.parent=null),(k=m.__r3f)!=null&&k.objects&&(m.__r3f.objects=m.__r3f.objects.filter(K=>K!==v)),(L=v.__r3f)!=null&&L.attach)vb(m,v,v.__r3f.attach);else if(v.isObject3D&&m.isObject3D){var M;m.remove(v),(M=v.__r3f)!=null&&M.root&&fE(ba(v),v)}let T=(A=v.__r3f)==null?void 0:A.primitive,D=!T&&(_===void 0?v.dispose!==null:_);if(!T){var E;p((E=v.__r3f)==null?void 0:E.objects,v,D),p(v.children,v,D)}if(delete v.__r3f,D&&v.dispose&&v.type!=="Scene"){let K=s(()=>{try{v.dispose()}catch(B){}},"callback");typeof IS_REACT_ACT_ENVIRONMENT>"u"?(0,_a.unstable_scheduleCallback)(_a.unstable_IdlePriority,K):K()}si(m)}}s(h,"removeChild");function f(m,v,_,k){var L;let A=(L=m.__r3f)==null?void 0:L.parent;if(!A)return;let M=t(v,_,m.__r3f.root);if(m.children){for(let E of m.children)E.__r3f&&i(M,E);m.children=m.children.filter(E=>!E.__r3f)}m.__r3f.objects.forEach(E=>i(M,E)),m.__r3f.objects=[],m.__r3f.autoRemovedBeforeAppend||h(A,m),M.parent&&(M.__r3f.autoRemovedBeforeAppend=!0),i(A,M),M.raycast&&M.__r3f.eventCount&&ba(M).getState().internal.interaction.push(M),[k,k.alternate].forEach(E=>{E!==null&&(E.stateNode=M,E.ref&&(typeof E.ref=="function"?E.ref(M):E.ref.current=M))})}s(f,"switchInstance");let w=s(()=>{},"handleTextInstance");return{reconciler:(0,wb.default)({createInstance:t,removeChild:h,appendChild:i,appendInitialChild:i,insertBefore:u,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:s((m,v)=>{if(!v)return;let _=m.getState().scene;_.__r3f&&(_.__r3f.root=m,i(_,v))},"appendChildToContainer"),removeChildFromContainer:s((m,v)=>{v&&h(m.getState().scene,v)},"removeChildFromContainer"),insertInContainerBefore:s((m,v,_)=>{if(!v||!_)return;let k=m.getState().scene;k.__r3f&&u(k,v,_)},"insertInContainerBefore"),getRootHostContext:s(()=>null,"getRootHostContext"),getChildHostContext:s(m=>m,"getChildHostContext"),finalizeInitialChildren(m){var v;return!!((v=m==null?void 0:m.__r3f)!=null?v:{}).handlers},prepareUpdate(m,v,_,k){var L;if(((L=m==null?void 0:m.__r3f)!=null?L:{}).primitive&&k.object&&k.object!==m)return[!0];{let{args:M=[],children:E,...T}=k,{args:D=[],children:K,...B}=_;if(!Array.isArray(M))throw new Error("R3F: the args prop must be an array!");if(M.some((Q,$)=>Q!==D[$]))return[!0];let I=kb(m,T,B,!0);return I.changes.length?[!1,I]:null}},commitUpdate(m,[v,_],k,L,A,M){v?f(m,k,A,M):Uf(m,_)},commitMount(m,v,_,k){var L;let A=(L=m.__r3f)!=null?L:{};m.raycast&&A.handlers&&A.eventCount&&ba(m).getState().internal.interaction.push(m)},getPublicInstance:s(m=>m,"getPublicInstance"),prepareForCommit:s(()=>null,"prepareForCommit"),preparePortalMount:s(m=>ii(m.getState().scene),"preparePortalMount"),resetAfterCommit:s(()=>{},"resetAfterCommit"),shouldSetTextContent:s(()=>!1,"shouldSetTextContent"),clearContainer:s(()=>!1,"clearContainer"),hideInstance(m){var v;let{attach:_,parent:k}=(v=m.__r3f)!=null?v:{};_&&k&&vb(k,m,_),m.isObject3D&&(m.visible=!1),si(m)},unhideInstance(m,v){var _;let{attach:k,parent:L}=(_=m.__r3f)!=null?_:{};k&&L&&Bf(L,m,k),(m.isObject3D&&v.visible==null||v.visible)&&(m.visible=!0),si(m)},createTextInstance:w,hideTextInstance:w,unhideTextInstance:w,getCurrentEventPriority:s(()=>e?e():In.DefaultEventPriority,"getCurrentEventPriority"),beforeActiveInstanceBlur:s(()=>{},"beforeActiveInstanceBlur"),afterActiveInstanceBlur:s(()=>{},"afterActiveInstanceBlur"),detachDeletedInstance:s(()=>{},"detachDeletedInstance"),now:typeof performance<"u"&&De.fun(performance.now)?performance.now:De.fun(Date.now)?Date.now:()=>0,scheduleTimeout:De.fun(setTimeout)?setTimeout:void 0,cancelTimeout:De.fun(clearTimeout)?clearTimeout:void 0}),applyProps:Uf}}s(uE,"createRenderer");var db,hb,Hf=s(r=>"colorSpace"in r||"outputColorSpace"in r,"hasColorSpace"),bb=s(()=>{var r;return(r=$f.ColorManagement)!=null?r:null},"getColorManagement"),yb=s(r=>r&&r.isOrthographicCamera,"isOrthographicCamera"),_b=s(r=>r&&r.hasOwnProperty("current"),"isRef"),ai=typeof window<"u"&&((db=window.document)!=null&&db.createElement||((hb=window.navigator)==null?void 0:hb.product)==="ReactNative")?nt.useLayoutEffect:nt.useEffect;function tm(r){let e=nt.useRef(r);return ai(()=>void(e.current=r),[r]),e}s(tm,"useMutableCallback");function xb({set:r}){return ai(()=>(r(new Promise(()=>null)),()=>r(!1)),[r]),null}s(xb,"Block");var sm=class sm extends nt.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}};s(sm,"ErrorBoundary");var Es=sm;Es.getDerivedStateFromError=()=>({error:!0});var Pb="__default",fb=new Map,cE=s(r=>r&&!!r.memoized&&!!r.changes,"isDiffSet");function Eb(r){var e;let t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(r)?Math.min(Math.max(r[0],t),r[1]):r}s(Eb,"calculateDpr");var oi=s(r=>{var e;return(e=r.__r3f)==null?void 0:e.root.getState()},"getRootState");function ba(r){let e=r.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}s(ba,"findInitialRoot");var De={obj:s(r=>r===Object(r)&&!De.arr(r)&&typeof r!="function","obj"),fun:s(r=>typeof r=="function","fun"),str:s(r=>typeof r=="string","str"),num:s(r=>typeof r=="number","num"),boo:s(r=>typeof r=="boolean","boo"),und:s(r=>r===void 0,"und"),arr:s(r=>Array.isArray(r),"arr"),equ(r,e,{arrays:t="shallow",objects:i="reference",strict:u=!0}={}){if(typeof r!=typeof e||!!r!=!!e)return!1;if(De.str(r)||De.num(r)||De.boo(r))return r===e;let p=De.obj(r);if(p&&i==="reference")return r===e;let h=De.arr(r);if(h&&t==="reference")return r===e;if((h||p)&&r===e)return!0;let f;for(f in r)if(!(f in e))return!1;if(p&&t==="shallow"&&i==="shallow"){for(f in u?e:r)if(!De.equ(r[f],e[f],{strict:u,objects:"reference"}))return!1}else for(f in u?e:r)if(r[f]!==e[f])return!1;if(De.und(f)){if(h&&r.length===0&&e.length===0||p&&Object.keys(r).length===0&&Object.keys(e).length===0)return!0;if(r!==e)return!1}return!0}};function Sb(r){let e={nodes:{},materials:{}};return r&&r.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}s(Sb,"buildGraph");function Cb(r){r.dispose&&r.type!=="Scene"&&r.dispose();for(let e in r)e.dispose==null||e.dispose(),delete r[e]}s(Cb,"dispose");function ii(r,e){let t=r;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},r}s(ii,"prepare");function Qf(r,e){let t=r;if(e.includes("-")){let i=e.split("-"),u=i.pop();return t=i.reduce((p,h)=>p[h],r),{target:t,key:u}}else return{target:t,key:e}}s(Qf,"resolve");var mb=/-\d+$/;function Bf(r,e,t){if(De.str(t)){if(mb.test(t)){let p=t.replace(mb,""),{target:h,key:f}=Qf(r,p);Array.isArray(h[f])||(h[f]=[])}let{target:i,key:u}=Qf(r,t);e.__r3f.previousAttach=i[u],i[u]=e}else e.__r3f.previousAttach=t(r,e)}s(Bf,"attach");function vb(r,e,t){var i,u;if(De.str(t)){let{target:p,key:h}=Qf(r,t),f=e.__r3f.previousAttach;f===void 0?delete p[h]:p[h]=f}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(r,e);(u=e.__r3f)==null||delete u.previousAttach}s(vb,"detach");function kb(r,{children:e,key:t,ref:i,...u},{children:p,key:h,ref:f,...w}={},b=!1){let m=r.__r3f,v=Object.entries(u),_=[];if(b){let L=Object.keys(w);for(let A=0;A<L.length;A++)u.hasOwnProperty(L[A])||v.unshift([L[A],Pb+"remove"])}v.forEach(([L,A])=>{var M;if((M=r.__r3f)!=null&&M.primitive&&L==="object"||De.equ(A,w[L]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(L))return _.push([L,A,!0,[]]);let E=[];L.includes("-")&&(E=L.split("-")),_.push([L,A,!1,E]);for(let T in u){let D=u[T];T.startsWith("".concat(L,"-"))&&_.push([T,D,!1,T.split("-")])}});let k={...u};return m!=null&&m.memoizedProps&&m!=null&&m.memoizedProps.args&&(k.args=m.memoizedProps.args),m!=null&&m.memoizedProps&&m!=null&&m.memoizedProps.attach&&(k.attach=m.memoizedProps.attach),{memoized:k,changes:_}}s(kb,"diffProps");var pE=typeof process<"u"&&!1;function Uf(r,e){var t;let i=r.__r3f,u=i==null?void 0:i.root,p=u==null||u.getState==null?void 0:u.getState(),{memoized:h,changes:f}=cE(e)?e:kb(r,e),w=i==null?void 0:i.eventCount;r.__r3f&&(r.__r3f.memoizedProps=h);for(let m=0;m<f.length;m++){let[v,_,k,L]=f[m];if(Hf(r)){let T="srgb",D="srgb-linear";v==="encoding"?(v="colorSpace",_=_===3001?T:D):v==="outputEncoding"&&(v="outputColorSpace",_=_===3001?T:D)}let A=r,M=A[v];if(L.length&&(M=L.reduce((E,T)=>E[T],r),!(M&&M.set))){let[E,...T]=L.reverse();A=T.reverse().reduce((D,K)=>D[K],r),v=E}if(_===Pb+"remove")if(A.constructor){let E=fb.get(A.constructor);E||(E=new A.constructor,fb.set(A.constructor,E)),_=E[v]}else _=0;if(k&&i)_?i.handlers[v]=_:delete i.handlers[v],i.eventCount=Object.keys(i.handlers).length;else if(M&&M.set&&(M.copy||M instanceof Ll)){if(Array.isArray(_))M.fromArray?M.fromArray(_):M.set(..._);else if(M.copy&&_&&_.constructor&&(pE?M.constructor.name===_.constructor.name:M.constructor===_.constructor))M.copy(_);else if(_!==void 0){let E=M instanceof mg;!E&&M.setScalar?M.setScalar(_):M instanceof Ll&&_ instanceof Ll?M.mask=_.mask:M.set(_),!bb()&&p&&!p.linear&&E&&M.convertSRGBToLinear()}}else if(A[v]=_,A[v]instanceof hg&&A[v].format===dg&&A[v].type===pg&&p){let E=A[v];Hf(E)&&Hf(p.gl)?E.colorSpace=p.gl.outputColorSpace:E.encoding=p.gl.outputEncoding}si(r)}if(i&&i.parent&&r.raycast&&w!==i.eventCount){let m=ba(r).getState().internal,v=m.interaction.indexOf(r);v>-1&&m.interaction.splice(v,1),i.eventCount&&m.interaction.push(r)}return!(f.length===1&&f[0][0]==="onUpdate")&&f.length&&(t=r.__r3f)!=null&&t.parent&&Xf(r),r}s(Uf,"applyProps$1");function si(r){var e,t;let i=(e=r.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();i&&i.internal.frames===0&&i.invalidate()}s(si,"invalidateInstance");function Xf(r){r.onUpdate==null||r.onUpdate(r)}s(Xf,"updateInstance");function dE(r,e){r.manual||(yb(r)?(r.left=e.width/-2,r.right=e.width/2,r.top=e.height/2,r.bottom=e.height/-2):r.aspect=e.width/e.height,r.updateProjectionMatrix(),r.updateMatrixWorld())}s(dE,"updateCamera");function ga(r){return(r.eventObject||r.object).uuid+"/"+r.index+r.instanceId}s(ga,"makeId");function hE(){var r;let e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return In.DefaultEventPriority;switch((r=e.event)==null?void 0:r.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return In.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return In.ContinuousEventPriority;default:return In.DefaultEventPriority}}s(hE,"getEventPriority");function Rb(r,e,t,i){let u=t.get(e);u&&(t.delete(e),t.size===0&&(r.delete(i),u.target.releasePointerCapture(i)))}s(Rb,"releaseInternalPointerCapture");function fE(r,e){let{internal:t}=r.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,u)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(u)}),t.capturedMap.forEach((i,u)=>{Rb(t.capturedMap,e,i,u)})}s(fE,"removeInteractivity");function Mb(r){function e(w){let{internal:b}=r.getState(),m=w.offsetX-b.initialClick[0],v=w.offsetY-b.initialClick[1];return Math.round(Math.sqrt(m*m+v*v))}s(e,"calculateDistance");function t(w){return w.filter(b=>["Move","Over","Enter","Out","Leave"].some(m=>{var v;return(v=b.__r3f)==null?void 0:v.handlers["onPointer"+m]}))}s(t,"filterPointerEvents");function i(w,b){let m=r.getState(),v=new Set,_=[],k=b?b(m.internal.interaction):m.internal.interaction;for(let E=0;E<k.length;E++){let T=oi(k[E]);T&&(T.raycaster.camera=void 0)}m.previousRoot||m.events.compute==null||m.events.compute(w,m);function L(E){let T=oi(E);if(!T||!T.events.enabled||T.raycaster.camera===null)return[];if(T.raycaster.camera===void 0){var D;T.events.compute==null||T.events.compute(w,T,(D=T.previousRoot)==null?void 0:D.getState()),T.raycaster.camera===void 0&&(T.raycaster.camera=null)}return T.raycaster.camera?T.raycaster.intersectObject(E,!0):[]}s(L,"handleRaycast");let A=k.flatMap(L).sort((E,T)=>{let D=oi(E.object),K=oi(T.object);return!D||!K?E.distance-T.distance:K.events.priority-D.events.priority||E.distance-T.distance}).filter(E=>{let T=ga(E);return v.has(T)?!1:(v.add(T),!0)});m.events.filter&&(A=m.events.filter(A,m));for(let E of A){let T=E.object;for(;T;){var M;(M=T.__r3f)!=null&&M.eventCount&&_.push({...E,eventObject:T}),T=T.parent}}if("pointerId"in w&&m.internal.capturedMap.has(w.pointerId))for(let E of m.internal.capturedMap.get(w.pointerId).values())v.has(ga(E.intersection))||_.push(E.intersection);return _}s(i,"intersect");function u(w,b,m,v){let _=r.getState();if(w.length){let k={stopped:!1};for(let L of w){let A=oi(L.object)||_,{raycaster:M,pointer:E,camera:T,internal:D}=A,K=new he(E.x,E.y,0).unproject(T),B=s(V=>{var O,se;return(O=(se=D.capturedMap.get(V))==null?void 0:se.has(L.eventObject))!=null?O:!1},"hasPointerCapture"),I=s(V=>{let O={intersection:L,target:b.target};D.capturedMap.has(V)?D.capturedMap.get(V).set(L.eventObject,O):D.capturedMap.set(V,new Map([[L.eventObject,O]])),b.target.setPointerCapture(V)},"setPointerCapture"),Q=s(V=>{let O=D.capturedMap.get(V);O&&Rb(D.capturedMap,L.eventObject,O,V)},"releasePointerCapture"),$={};for(let V in b){let O=b[V];typeof O!="function"&&($[V]=O)}let U={...L,...$,pointer:E,intersections:w,stopped:k.stopped,delta:m,unprojectedPoint:K,ray:M.ray,camera:T,stopPropagation(){let V="pointerId"in b&&D.capturedMap.get(b.pointerId);if((!V||V.has(L.eventObject))&&(U.stopped=k.stopped=!0,D.hovered.size&&Array.from(D.hovered.values()).find(O=>O.eventObject===L.eventObject))){let O=w.slice(0,w.indexOf(L));p([...O,L])}},target:{hasPointerCapture:B,setPointerCapture:I,releasePointerCapture:Q},currentTarget:{hasPointerCapture:B,setPointerCapture:I,releasePointerCapture:Q},nativeEvent:b};if(v(U),k.stopped===!0)break}}return w}s(u,"handleIntersects");function p(w){let{internal:b}=r.getState();for(let m of b.hovered.values())if(!w.length||!w.find(v=>v.object===m.object&&v.index===m.index&&v.instanceId===m.instanceId)){let _=m.eventObject.__r3f,k=_==null?void 0:_.handlers;if(b.hovered.delete(ga(m)),_!=null&&_.eventCount){let L={...m,intersections:w};k.onPointerOut==null||k.onPointerOut(L),k.onPointerLeave==null||k.onPointerLeave(L)}}}s(p,"cancelPointer");function h(w,b){for(let m=0;m<b.length;m++){let v=b[m].__r3f;v==null||v.handlers.onPointerMissed==null||v.handlers.onPointerMissed(w)}}s(h,"pointerMissed");function f(w){switch(w){case"onPointerLeave":case"onPointerCancel":return()=>p([]);case"onLostPointerCapture":return b=>{let{internal:m}=r.getState();"pointerId"in b&&m.capturedMap.has(b.pointerId)&&requestAnimationFrame(()=>{m.capturedMap.has(b.pointerId)&&(m.capturedMap.delete(b.pointerId),p([]))})}}return s(function(m){let{onPointerMissed:v,internal:_}=r.getState();_.lastEvent.current=m;let k=w==="onPointerMove",L=w==="onClick"||w==="onContextMenu"||w==="onDoubleClick",M=i(m,k?t:void 0),E=L?e(m):0;w==="onPointerDown"&&(_.initialClick=[m.offsetX,m.offsetY],_.initialHits=M.map(D=>D.eventObject)),L&&!M.length&&E<=2&&(h(m,_.interaction),v&&v(m)),k&&p(M);function T(D){let K=D.eventObject,B=K.__r3f,I=B==null?void 0:B.handlers;if(B!=null&&B.eventCount)if(k){if(I.onPointerOver||I.onPointerEnter||I.onPointerOut||I.onPointerLeave){let Q=ga(D),$=_.hovered.get(Q);$?$.stopped&&D.stopPropagation():(_.hovered.set(Q,D),I.onPointerOver==null||I.onPointerOver(D),I.onPointerEnter==null||I.onPointerEnter(D))}I.onPointerMove==null||I.onPointerMove(D)}else{let Q=I[w];Q?(!L||_.initialHits.includes(K))&&(h(m,_.interaction.filter($=>!_.initialHits.includes($))),Q(D)):L&&_.initialHits.includes(K)&&h(m,_.interaction.filter($=>!_.initialHits.includes($)))}}s(T,"onIntersect"),u(M,m,E,T)},"handleEvent")}return s(f,"handlePointer"),{handlePointer:f}}s(Mb,"createEvents");var Tb=s(r=>!!(r!=null&&r.render),"isRenderer"),nm=nt.createContext(null),mE=s((r,e)=>{let t=Ww((f,w)=>{let b=new he,m=new he,v=new he;function _(E=w().camera,T=m,D=w().size){let{width:K,height:B,top:I,left:Q}=D,$=K/B;T instanceof he?v.copy(T):v.set(...T);let U=E.getWorldPosition(b).distanceTo(v);if(yb(E))return{width:K/E.zoom,height:B/E.zoom,top:I,left:Q,factor:1,distance:U,aspect:$};{let V=E.fov*Math.PI/180,O=2*Math.tan(V/2)*U,se=O*(K/B);return{width:se,height:O,top:I,left:Q,factor:K/se,distance:U,aspect:$}}}s(_,"getCurrentViewport");let k,L=s(E=>f(T=>({performance:{...T.performance,current:E}})),"setPerformanceCurrent"),A=new ct;return{set:f,get:w,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:s((E=1)=>r(w(),E),"invalidate"),advance:s((E,T)=>e(E,T,w()),"advance"),legacy:!1,linear:!1,flat:!1,controls:null,clock:new Eg,pointer:A,mouse:A,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:s(()=>{let E=w();k&&clearTimeout(k),E.performance.current!==E.performance.min&&L(E.performance.min),k=setTimeout(()=>L(w().performance.max),E.performance.debounce)},"regress")},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:_},setEvents:s(E=>f(T=>({...T,events:{...T.events,...E}})),"setEvents"),setSize:s((E,T,D,K,B)=>{let I=w().camera,Q={width:E,height:T,top:K||0,left:B||0,updateStyle:D};f($=>({size:Q,viewport:{...$.viewport,..._(I,m,Q)}}))},"setSize"),setDpr:s(E=>f(T=>{let D=Eb(E);return{viewport:{...T.viewport,dpr:D,initialDpr:T.viewport.initialDpr||D}}}),"setDpr"),setFrameloop:s((E="always")=>{let T=w().clock;T.stop(),T.elapsedTime=0,E!=="never"&&(T.start(),T.elapsedTime=0),f(()=>({frameloop:E}))},"setFrameloop"),previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:nt.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:s((E,T,D)=>{let K=w().internal;return K.priority=K.priority+(T>0?1:0),K.subscribers.push({ref:E,priority:T,store:D}),K.subscribers=K.subscribers.sort((B,I)=>B.priority-I.priority),()=>{let B=w().internal;B!=null&&B.subscribers&&(B.priority=B.priority-(T>0?1:0),B.subscribers=B.subscribers.filter(I=>I.ref!==E))}},"subscribe")}}}),i=t.getState(),u=i.size,p=i.viewport.dpr,h=i.camera;return t.subscribe(()=>{let{camera:f,size:w,viewport:b,gl:m,set:v}=t.getState();if(w.width!==u.width||w.height!==u.height||b.dpr!==p){var _;u=w,p=b.dpr,dE(f,w),m.setPixelRatio(b.dpr);let k=(_=w.updateStyle)!=null?_:typeof HTMLCanvasElement<"u"&&m.domElement instanceof HTMLCanvasElement;m.setSize(w.width,w.height,k)}f!==h&&(h=f,v(k=>({viewport:{...k.viewport,...k.viewport.getCurrentViewport(f)}})))}),t.subscribe(f=>r(f)),t},"createStore");var wa,vE=new Set,gE=new Set,wE=new Set;function Gf(r,e){if(r.size)for(let{callback:t}of r.values())t(e)}s(Gf,"run");function li(r,e){switch(r){case"before":return Gf(vE,e);case"after":return Gf(gE,e);case"tail":return Gf(wE,e)}}s(li,"flushGlobalEffects");var Kf,Wf;function Yf(r,e,t){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof r=="number"&&(i=r-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=r),Kf=e.internal.subscribers,wa=0;wa<Kf.length;wa++)Wf=Kf[wa],Wf.ref.current(Wf.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}s(Yf,"render$1");function bE(r){let e=!1,t=!1,i,u,p;function h(b){u=requestAnimationFrame(h),e=!0,i=0,li("before",b),t=!0;for(let v of r.values()){var m;p=v.store.getState(),p.internal.active&&(p.frameloop==="always"||p.internal.frames>0)&&!((m=p.gl.xr)!=null&&m.isPresenting)&&(i+=Yf(b,p))}if(t=!1,li("after",b),i===0)return li("tail",b),e=!1,cancelAnimationFrame(u)}s(h,"loop");function f(b,m=1){var v;if(!b)return r.forEach(_=>f(_.store.getState(),m));(v=b.gl.xr)!=null&&v.isPresenting||!b.internal.active||b.frameloop==="never"||(m>1?b.internal.frames=Math.min(60,b.internal.frames+m):t?b.internal.frames=2:b.internal.frames=1,e||(e=!0,requestAnimationFrame(h)))}s(f,"invalidate");function w(b,m=!0,v,_){if(m&&li("before",b),v)Yf(b,v,_);else for(let k of r.values())Yf(b,k.store.getState());m&&li("after",b)}return s(w,"advance"),{loop:h,invalidate:f,advance:w}}s(bE,"createLoop");function rm(){let r=nt.useContext(nm);if(!r)throw new Error("R3F: Hooks can only be used within the Canvas component!");return r}s(rm,"useStore");function pn(r=t=>t,e){return rm()(r,e)}s(pn,"useThree");function Cs(r,e=0){let t=rm(),i=t.getState().internal.subscribe,u=tm(r);return ai(()=>i(u,e,t),[e,i,t]),null}s(Cs,"useFrame");var gb=new WeakMap;function Lb(r,e){return function(t,...i){let u=gb.get(t);return u||(u=new t,gb.set(t,u)),r&&r(u),Promise.all(i.map(p=>new Promise((h,f)=>u.load(p,w=>{w.scene&&Object.assign(w,Sb(w.scene)),h(w)},e,w=>f(new Error("Could not load ".concat(p,": ").concat(w==null?void 0:w.message)))))))}}s(Lb,"loadingFn");function om(r,e,t,i){let u=Array.isArray(e)?e:[e],p=Qw(Lb(t,i),[r,...u],{equal:De.equ});return Array.isArray(e)?p:p[0]}s(om,"useLoader");om.preload=function(r,e,t){let i=Array.isArray(e)?e:[e];return Xw(Lb(t),[r,...i])};om.clear=function(r,e){let t=Array.isArray(e)?e:[e];return Zw([r,...t])};var bo=new Map,{invalidate:Zf,advance:Jf}=bE(bo),{reconciler:Ss,applyProps:wo}=uE(bo,hE),ri={objects:"shallow",strict:!1},yE=s((r,e)=>{let t=typeof r=="function"?r(e):r;return Tb(t)?t:new Sg({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...r})},"createRendererInstance");function _E(r,e){let t=typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement;if(e){let{width:i,height:u,top:p,left:h,updateStyle:f=t}=e;return{width:i,height:u,top:p,left:h,updateStyle:f}}else if(typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement&&r.parentElement){let{width:i,height:u,top:p,left:h}=r.parentElement.getBoundingClientRect();return{width:i,height:u,top:p,left:h,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&r instanceof OffscreenCanvas)return{width:r.width,height:r.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}s(_E,"computeInitialSize");function im(r){let e=bo.get(r),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");let u=typeof reportError=="function"?reportError:console.error,p=i||mE(Zf,Jf),h=t||Ss.createContainer(p,In.ConcurrentRoot,null,!1,null,"",u,null);e||bo.set(r,{fiber:h,store:p});let f,w=!1,b;return{configure(m={}){let{gl:v,size:_,scene:k,events:L,onCreated:A,shadows:M=!1,linear:E=!1,flat:T=!1,legacy:D=!1,orthographic:K=!1,frameloop:B="always",dpr:I=[1,2],performance:Q,raycaster:$,camera:U,onPointerMissed:V}=m,O=p.getState(),se=O.gl;O.gl||O.set({gl:se=yE(v,r)});let we=O.raycaster;we||O.set({raycaster:we=new Al});let{params:rt,...be}=$||{};if(De.equ(be,we,ri)||wo(we,{...be}),De.equ(rt,we.params,ri)||wo(we,{params:{...we.params,...rt}}),!O.camera||O.camera===b&&!De.equ(b,U,ri)){b=U;let de=U instanceof bg,ye=de?U:K?new Yn(0,0,0,0,.1,1e3):new Wn(75,0,.1,1e3);de||(ye.position.z=5,U&&(wo(ye,U),("aspect"in U||"left"in U||"right"in U||"bottom"in U||"top"in U)&&(ye.manual=!0,ye.updateProjectionMatrix())),!O.camera&&!(U!=null&&U.rotation)&&ye.lookAt(0,0,0)),O.set({camera:ye}),we.camera=ye}if(!O.scene){let de;k instanceof Uu?de=k:(de=new Uu,k&&wo(de,k)),O.set({scene:ii(de)})}if(!O.xr){var st;let de=s((pe,Lt)=>{let _t=p.getState();_t.frameloop!=="never"&&Jf(pe,!0,_t,Lt)},"handleXRFrame"),ye=s(()=>{let pe=p.getState();pe.gl.xr.enabled=pe.gl.xr.isPresenting,pe.gl.xr.setAnimationLoop(pe.gl.xr.isPresenting?de:null),pe.gl.xr.isPresenting||Zf(pe)},"handleSessionChange"),qe={connect(){let pe=p.getState().gl;pe.xr.addEventListener("sessionstart",ye),pe.xr.addEventListener("sessionend",ye)},disconnect(){let pe=p.getState().gl;pe.xr.removeEventListener("sessionstart",ye),pe.xr.removeEventListener("sessionend",ye)}};typeof((st=se.xr)==null?void 0:st.addEventListener)=="function"&&qe.connect(),O.set({xr:qe})}if(se.shadowMap){let de=se.shadowMap.enabled,ye=se.shadowMap.type;if(se.shadowMap.enabled=!!M,De.boo(M))se.shadowMap.type=Ml;else if(De.str(M)){var ze;let qe={basic:ig,percentage:sg,soft:Ml,variance:lg};se.shadowMap.type=(ze=qe[M])!=null?ze:Ml}else De.obj(M)&&Object.assign(se.shadowMap,M);(de!==se.shadowMap.enabled||ye!==se.shadowMap.type)&&(se.shadowMap.needsUpdate=!0)}let X=bb();X&&("enabled"in X?X.enabled=!D:"legacyMode"in X&&(X.legacyMode=D)),w||wo(se,{outputEncoding:E?3e3:3001,toneMapping:T?ug:cg}),O.legacy!==D&&O.set(()=>({legacy:D})),O.linear!==E&&O.set(()=>({linear:E})),O.flat!==T&&O.set(()=>({flat:T})),v&&!De.fun(v)&&!Tb(v)&&!De.equ(v,se,ri)&&wo(se,v),L&&!O.events.handlers&&O.set({events:L(p)});let fe=_E(r,_);return De.equ(fe,O.size,ri)||O.setSize(fe.width,fe.height,fe.updateStyle,fe.top,fe.left),I&&O.viewport.dpr!==Eb(I)&&O.setDpr(I),O.frameloop!==B&&O.setFrameloop(B),O.onPointerMissed||O.set({onPointerMissed:V}),Q&&!De.equ(Q,O.performance,ri)&&O.set(de=>({performance:{...de.performance,...Q}})),f=A,w=!0,this},render(m){return w||this.configure(),Ss.updateContainer((0,ya.jsx)(xE,{store:p,children:m,onCreated:f,rootElement:r}),h,null,()=>{}),p},unmount(){xa(r)}}}s(im,"createRoot");function xE({store:r,children:e,onCreated:t,rootElement:i}){return ai(()=>{let u=r.getState();u.set(p=>({internal:{...p.internal,active:!0}})),t&&t(u),r.getState().events.connected||u.events.connect==null||u.events.connect(i)},[]),(0,ya.jsx)(nm.Provider,{value:r,children:e})}s(xE,"Provider");function xa(r,e){let t=bo.get(r),i=t==null?void 0:t.fiber;if(i){let u=t==null?void 0:t.store.getState();u&&(u.internal.active=!1),Ss.updateContainer(null,i,null,()=>{u&&setTimeout(()=>{try{var p,h,f,w;u.events.disconnect==null||u.events.disconnect(),(p=u.gl)==null||(h=p.renderLists)==null||h.dispose==null||h.dispose(),(f=u.gl)==null||f.forceContextLoss==null||f.forceContextLoss(),(w=u.gl)!=null&&w.xr&&u.xr.disconnect(),Cb(u),bo.delete(r),e&&e(r)}catch(b){}},500)})}}s(xa,"unmountComponentAtNode");Ss.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:nt.version});var qf={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Pa(r){let{handlePointer:e}=Mb(r);return{priority:1,enabled:!0,compute(t,i,u){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(qf).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:s(()=>{var t;let{events:i,internal:u}=r.getState();(t=u.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(u.lastEvent.current)},"update"),connect:s(t=>{var i;let{set:u,events:p}=r.getState();p.disconnect==null||p.disconnect(),u(h=>({events:{...h.events,connected:t}})),Object.entries((i=p.handlers)!=null?i:[]).forEach(([h,f])=>{let[w,b]=qf[h];t.addEventListener(w,f,{passive:b})})},"connect"),disconnect:s(()=>{let{set:t,events:i}=r.getState();if(i.connected){var u;Object.entries((u=i.handlers)!=null?u:[]).forEach(([p,h])=>{if(i&&i.connected instanceof HTMLElement){let[f]=qf[p];i.connected.removeEventListener(f,h)}}),t(p=>({events:{...p.events,connected:void 0}}))}},"disconnect")}}s(Pa,"createPointerEvents");var dt=j(Se()),qt=j(Se());var cm=j(Ab());var Fe=j(Se(),1);var PE=Object.defineProperty,EE=Object.defineProperties,SE=Object.getOwnPropertyDescriptors,Db=Object.getOwnPropertySymbols,CE=Object.prototype.hasOwnProperty,kE=Object.prototype.propertyIsEnumerable,zb=s((r,e,t)=>e in r?PE(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,"__defNormalProp"),jb=s((r,e)=>{for(var t in e||(e={}))CE.call(e,t)&&zb(r,t,e[t]);if(Db)for(var t of Db(e))kE.call(e,t)&&zb(r,t,e[t]);return r},"__spreadValues"),RE=s((r,e)=>EE(r,SE(e)),"__spreadProps"),Ib,Nb,A2=typeof window<"u"&&((Ib=window.document)!=null&&Ib.createElement||((Nb=window.navigator)==null?void 0:Nb.product)==="ReactNative")?Fe.useLayoutEffect:Fe.useEffect;function Fb(r,e,t){if(!r)return;if(t(r)===!0)return r;let i=e?r.return:r.child;for(;i;){let u=Fb(i,e,t);if(u)return u;i=e?null:i.sibling}}s(Fb,"traverseFiber");function Hb(r){try{return Object.defineProperties(r,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch(e){return r}}s(Hb,"wrapContext");var Vb=console.error;console.error=function(){let r=[...arguments].join("");if(r!=null&&r.startsWith("Warning:")&&r.includes("useContext")){console.error=Vb;return}return Vb.apply(this,arguments)};var am=Hb(Fe.createContext(null)),um=class um extends Fe.Component{render(){return Fe.createElement(am.Provider,{value:this._reactInternals},this.props.children)}};s(um,"FiberProvider");var ks=um;function ME(){let r=Fe.useContext(am);if(r===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");let e=Fe.useId();return Fe.useMemo(()=>{for(let i of[r,r==null?void 0:r.alternate]){if(!i)continue;let u=Fb(i,!1,p=>{let h=p.memoizedState;for(;h;){if(h.memoizedState===e)return!0;h=h.next}});if(u)return u}},[r,e])}s(ME,"useFiber");function TE(){let r=ME(),[e]=Fe.useState(()=>new Map);e.clear();let t=r;for(;t;){if(t.type&&typeof t.type=="object"){let u=t.type._context===void 0&&t.type.Provider===t.type?t.type:t.type._context;u&&u!==am&&!e.has(u)&&e.set(u,Fe.useContext(Hb(u)))}t=t.return}return e}s(TE,"useContextMap");function Bb(){let r=TE();return Fe.useMemo(()=>Array.from(r.keys()).reduce((e,t)=>i=>Fe.createElement(e,null,Fe.createElement(t.Provider,RE(jb({},i),{value:r.get(t)}))),e=>Fe.createElement(ks,jb({},e))),[r])}s(Bb,"useContextBridge");var Nn=j(te()),q2=j(Tf());var Q2=j(Ff()),X2=j(va());function LE({debounce:r,scroll:e,polyfill:t,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){let u=t||typeof window<"u"&&window.ResizeObserver,[p,h]=(0,qt.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0});if(!u)return p.width=1280,p.height=800,[()=>{},p,()=>{}];let f=(0,qt.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:p,orientationHandler:null}),w=r?typeof r=="number"?r:r.scroll:null,b=r?typeof r=="number"?r:r.resize:null,m=(0,qt.useRef)(!1);(0,qt.useEffect)(()=>(m.current=!0,()=>void(m.current=!1)));let[v,_,k]=(0,qt.useMemo)(()=>{let E=s(()=>{if(!f.current.element)return;let{left:T,top:D,width:K,height:B,bottom:I,right:Q,x:$,y:U}=f.current.element.getBoundingClientRect(),V={left:T,top:D,width:K,height:B,bottom:I,right:Q,x:$,y:U};f.current.element instanceof HTMLElement&&i&&(V.height=f.current.element.offsetHeight,V.width=f.current.element.offsetWidth),Object.freeze(V),m.current&&!zE(f.current.lastBounds,V)&&h(f.current.lastBounds=V)},"callback");return[E,b?(0,cm.default)(E,b):E,w?(0,cm.default)(E,w):E]},[h,i,w,b]);function L(){f.current.scrollContainers&&(f.current.scrollContainers.forEach(E=>E.removeEventListener("scroll",k,!0)),f.current.scrollContainers=null),f.current.resizeObserver&&(f.current.resizeObserver.disconnect(),f.current.resizeObserver=null),f.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",f.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",f.current.orientationHandler))}s(L,"removeListeners");function A(){var E;f.current.element&&(f.current.resizeObserver=new u(_),(E=f.current.resizeObserver)==null||E.observe(f.current.element),e&&f.current.scrollContainers&&f.current.scrollContainers.forEach(T=>T.addEventListener("scroll",k,{capture:!0,passive:!0})),f.current.orientationHandler=()=>{k()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",f.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",f.current.orientationHandler))}s(A,"addListeners");let M=s(E=>{!E||E===f.current.element||(L(),f.current.element=E,f.current.scrollContainers=Ub(E),A())},"ref");return AE(k,!!e),OE(_),(0,qt.useEffect)(()=>{L(),A()},[e,k,_]),(0,qt.useEffect)(()=>L,[]),[M,p,v]}s(LE,"useMeasure");function OE(r){(0,qt.useEffect)(()=>{let e=r;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[r])}s(OE,"useOnWindowResize");function AE(r,e){(0,qt.useEffect)(()=>{if(e){let t=r;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[r,e])}s(AE,"useOnWindowScroll");function Ub(r){let e=[];if(!r||r===document.body)return e;let{overflow:t,overflowX:i,overflowY:u}=window.getComputedStyle(r);return[t,i,u].some(p=>p==="auto"||p==="scroll")&&e.push(r),[...e,...Ub(r.parentElement)]}s(Ub,"findScrollContainers");var DE=["x","y","top","bottom","left","right","width","height"],zE=s((r,e)=>DE.every(t=>r[t]===e[t]),"areBoundsEqual"),jE=dt.forwardRef(s(function({children:e,fallback:t,resize:i,style:u,gl:p,events:h=Pa,eventSource:f,eventPrefix:w,shadows:b,linear:m,flat:v,legacy:_,orthographic:k,frameloop:L,dpr:A,performance:M,raycaster:E,camera:T,scene:D,onPointerMissed:K,onCreated:B,...I},Q){dt.useMemo(()=>em(Ku),[]);let $=Bb(),[U,V]=LE({scroll:!0,debounce:{scroll:50,resize:0},...i}),O=dt.useRef(null),se=dt.useRef(null);dt.useImperativeHandle(Q,()=>O.current);let we=tm(K),[rt,be]=dt.useState(!1),[st,ze]=dt.useState(!1);if(rt)throw rt;if(st)throw st;let X=dt.useRef(null);return ai(()=>{let de=O.current;V.width>0&&V.height>0&&de&&(X.current||(X.current=im(de)),X.current.configure({gl:p,events:h,shadows:b,linear:m,flat:v,legacy:_,orthographic:k,frameloop:L,dpr:A,performance:M,raycaster:E,camera:T,scene:D,size:V,onPointerMissed:s((...ye)=>we.current==null?void 0:we.current(...ye),"onPointerMissed"),onCreated:s(ye=>{ye.events.connect==null||ye.events.connect(f?_b(f)?f.current:f:se.current),w&&ye.setEvents({compute:s((qe,pe)=>{let Lt=qe[w+"X"],_t=qe[w+"Y"];pe.pointer.set(Lt/pe.size.width*2-1,-(_t/pe.size.height)*2+1),pe.raycaster.setFromCamera(pe.pointer,pe.camera)},"compute")}),B==null||B(ye)},"onCreated")}),X.current.render((0,Nn.jsx)($,{children:(0,Nn.jsx)(Es,{set:ze,children:(0,Nn.jsx)(dt.Suspense,{fallback:(0,Nn.jsx)(xb,{set:be}),children:e})})})))}),dt.useEffect(()=>{let de=O.current;if(de)return()=>xa(de)},[]),(0,Nn.jsx)("div",{ref:se,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:f?"none":"auto",...u},...I,children:(0,Nn.jsx)("div",{ref:U,style:{width:"100%",height:"100%"},children:(0,Nn.jsx)("canvas",{ref:O,style:{display:"block"},children:t})})})},"Canvas")),Gb=dt.forwardRef(s(function(e,t){return(0,Nn.jsx)(ks,{children:(0,Nn.jsx)(jE,{...e,ref:t})})},"CanvasWrapper"));var Rs=new he,dm=new he,IE=new he,Kb=new ct;function NE(r,e,t){let i=Rs.setFromMatrixPosition(r.matrixWorld);i.project(e);let u=t.width/2,p=t.height/2;return[i.x*u+u,-(i.y*p)+p]}s(NE,"defaultCalculatePosition");function VE(r,e){let t=Rs.setFromMatrixPosition(r.matrixWorld),i=dm.setFromMatrixPosition(e.matrixWorld),u=t.sub(i),p=e.getWorldDirection(IE);return u.angleTo(p)>Math.PI/2}s(VE,"isObjectBehindCamera");function FE(r,e,t,i){let u=Rs.setFromMatrixPosition(r.matrixWorld),p=u.clone();p.project(e),Kb.set(p.x,p.y),t.setFromCamera(Kb,e);let h=t.intersectObjects(i,!0);if(h.length){let f=h[0].distance;return u.distanceTo(t.ray.origin)<f}return!0}s(FE,"isObjectVisible");function HE(r,e){if(e instanceof Yn)return e.zoom;if(e instanceof Wn){let t=Rs.setFromMatrixPosition(r.matrixWorld),i=dm.setFromMatrixPosition(e.matrixWorld),u=e.fov*Math.PI/180,p=t.distanceTo(i);return 1/(2*Math.tan(u/2)*p)}else return 1}s(HE,"objectScale");function BE(r,e,t){if(e instanceof Wn||e instanceof Yn){let i=Rs.setFromMatrixPosition(r.matrixWorld),u=dm.setFromMatrixPosition(e.matrixWorld),p=i.distanceTo(u),h=(t[1]-t[0])/(e.far-e.near),f=t[1]-h*e.far;return Math.round(h*p+f)}}s(BE,"objectZIndex");var pm=s(r=>Math.abs(r)<1e-10?0:r,"epsilon");function Yb(r,e,t=""){let i="matrix3d(";for(let u=0;u!==16;u++)i+=pm(e[u]*r.elements[u])+(u!==15?",":")");return t+i}s(Yb,"getCSSMatrix");var UE=(r=>e=>Yb(e,r))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),GE=(r=>(e,t)=>Yb(e,r(t),"translate(-50%,-50%)"))(r=>[1/r,1/r,1/r,1,-1/r,-1/r,-1/r,-1,1/r,1/r,1/r,1,1,1,1,1]);function KE(r){return r&&typeof r=="object"&&"current"in r}s(KE,"isRefObject");var hm=ge.forwardRef(({children:r,eps:e=.001,style:t,className:i,prepend:u,center:p,fullscreen:h,portal:f,distanceFactor:w,sprite:b=!1,transform:m=!1,occlude:v,onOcclude:_,castShadow:k,receiveShadow:L,material:A,geometry:M,zIndexRange:E=[16777271,0],calculatePosition:T=NE,as:D="div",wrapperClass:K,pointerEvents:B="auto",...I},Q)=>{let{gl:$,camera:U,scene:V,size:O,raycaster:se,events:we,viewport:rt}=pn(),[be]=ge.useState(()=>document.createElement(D)),st=ge.useRef(),ze=ge.useRef(null),X=ge.useRef(0),fe=ge.useRef([0,0]),de=ge.useRef(null),ye=ge.useRef(null),qe=(f==null?void 0:f.current)||we.connected||$.domElement.parentNode,pe=ge.useRef(null),Lt=ge.useRef(!1),_t=ge.useMemo(()=>v&&v!=="blending"||Array.isArray(v)&&v.length&&KE(v[0]),[v]);ge.useLayoutEffect(()=>{let Ze=$.domElement;v&&v==="blending"?(Ze.style.zIndex="".concat(Math.floor(E[0]/2)),Ze.style.position="absolute",Ze.style.pointerEvents="none"):(Ze.style.zIndex=null,Ze.style.position=null,Ze.style.pointerEvents=null)},[v]),ge.useLayoutEffect(()=>{if(ze.current){let Ze=st.current=Wb.createRoot(be);if(V.updateMatrixWorld(),m)be.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{let ae=T(ze.current,U,O);be.style.cssText="position:absolute;top:0;left:0;transform:translate3d(".concat(ae[0],"px,").concat(ae[1],"px,0);transform-origin:0 0;")}return qe&&(u?qe.prepend(be):qe.appendChild(be)),()=>{qe&&qe.removeChild(be),Ze.unmount()}}},[qe,m]),ge.useLayoutEffect(()=>{K&&(be.className=K)},[K]);let ir=ge.useMemo(()=>m?{position:"absolute",top:0,left:0,width:O.width,height:O.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:p?"translate3d(-50%,-50%,0)":"none",...h&&{top:-O.height/2,left:-O.width/2,width:O.width,height:O.height},...t},[t,p,h,O,m]),yo=ge.useMemo(()=>({position:"absolute",pointerEvents:B}),[B]);ge.useLayoutEffect(()=>{if(Lt.current=!1,m){var Ze;(Ze=st.current)==null||Ze.render(ge.createElement("div",{ref:de,style:ir},ge.createElement("div",{ref:ye,style:yo},ge.createElement("div",{ref:Q,className:i,style:t,children:r}))))}else{var ae;(ae=st.current)==null||ae.render(ge.createElement("div",{ref:Q,style:ir,className:i,children:r}))}});let yn=ge.useRef(!0);Cs(Ze=>{if(ze.current){U.updateMatrixWorld(),ze.current.updateWorldMatrix(!0,!1);let ae=m?fe.current:T(ze.current,U,O);if(m||Math.abs(X.current-U.zoom)>e||Math.abs(fe.current[0]-ae[0])>e||Math.abs(fe.current[1]-ae[1])>e){let xt=VE(ze.current,U),Te=!1;_t&&(Array.isArray(v)?Te=v.map(Qt=>Qt.current):v!=="blending"&&(Te=[V]));let _n=yn.current;if(Te){let Qt=FE(ze.current,U,se,Te);yn.current=Qt&&!xt}else yn.current=!xt;_n!==yn.current&&(_?_(!yn.current):be.style.display=yn.current?"block":"none");let lr=Math.floor(E[0]/2),ui=v?_t?[E[0],lr]:[lr-1,0]:E;if(be.style.zIndex="".concat(BE(ze.current,U,ui)),m){let[Qt,Nr]=[O.width/2,O.height/2],ar=U.projectionMatrix.elements[5]*Nr,{isOrthographicCamera:xn,top:ci,left:_o,bottom:Vr,right:Ht}=U,pi=UE(U.matrixWorldInverse),di=xn?"scale(".concat(ar,")translate(").concat(pm(-(Ht+_o)/2),"px,").concat(pm((ci+Vr)/2),"px)"):"translateZ(".concat(ar,"px)"),Xt=ze.current.matrixWorld;b&&(Xt=U.matrixWorldInverse.clone().transpose().copyPosition(Xt).scale(ze.current.scale),Xt.elements[3]=Xt.elements[7]=Xt.elements[11]=0,Xt.elements[15]=1),be.style.width=O.width+"px",be.style.height=O.height+"px",be.style.perspective=xn?"":"".concat(ar,"px"),de.current&&ye.current&&(de.current.style.transform="".concat(di).concat(pi,"translate(").concat(Qt,"px,").concat(Nr,"px)"),ye.current.style.transform=GE(Xt,1/((w||10)/400)))}else{let Qt=w===void 0?1:HE(ze.current,U)*w;be.style.transform="translate3d(".concat(ae[0],"px,").concat(ae[1],"px,0) scale(").concat(Qt,")")}fe.current=ae,X.current=U.zoom}}if(!_t&&pe.current&&!Lt.current)if(m){if(de.current){let ae=de.current.children[0];if(ae!=null&&ae.clientWidth&&ae!=null&&ae.clientHeight){let{isOrthographicCamera:xt}=U;if(xt||M)I.scale&&(Array.isArray(I.scale)?I.scale instanceof he?pe.current.scale.copy(I.scale.clone().divideScalar(1)):pe.current.scale.set(1/I.scale[0],1/I.scale[1],1/I.scale[2]):pe.current.scale.setScalar(1/I.scale));else{let Te=(w||10)/400,_n=ae.clientWidth*Te,lr=ae.clientHeight*Te;pe.current.scale.set(_n,lr,1)}Lt.current=!0}}}else{let ae=be.children[0];if(ae!=null&&ae.clientWidth&&ae!=null&&ae.clientHeight){let xt=1/rt.factor,Te=ae.clientWidth*xt,_n=ae.clientHeight*xt;pe.current.scale.set(Te,_n,1),Lt.current=!0}pe.current.lookAt(Ze.camera.position)}});let sr=ge.useMemo(()=>({vertexShader:m?void 0:'\n          /*\n            This shader is from the THREE\'s SpriteMaterial.\n            We need to turn the backing plane into a Sprite\n            (make it always face the camera) if "transfrom"\n            is false.\n          */\n          #include <common>\n\n          void main() {\n            vec2 center = vec2(0., 1.);\n            float rotation = 0.0;\n\n            // This is somewhat arbitrary, but it seems to work well\n            // Need to figure out how to derive this dynamically if it even matters\n            float size = 0.03;\n\n            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n            vec2 scale;\n            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\n            bool isPerspective = isPerspectiveMatrix( projectionMatrix );\n            if ( isPerspective ) scale *= - mvPosition.z;\n\n            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;\n            vec2 rotatedPosition;\n            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n            mvPosition.xy += rotatedPosition;\n\n            gl_Position = projectionMatrix * mvPosition;\n          }\n      ',fragmentShader:"\n        void main() {\n          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n        }\n      "}),[m]);return ge.createElement("group",ni({},I,{ref:ze}),v&&!_t&&ge.createElement("mesh",{castShadow:k,receiveShadow:L,ref:pe},M||ge.createElement("planeGeometry",null),A||ge.createElement("shaderMaterial",{side:ag,vertexShader:sr.vertexShader,fragmentShader:sr.fragmentShader})))});var WE=Object.defineProperty,YE=s((r,e,t)=>e in r?WE(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,"__defNormalProp"),qE=s((r,e,t)=>(YE(r,typeof e!="symbol"?e+"":e,t),t),"__publicField"),fm=class fm{constructor(){qE(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});let i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;let i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;let u=this._listeners[e];if(u!==void 0){let p=u.indexOf(t);p!==-1&&u.splice(p,1)}}dispatchEvent(e){if(this._listeners===void 0)return;let i=this._listeners[e.type];if(i!==void 0){e.target=this;let u=i.slice(0);for(let p=0,h=u.length;p<h;p++)u[p].call(this,e);e.target=null}}};s(fm,"EventDispatcher");var Ea=fm;var QE=Object.defineProperty,XE=s((r,e,t)=>e in r?QE(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,"__defNormalProp"),J=s((r,e,t)=>(XE(r,typeof e!="symbol"?e+"":e,t),t),"__publicField"),Sa=new fg,qb=new yg,ZE=Math.cos(70*(Math.PI/180)),Qb=s((r,e)=>(r%e+e)%e,"moduloWrapAround"),mm=class mm extends Ea{constructor(e,t){super(),J(this,"object"),J(this,"domElement"),J(this,"enabled",!0),J(this,"target",new he),J(this,"minDistance",0),J(this,"maxDistance",1/0),J(this,"minZoom",0),J(this,"maxZoom",1/0),J(this,"minPolarAngle",0),J(this,"maxPolarAngle",Math.PI),J(this,"minAzimuthAngle",-1/0),J(this,"maxAzimuthAngle",1/0),J(this,"enableDamping",!1),J(this,"dampingFactor",.05),J(this,"enableZoom",!0),J(this,"zoomSpeed",1),J(this,"enableRotate",!0),J(this,"rotateSpeed",1),J(this,"enablePan",!0),J(this,"panSpeed",1),J(this,"screenSpacePanning",!0),J(this,"keyPanSpeed",7),J(this,"zoomToCursor",!1),J(this,"autoRotate",!1),J(this,"autoRotateSpeed",2),J(this,"reverseOrbit",!1),J(this,"reverseHorizontalOrbit",!1),J(this,"reverseVerticalOrbit",!1),J(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),J(this,"mouseButtons",{LEFT:Xr.ROTATE,MIDDLE:Xr.DOLLY,RIGHT:Xr.PAN}),J(this,"touches",{ONE:Zr.ROTATE,TWO:Zr.DOLLY_PAN}),J(this,"target0"),J(this,"position0"),J(this,"zoom0"),J(this,"_domElementKeyEvents",null),J(this,"getPolarAngle"),J(this,"getAzimuthalAngle"),J(this,"setPolarAngle"),J(this,"setAzimuthalAngle"),J(this,"getDistance"),J(this,"getZoomScale"),J(this,"listenToKeyEvents"),J(this,"stopListenToKeyEvents"),J(this,"saveState"),J(this,"reset"),J(this,"update"),J(this,"connect"),J(this,"dispose"),J(this,"dollyIn"),J(this,"dollyOut"),J(this,"getScale"),J(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>m.phi,this.getAzimuthalAngle=()=>m.theta,this.setPolarAngle=P=>{let N=Qb(P,2*Math.PI),ee=m.phi;ee<0&&(ee+=2*Math.PI),N<0&&(N+=2*Math.PI);let me=Math.abs(N-ee);2*Math.PI-me<me&&(N<ee?N+=2*Math.PI:ee+=2*Math.PI),v.phi=N-ee,i.update()},this.setAzimuthalAngle=P=>{let N=Qb(P,2*Math.PI),ee=m.theta;ee<0&&(ee+=2*Math.PI),N<0&&(N+=2*Math.PI);let me=Math.abs(N-ee);2*Math.PI-me<me&&(N<ee?N+=2*Math.PI:ee+=2*Math.PI),v.theta=N-ee,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=P=>{P.addEventListener("keydown",hi),this._domElementKeyEvents=P},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",hi),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(u),i.update(),w=f.NONE},this.update=(()=>{let P=new he,N=new he(0,1,0),ee=new Bu().setFromUnitVectors(e.up,N),me=ee.clone().invert(),Je=new he,dn=new Bu,Pn=2*Math.PI;return s(function(){let mi=i.object.position;ee.setFromUnitVectors(e.up,N),me.copy(ee).invert(),P.copy(mi).sub(i.target),P.applyQuaternion(ee),m.setFromVector3(P),i.autoRotate&&w===f.NONE&&rt(se()),i.enableDamping?(m.theta+=v.theta*i.dampingFactor,m.phi+=v.phi*i.dampingFactor):(m.theta+=v.theta,m.phi+=v.phi);let Zt=i.minAzimuthAngle,hn=i.maxAzimuthAngle;isFinite(Zt)&&isFinite(hn)&&(Zt<-Math.PI?Zt+=Pn:Zt>Math.PI&&(Zt-=Pn),hn<-Math.PI?hn+=Pn:hn>Math.PI&&(hn-=Pn),Zt<=hn?m.theta=Math.max(Zt,Math.min(hn,m.theta)):m.theta=m.theta>(Zt+hn)/2?Math.max(Zt,m.theta):Math.min(hn,m.theta)),m.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,m.phi)),m.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(k,i.dampingFactor):i.target.add(k),i.zoomToCursor&&U||i.object.isOrthographicCamera?m.radius=pe(m.radius):m.radius=pe(m.radius*_),P.setFromSpherical(m),P.applyQuaternion(me),mi.copy(i.target).add(P),i.object.matrixAutoUpdate||i.object.updateMatrix(),i.object.lookAt(i.target),i.enableDamping===!0?(v.theta*=1-i.dampingFactor,v.phi*=1-i.dampingFactor,k.multiplyScalar(1-i.dampingFactor)):(v.set(0,0,0),k.set(0,0,0));let ur=!1;if(i.zoomToCursor&&U){let cr=null;if(i.object instanceof Wn&&i.object.isPerspectiveCamera){let pr=P.length();cr=pe(pr*_);let xo=pr-cr;i.object.position.addScaledVector(Q,xo),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){let pr=new he($.x,$.y,0);pr.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/_)),i.object.updateProjectionMatrix(),ur=!0;let xo=new he($.x,$.y,0);xo.unproject(i.object),i.object.position.sub(xo).add(pr),i.object.updateMatrixWorld(),cr=P.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;cr!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(cr).add(i.object.position):(Sa.origin.copy(i.object.position),Sa.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(Sa.direction))<ZE?e.lookAt(i.target):(qb.setFromNormalAndCoplanarPoint(i.object.up,i.target),Sa.intersectPlane(qb,i.target))))}else i.object instanceof Yn&&i.object.isOrthographicCamera&&(ur=_!==1,ur&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/_)),i.object.updateProjectionMatrix()));return _=1,U=!1,ur||Je.distanceToSquared(i.object.position)>b||8*(1-dn.dot(i.object.quaternion))>b?(i.dispatchEvent(u),Je.copy(i.object.position),dn.copy(i.object.quaternion),ur=!1,!0):!1},"update")})(),this.connect=P=>{i.domElement=P,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",Ts),i.domElement.addEventListener("pointerdown",_o),i.domElement.addEventListener("pointercancel",Ht),i.domElement.addEventListener("wheel",Xt)},this.dispose=()=>{var P,N,ee,me,Je,dn;i.domElement&&(i.domElement.style.touchAction="auto"),(P=i.domElement)==null||P.removeEventListener("contextmenu",Ts),(N=i.domElement)==null||N.removeEventListener("pointerdown",_o),(ee=i.domElement)==null||ee.removeEventListener("pointercancel",Ht),(me=i.domElement)==null||me.removeEventListener("wheel",Xt),(Je=i.domElement)==null||Je.ownerDocument.removeEventListener("pointermove",Vr),(dn=i.domElement)==null||dn.ownerDocument.removeEventListener("pointerup",Ht),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",hi)};let i=this,u={type:"change"},p={type:"start"},h={type:"end"},f={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},w=f.NONE,b=1e-6,m=new Gu,v=new Gu,_=1,k=new he,L=new ct,A=new ct,M=new ct,E=new ct,T=new ct,D=new ct,K=new ct,B=new ct,I=new ct,Q=new he,$=new ct,U=!1,V=[],O={};function se(){return 2*Math.PI/60/60*i.autoRotateSpeed}s(se,"getAutoRotationAngle");function we(){return Math.pow(.95,i.zoomSpeed)}s(we,"getZoomScale");function rt(P){i.reverseOrbit||i.reverseHorizontalOrbit?v.theta+=P:v.theta-=P}s(rt,"rotateLeft");function be(P){i.reverseOrbit||i.reverseVerticalOrbit?v.phi+=P:v.phi-=P}s(be,"rotateUp");let st=(()=>{let P=new he;return s(function(ee,me){P.setFromMatrixColumn(me,0),P.multiplyScalar(-ee),k.add(P)},"panLeft2")})(),ze=(()=>{let P=new he;return s(function(ee,me){i.screenSpacePanning===!0?P.setFromMatrixColumn(me,1):(P.setFromMatrixColumn(me,0),P.crossVectors(i.object.up,P)),P.multiplyScalar(ee),k.add(P)},"panUp2")})(),X=(()=>{let P=new he;return s(function(ee,me){let Je=i.domElement;if(Je&&i.object instanceof Wn&&i.object.isPerspectiveCamera){let dn=i.object.position;P.copy(dn).sub(i.target);let Pn=P.length();Pn*=Math.tan(i.object.fov/2*Math.PI/180),st(2*ee*Pn/Je.clientHeight,i.object.matrix),ze(2*me*Pn/Je.clientHeight,i.object.matrix)}else Je&&i.object instanceof Yn&&i.object.isOrthographicCamera?(st(ee*(i.object.right-i.object.left)/i.object.zoom/Je.clientWidth,i.object.matrix),ze(me*(i.object.top-i.object.bottom)/i.object.zoom/Je.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)},"pan2")})();function fe(P){i.object instanceof Wn&&i.object.isPerspectiveCamera||i.object instanceof Yn&&i.object.isOrthographicCamera?_=P:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}s(fe,"setScale");function de(P){fe(_/P)}s(de,"dollyOut");function ye(P){fe(_*P)}s(ye,"dollyIn");function qe(P){if(!i.zoomToCursor||!i.domElement)return;U=!0;let N=i.domElement.getBoundingClientRect(),ee=P.clientX-N.left,me=P.clientY-N.top,Je=N.width,dn=N.height;$.x=ee/Je*2-1,$.y=-(me/dn)*2+1,Q.set($.x,$.y,1).unproject(i.object).sub(i.object.position).normalize()}s(qe,"updateMouseParameters");function pe(P){return Math.max(i.minDistance,Math.min(i.maxDistance,P))}s(pe,"clampDistance");function Lt(P){L.set(P.clientX,P.clientY)}s(Lt,"handleMouseDownRotate");function _t(P){qe(P),K.set(P.clientX,P.clientY)}s(_t,"handleMouseDownDolly");function ir(P){E.set(P.clientX,P.clientY)}s(ir,"handleMouseDownPan");function yo(P){A.set(P.clientX,P.clientY),M.subVectors(A,L).multiplyScalar(i.rotateSpeed);let N=i.domElement;N&&(rt(2*Math.PI*M.x/N.clientHeight),be(2*Math.PI*M.y/N.clientHeight)),L.copy(A),i.update()}s(yo,"handleMouseMoveRotate");function yn(P){B.set(P.clientX,P.clientY),I.subVectors(B,K),I.y>0?de(we()):I.y<0&&ye(we()),K.copy(B),i.update()}s(yn,"handleMouseMoveDolly");function sr(P){T.set(P.clientX,P.clientY),D.subVectors(T,E).multiplyScalar(i.panSpeed),X(D.x,D.y),E.copy(T),i.update()}s(sr,"handleMouseMovePan");function Ze(P){qe(P),P.deltaY<0?ye(we()):P.deltaY>0&&de(we()),i.update()}s(Ze,"handleMouseWheel");function ae(P){let N=!1;switch(P.code){case i.keys.UP:X(0,i.keyPanSpeed),N=!0;break;case i.keys.BOTTOM:X(0,-i.keyPanSpeed),N=!0;break;case i.keys.LEFT:X(i.keyPanSpeed,0),N=!0;break;case i.keys.RIGHT:X(-i.keyPanSpeed,0),N=!0;break}N&&(P.preventDefault(),i.update())}s(ae,"handleKeyDown");function xt(){if(V.length==1)L.set(V[0].pageX,V[0].pageY);else{let P=.5*(V[0].pageX+V[1].pageX),N=.5*(V[0].pageY+V[1].pageY);L.set(P,N)}}s(xt,"handleTouchStartRotate");function Te(){if(V.length==1)E.set(V[0].pageX,V[0].pageY);else{let P=.5*(V[0].pageX+V[1].pageX),N=.5*(V[0].pageY+V[1].pageY);E.set(P,N)}}s(Te,"handleTouchStartPan");function _n(){let P=V[0].pageX-V[1].pageX,N=V[0].pageY-V[1].pageY,ee=Math.sqrt(P*P+N*N);K.set(0,ee)}s(_n,"handleTouchStartDolly");function lr(){i.enableZoom&&_n(),i.enablePan&&Te()}s(lr,"handleTouchStartDollyPan");function ui(){i.enableZoom&&_n(),i.enableRotate&&xt()}s(ui,"handleTouchStartDollyRotate");function Qt(P){if(V.length==1)A.set(P.pageX,P.pageY);else{let ee=fi(P),me=.5*(P.pageX+ee.x),Je=.5*(P.pageY+ee.y);A.set(me,Je)}M.subVectors(A,L).multiplyScalar(i.rotateSpeed);let N=i.domElement;N&&(rt(2*Math.PI*M.x/N.clientHeight),be(2*Math.PI*M.y/N.clientHeight)),L.copy(A)}s(Qt,"handleTouchMoveRotate");function Nr(P){if(V.length==1)T.set(P.pageX,P.pageY);else{let N=fi(P),ee=.5*(P.pageX+N.x),me=.5*(P.pageY+N.y);T.set(ee,me)}D.subVectors(T,E).multiplyScalar(i.panSpeed),X(D.x,D.y),E.copy(T)}s(Nr,"handleTouchMovePan");function ar(P){let N=fi(P),ee=P.pageX-N.x,me=P.pageY-N.y,Je=Math.sqrt(ee*ee+me*me);B.set(0,Je),I.set(0,Math.pow(B.y/K.y,i.zoomSpeed)),de(I.y),K.copy(B)}s(ar,"handleTouchMoveDolly");function xn(P){i.enableZoom&&ar(P),i.enablePan&&Nr(P)}s(xn,"handleTouchMoveDollyPan");function ci(P){i.enableZoom&&ar(P),i.enableRotate&&Qt(P)}s(ci,"handleTouchMoveDollyRotate");function _o(P){var N,ee;i.enabled!==!1&&(V.length===0&&((N=i.domElement)==null||N.ownerDocument.addEventListener("pointermove",Vr),(ee=i.domElement)==null||ee.ownerDocument.addEventListener("pointerup",Ht)),La(P),P.pointerType==="touch"?Ma(P):pi(P))}s(_o,"onPointerDown");function Vr(P){i.enabled!==!1&&(P.pointerType==="touch"?Ta(P):di(P))}s(Vr,"onPointerMove");function Ht(P){var N,ee,me;Oa(P),V.length===0&&((N=i.domElement)==null||N.releasePointerCapture(P.pointerId),(ee=i.domElement)==null||ee.ownerDocument.removeEventListener("pointermove",Vr),(me=i.domElement)==null||me.ownerDocument.removeEventListener("pointerup",Ht)),i.dispatchEvent(h),w=f.NONE}s(Ht,"onPointerUp");function pi(P){let N;switch(P.button){case 0:N=i.mouseButtons.LEFT;break;case 1:N=i.mouseButtons.MIDDLE;break;case 2:N=i.mouseButtons.RIGHT;break;default:N=-1}switch(N){case Xr.DOLLY:if(i.enableZoom===!1)return;_t(P),w=f.DOLLY;break;case Xr.ROTATE:if(P.ctrlKey||P.metaKey||P.shiftKey){if(i.enablePan===!1)return;ir(P),w=f.PAN}else{if(i.enableRotate===!1)return;Lt(P),w=f.ROTATE}break;case Xr.PAN:if(P.ctrlKey||P.metaKey||P.shiftKey){if(i.enableRotate===!1)return;Lt(P),w=f.ROTATE}else{if(i.enablePan===!1)return;ir(P),w=f.PAN}break;default:w=f.NONE}w!==f.NONE&&i.dispatchEvent(p)}s(pi,"onMouseDown");function di(P){if(i.enabled!==!1)switch(w){case f.ROTATE:if(i.enableRotate===!1)return;yo(P);break;case f.DOLLY:if(i.enableZoom===!1)return;yn(P);break;case f.PAN:if(i.enablePan===!1)return;sr(P);break}}s(di,"onMouseMove");function Xt(P){i.enabled===!1||i.enableZoom===!1||w!==f.NONE&&w!==f.ROTATE||(P.preventDefault(),i.dispatchEvent(p),Ze(P),i.dispatchEvent(h))}s(Xt,"onMouseWheel");function hi(P){i.enabled===!1||i.enablePan===!1||ae(P)}s(hi,"onKeyDown");function Ma(P){switch(Ls(P),V.length){case 1:switch(i.touches.ONE){case Zr.ROTATE:if(i.enableRotate===!1)return;xt(),w=f.TOUCH_ROTATE;break;case Zr.PAN:if(i.enablePan===!1)return;Te(),w=f.TOUCH_PAN;break;default:w=f.NONE}break;case 2:switch(i.touches.TWO){case Zr.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;lr(),w=f.TOUCH_DOLLY_PAN;break;case Zr.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;ui(),w=f.TOUCH_DOLLY_ROTATE;break;default:w=f.NONE}break;default:w=f.NONE}w!==f.NONE&&i.dispatchEvent(p)}s(Ma,"onTouchStart");function Ta(P){switch(Ls(P),w){case f.TOUCH_ROTATE:if(i.enableRotate===!1)return;Qt(P),i.update();break;case f.TOUCH_PAN:if(i.enablePan===!1)return;Nr(P),i.update();break;case f.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;xn(P),i.update();break;case f.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;ci(P),i.update();break;default:w=f.NONE}}s(Ta,"onTouchMove");function Ts(P){i.enabled!==!1&&P.preventDefault()}s(Ts,"onContextMenu");function La(P){V.push(P)}s(La,"addPointer");function Oa(P){delete O[P.pointerId];for(let N=0;N<V.length;N++)if(V[N].pointerId==P.pointerId){V.splice(N,1);return}}s(Oa,"removePointer");function Ls(P){let N=O[P.pointerId];N===void 0&&(N=new ct,O[P.pointerId]=N),N.set(P.pageX,P.pageY)}s(Ls,"trackPointer");function fi(P){let N=P.pointerId===V[0].pointerId?V[1]:V[0];return O[N.pointerId]}s(fi,"getSecondPointerPosition"),this.dollyIn=(P=we())=>{ye(P),i.update()},this.dollyOut=(P=we())=>{de(P),i.update()},this.getScale=()=>_,this.setScale=P=>{fe(P),i.update()},this.getZoomScale=()=>we(),t!==void 0&&this.connect(t),this.update()}};s(mm,"OrbitControls");var Ms=mm;var Vn=j(Se());var vm=Vn.forwardRef(({makeDefault:r,camera:e,regress:t,domElement:i,enableDamping:u=!0,keyEvents:p=!1,onChange:h,onStart:f,onEnd:w,...b},m)=>{let v=pn(I=>I.invalidate),_=pn(I=>I.camera),k=pn(I=>I.gl),L=pn(I=>I.events),A=pn(I=>I.setEvents),M=pn(I=>I.set),E=pn(I=>I.get),T=pn(I=>I.performance),D=e||_,K=i||L.connected||k.domElement,B=Vn.useMemo(()=>new Ms(D),[D]);return Cs(()=>{B.enabled&&B.update()},-1),Vn.useEffect(()=>(p&&B.connect(p===!0?K:p),B.connect(K),()=>void B.dispose()),[p,K,t,B,v]),Vn.useEffect(()=>{let I=s(U=>{v(),t&&T.regress(),h&&h(U)},"callback"),Q=s(U=>{f&&f(U)},"onStartCb"),$=s(U=>{w&&w(U)},"onEndCb");return B.addEventListener("change",I),B.addEventListener("start",Q),B.addEventListener("end",$),()=>{B.removeEventListener("start",Q),B.removeEventListener("end",$),B.removeEventListener("change",I)}},[h,f,w,B,v,A]),Vn.useEffect(()=>{if(r){let I=E().controls;return M({controls:B}),()=>M({controls:I})}},[r,B]),Vn.createElement("primitive",ni({ref:m,object:B,enableDamping:u},b))});var ke=j(te());function Ca({isIndex:r=!1}){let[e,t]=(0,or.useState)(null),[i,u]=(0,or.useState)(0),{day:p}=og();return(0,or.useEffect)(()=>{Cg(h=>{let f=Date.now(),w=Gg(f),b=r?w:parseInt(p||w);u(b);let m=h(b);t(m)})},[p,u,r,t]),(0,ke.jsxs)("div",{style:{"user-select":"none"},children:[(0,ke.jsx)("h1",{children:"VSOP"}),e&&(0,ke.jsx)(JE,{id:ie,planetCoords:e}),(0,ke.jsxs)("p",{children:["The semi-analytic planetary theory VSOP",(0,ke.jsx)("a",{href:"https://en.wikipedia.org/wiki/VSOP_model",target:"_new",children:"Variations S\xE9culaires des Orbites Plan\xE9taires (VSOP)"})," is a mathematical model describing long-term changes (secular variation) in the orbits of the planets Mercury to Neptune."]}),(0,ke.jsxs)("p",{children:["The theory is implemented by the ",(0,ke.jsx)("a",{href:"https://github.com/gmarty/vsop87",target:"_new",children:"vsop87"})," library."]}),(0,ke.jsxs)("p",{children:["See ",(0,ke.jsx)("a",{href:"https://en.wikipedia.org/wiki/Julian_day",target:"_new",children:"https://en.wikipedia.org/wiki/Julian_day"})]}),(0,ke.jsxs)("p",{children:["Add /[number] to go to that day, e.g. ",(0,ke.jsx)(Ie,{to:"/vsop/0",children:"/0"})]}),(0,ke.jsxs)("p",{children:["Simulation Julian Day: ",i]}),(0,ke.jsxs)("p",{children:["Coordinates: ",(0,ke.jsx)("span",{style:{whiteSpace:"pre"},children:JSON.stringify(e,null,2)})]})]})}s(Ca,"VSOP");function JE({id:r,planetCoords:e}){return(0,ke.jsx)("div",{id:r,style:{width:"400px",height:"400px"},children:(0,ke.jsx)($E,{planetCoords:e})})}s(JE,"ViewerContainer");function Xb(r){let e=(0,or.useRef)(),[t,i]=(0,or.useState)(!1),[u,p]=(0,or.useState)(!1);return(0,ke.jsxs)("mesh",{...r,ref:e,scale:u?1.5:1,onClick:h=>p(!u),onPointerOver:h=>i(!0),onPointerOut:h=>i(!1),children:[(0,ke.jsx)("sphereGeometry",{args:[r.radius||.1,32,16]}),(0,ke.jsx)("meshStandardMaterial",{color:t?"hotpink":"white",emissive:r.name==="sun"?"yellow":"black"}),(0,ke.jsx)(hm,{className:"label",children:r.name})]})}s(Xb,"Planet");function $E({planetCoords:r}){return(0,ke.jsxs)(Gb,{frameloop:"demand",children:[(0,ke.jsx)("ambientLight",{intensity:.01}),(0,ke.jsx)("pointLight",{position:[0,0,0],decay:0,intensity:Math.PI}),(0,ke.jsx)(Xb,{position:[0,0,0],radius:.2,name:"sun"}),Object.entries(r).map((t,i)=>(0,ke.jsx)(Xb,{name:t[0],position:[2*t[1].x,2*t[1].z,2*t[1].y]},i)),(0,ke.jsx)(vm,{})]})}s($E,"SolarSystem");var zM=j(Se());var He=j(te());function gm(){return(0,He.jsxs)(He.Fragment,{children:[(0,He.jsx)("h1",{children:"Welcome"}),(0,He.jsx)("p",{children:"This is the developer guide for Universe."}),(0,He.jsxs)("p",{children:["Universe is written using the ",(0,He.jsx)("a",{href:"https://threejs.org/",children:"three.js"})," library for most of the graphics.  Three.js is a productivity layer on top of the ",(0,He.jsx)("a",{href:"https://en.wikipedia.org/wiki/WebGL",children:"WebGL"})," capability available in all modern browsers."]}),(0,He.jsx)("p",{children:"The topic guide to the left steps through how each of the main functions of Universe are built."}),(0,He.jsx)("p",{children:"Background reading:"}),(0,He.jsx)("ul",{children:(0,He.jsxs)("li",{children:[(0,He.jsx)("a",{href:"https://webglfundamentals.org/",children:"WebGL Fundamentals"})," - deeper dive into WebGL",(0,He.jsxs)("ul",{children:[(0,He.jsx)("li",{children:(0,He.jsx)("a",{href:"http://acko.net/files/gltalks/pixelfactory/online.html#0",children:"The Pixel Factory"})}),(0,He.jsx)("li",{children:(0,He.jsx)("a",{href:"https://webglfundamentals.org/webgl/lessons/webgl-shaders-and-glsl.html",children:"WebGL Shaders and GLSL"})}),(0,He.jsx)("li",{children:(0,He.jsx)("a",{href:"https://thebookofshaders.com/",children:"The Book of Shaders"})})]})]})}),(0,He.jsxs)("p",{children:["Back to the ",(0,He.jsx)(Ie,{href:"~/",children:"app"}),"."]})]})}s(gm,"Welcome");var Jb=j(Zb());var ne=j(te());function rS(){let[r,e]=(0,Ra.useState)(!1),[t]=Rl(),i=Jg();return(0,Ra.useEffect)(()=>{kg(t,"Guide")},[t]),document.body.style.overflow="inherit",(0,ne.jsxs)(Vi,{sx:{width:"100%","& h1":{display:"inline-block"},"& .MuiIconButton-root":{margin:"0 0.5em 0.5em 0.5em"},"& div, & p, & table, & ul":{margin:"1em"}},children:[(0,ne.jsx)(nc,{anchor:i?"bottom":"left",open:r,onClose:()=>e(!1),ModalProps:{keepMounted:!0},children:(0,ne.jsx)(Ef,{})}),(0,ne.jsxs)(Vi,{children:[(0,ne.jsx)(e0,{tip:"Sections",icon:(0,ne.jsx)(Jb.default,{}),onClick:()=>e(!r)}),(0,ne.jsx)(Xe,{path:"/",children:(0,ne.jsx)(gm,{})}),(0,ne.jsx)(Xe,{path:"/angles",children:(0,ne.jsx)(rc,{})}),(0,ne.jsx)(Xe,{path:"/asterisms",children:(0,ne.jsx)(oc,{})}),(0,ne.jsx)(Xe,{path:"/atmosphere",children:(0,ne.jsx)(pf,{})}),(0,ne.jsx)(Xe,{path:"/cube",children:(0,ne.jsx)(df,{})}),(0,ne.jsx)(Xe,{path:"/galaxy",nest:!0,children:(0,ne.jsx)(vf,{})}),(0,ne.jsx)(Xe,{path:"/grid",children:(0,ne.jsx)(gf,{})}),(0,ne.jsx)(Xe,{path:"/labels",children:(0,ne.jsx)(wf,{})}),(0,ne.jsx)(Xe,{path:"/loader",children:(0,ne.jsx)(bf,{})}),(0,ne.jsx)(Xe,{path:"/measure",children:(0,ne.jsx)(yf,{})}),(0,ne.jsx)(Xe,{path:"/orbit",children:(0,ne.jsx)(Pf,{})}),(0,ne.jsx)(Xe,{path:"/picking",children:(0,ne.jsx)(Sf,{})}),(0,ne.jsx)(Xe,{path:"/planet",children:(0,ne.jsx)(Cf,{})}),(0,ne.jsx)(Xe,{path:"/sphere",children:(0,ne.jsx)(hf,{})}),(0,ne.jsx)(Xe,{path:"/star",children:(0,ne.jsx)(Rf,{})}),(0,ne.jsx)(Xe,{path:"/stars",children:(0,ne.jsx)(Mf,{})}),(0,ne.jsx)(Xe,{path:"/vsop",children:(0,ne.jsx)(Ca,{})}),(0,ne.jsx)(Xe,{path:"/vsop/:day",children:(0,ne.jsx)(Ca,{})})]})]})}s(rS,"Guide");export{rS as default};
/*! Bundled license information:

react-reconciler/cjs/react-reconciler-constants.production.min.js:
  (**
   * @license React
   * react-reconciler-constants.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.min.js:
  (**
   * @license React
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-reconciler/cjs/react-reconciler.production.min.js:
  (**
   * @license React
   * react-reconciler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

tweakpane/dist/tweakpane.js:
  (*! Tweakpane 4.0.3 (c) 2016 cocopon, licensed under the MIT license. *)
*/
//# sourceMappingURL=Guide-NYNC3UOO.js.map
